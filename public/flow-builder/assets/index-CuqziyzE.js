(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function l(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(s){if(s.ep)return;s.ep=!0;const c=l(s);fetch(s.href,c)}})();function Hf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Gd={exports:{}},br={};var Fp;function r2(){if(Fp)return br;Fp=1;var t=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function l(o,s,c){var d=null;if(c!==void 0&&(d=""+c),s.key!==void 0&&(d=""+s.key),"key"in s){c={};for(var m in s)m!=="key"&&(c[m]=s[m])}else c=s;return s=c.ref,{$$typeof:t,type:o,key:d,ref:s!==void 0?s:null,props:c}}return br.Fragment=i,br.jsx=l,br.jsxs=l,br}var Jp;function o2(){return Jp||(Jp=1,Gd.exports=r2()),Gd.exports}var f=o2(),Zd={exports:{}},we={};var Pp;function s2(){if(Pp)return we;Pp=1;var t=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),v=Symbol.iterator;function E(D){return D===null||typeof D!="object"?null:(D=v&&D[v]||D["@@iterator"],typeof D=="function"?D:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,w={};function N(D,Y,P){this.props=D,this.context=Y,this.refs=w,this.updater=P||_}N.prototype.isReactComponent={},N.prototype.setState=function(D,Y){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Y,"setState")},N.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function j(){}j.prototype=N.prototype;function S(D,Y,P){this.props=D,this.context=Y,this.refs=w,this.updater=P||_}var z=S.prototype=new j;z.constructor=S,T(z,N.prototype),z.isPureReactComponent=!0;var k=Array.isArray;function U(){}var R={H:null,A:null,T:null,S:null},V=Object.prototype.hasOwnProperty;function J(D,Y,P){var te=P.ref;return{$$typeof:t,type:D,key:Y,ref:te!==void 0?te:null,props:P}}function re(D,Y){return J(D.type,Y,D.props)}function K(D){return typeof D=="object"&&D!==null&&D.$$typeof===t}function Q(D){var Y={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(P){return Y[P]})}var le=/\/+/g;function B(D,Y){return typeof D=="object"&&D!==null&&D.key!=null?Q(""+D.key):Y.toString(36)}function G(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(U,U):(D.status="pending",D.then(function(Y){D.status==="pending"&&(D.status="fulfilled",D.value=Y)},function(Y){D.status==="pending"&&(D.status="rejected",D.reason=Y)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function A(D,Y,P,te,se){var ce=typeof D;(ce==="undefined"||ce==="boolean")&&(D=null);var ue=!1;if(D===null)ue=!0;else switch(ce){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(D.$$typeof){case t:case i:ue=!0;break;case x:return ue=D._init,A(ue(D._payload),Y,P,te,se)}}if(ue)return se=se(D),ue=te===""?"."+B(D,0):te,k(se)?(P="",ue!=null&&(P=ue.replace(le,"$&/")+"/"),A(se,Y,P,"",function(ve){return ve})):se!=null&&(K(se)&&(se=re(se,P+(se.key==null||D&&D.key===se.key?"":(""+se.key).replace(le,"$&/")+"/")+ue)),Y.push(se)),1;ue=0;var oe=te===""?".":te+":";if(k(D))for(var de=0;de<D.length;de++)te=D[de],ce=oe+B(te,de),ue+=A(te,Y,P,ce,se);else if(de=E(D),typeof de=="function")for(D=de.call(D),de=0;!(te=D.next()).done;)te=te.value,ce=oe+B(te,de++),ue+=A(te,Y,P,ce,se);else if(ce==="object"){if(typeof D.then=="function")return A(G(D),Y,P,te,se);throw Y=String(D),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ue}function O(D,Y,P){if(D==null)return D;var te=[],se=0;return A(D,te,"","",function(ce){return Y.call(P,ce,se++)}),te}function L(D){if(D._status===-1){var Y=D._result;Y=Y(),Y.then(function(P){(D._status===0||D._status===-1)&&(D._status=1,D._result=P)},function(P){(D._status===0||D._status===-1)&&(D._status=2,D._result=P)}),D._status===-1&&(D._status=0,D._result=Y)}if(D._status===1)return D._result.default;throw D._result}var $=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},ee={map:O,forEach:function(D,Y,P){O(D,function(){Y.apply(this,arguments)},P)},count:function(D){var Y=0;return O(D,function(){Y++}),Y},toArray:function(D){return O(D,function(Y){return Y})||[]},only:function(D){if(!K(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return we.Activity=y,we.Children=ee,we.Component=N,we.Fragment=l,we.Profiler=s,we.PureComponent=S,we.StrictMode=o,we.Suspense=p,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,we.__COMPILER_RUNTIME={__proto__:null,c:function(D){return R.H.useMemoCache(D)}},we.cache=function(D){return function(){return D.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(D,Y,P){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var te=T({},D.props),se=D.key;if(Y!=null)for(ce in Y.key!==void 0&&(se=""+Y.key),Y)!V.call(Y,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&Y.ref===void 0||(te[ce]=Y[ce]);var ce=arguments.length-2;if(ce===1)te.children=P;else if(1<ce){for(var ue=Array(ce),oe=0;oe<ce;oe++)ue[oe]=arguments[oe+2];te.children=ue}return J(D.type,se,te)},we.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},we.createElement=function(D,Y,P){var te,se={},ce=null;if(Y!=null)for(te in Y.key!==void 0&&(ce=""+Y.key),Y)V.call(Y,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(se[te]=Y[te]);var ue=arguments.length-2;if(ue===1)se.children=P;else if(1<ue){for(var oe=Array(ue),de=0;de<ue;de++)oe[de]=arguments[de+2];se.children=oe}if(D&&D.defaultProps)for(te in ue=D.defaultProps,ue)se[te]===void 0&&(se[te]=ue[te]);return J(D,ce,se)},we.createRef=function(){return{current:null}},we.forwardRef=function(D){return{$$typeof:m,render:D}},we.isValidElement=K,we.lazy=function(D){return{$$typeof:x,_payload:{_status:-1,_result:D},_init:L}},we.memo=function(D,Y){return{$$typeof:g,type:D,compare:Y===void 0?null:Y}},we.startTransition=function(D){var Y=R.T,P={};R.T=P;try{var te=D(),se=R.S;se!==null&&se(P,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(U,$)}catch(ce){$(ce)}finally{Y!==null&&P.types!==null&&(Y.types=P.types),R.T=Y}},we.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},we.use=function(D){return R.H.use(D)},we.useActionState=function(D,Y,P){return R.H.useActionState(D,Y,P)},we.useCallback=function(D,Y){return R.H.useCallback(D,Y)},we.useContext=function(D){return R.H.useContext(D)},we.useDebugValue=function(){},we.useDeferredValue=function(D,Y){return R.H.useDeferredValue(D,Y)},we.useEffect=function(D,Y){return R.H.useEffect(D,Y)},we.useEffectEvent=function(D){return R.H.useEffectEvent(D)},we.useId=function(){return R.H.useId()},we.useImperativeHandle=function(D,Y,P){return R.H.useImperativeHandle(D,Y,P)},we.useInsertionEffect=function(D,Y){return R.H.useInsertionEffect(D,Y)},we.useLayoutEffect=function(D,Y){return R.H.useLayoutEffect(D,Y)},we.useMemo=function(D,Y){return R.H.useMemo(D,Y)},we.useOptimistic=function(D,Y){return R.H.useOptimistic(D,Y)},we.useReducer=function(D,Y,P){return R.H.useReducer(D,Y,P)},we.useRef=function(D){return R.H.useRef(D)},we.useState=function(D){return R.H.useState(D)},we.useSyncExternalStore=function(D,Y,P){return R.H.useSyncExternalStore(D,Y,P)},we.useTransition=function(){return R.H.useTransition()},we.version="19.2.3",we}var Ip;function Vr(){return Ip||(Ip=1,Zd.exports=s2()),Zd.exports}var M=Vr();const ll=Hf(M);var Qd={exports:{}},wr={},Wd={exports:{}},Kd={};var e0;function u2(){return e0||(e0=1,(function(t){function i(A,O){var L=A.length;A.push(O);e:for(;0<L;){var $=L-1>>>1,ee=A[$];if(0<s(ee,O))A[$]=O,A[L]=ee,L=$;else break e}}function l(A){return A.length===0?null:A[0]}function o(A){if(A.length===0)return null;var O=A[0],L=A.pop();if(L!==O){A[0]=L;e:for(var $=0,ee=A.length,D=ee>>>1;$<D;){var Y=2*($+1)-1,P=A[Y],te=Y+1,se=A[te];if(0>s(P,L))te<ee&&0>s(se,P)?(A[$]=se,A[te]=L,$=te):(A[$]=P,A[Y]=L,$=Y);else if(te<ee&&0>s(se,L))A[$]=se,A[te]=L,$=te;else break e}}return O}function s(A,O){var L=A.sortIndex-O.sortIndex;return L!==0?L:A.id-O.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var d=Date,m=d.now();t.unstable_now=function(){return d.now()-m}}var p=[],g=[],x=1,y=null,v=3,E=!1,_=!1,T=!1,w=!1,N=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function z(A){for(var O=l(g);O!==null;){if(O.callback===null)o(g);else if(O.startTime<=A)o(g),O.sortIndex=O.expirationTime,i(p,O);else break;O=l(g)}}function k(A){if(T=!1,z(A),!_)if(l(p)!==null)_=!0,U||(U=!0,Q());else{var O=l(g);O!==null&&G(k,O.startTime-A)}}var U=!1,R=-1,V=5,J=-1;function re(){return w?!0:!(t.unstable_now()-J<V)}function K(){if(w=!1,U){var A=t.unstable_now();J=A;var O=!0;try{e:{_=!1,T&&(T=!1,j(R),R=-1),E=!0;var L=v;try{t:{for(z(A),y=l(p);y!==null&&!(y.expirationTime>A&&re());){var $=y.callback;if(typeof $=="function"){y.callback=null,v=y.priorityLevel;var ee=$(y.expirationTime<=A);if(A=t.unstable_now(),typeof ee=="function"){y.callback=ee,z(A),O=!0;break t}y===l(p)&&o(p),z(A)}else o(p);y=l(p)}if(y!==null)O=!0;else{var D=l(g);D!==null&&G(k,D.startTime-A),O=!1}}break e}finally{y=null,v=L,E=!1}O=void 0}}finally{O?Q():U=!1}}}var Q;if(typeof S=="function")Q=function(){S(K)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,B=le.port2;le.port1.onmessage=K,Q=function(){B.postMessage(null)}}else Q=function(){N(K,0)};function G(A,O){R=N(function(){A(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(A){switch(v){case 1:case 2:case 3:var O=3;break;default:O=v}var L=v;v=O;try{return A()}finally{v=L}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(A,O){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var L=v;v=A;try{return O()}finally{v=L}},t.unstable_scheduleCallback=function(A,O,L){var $=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?$+L:$):L=$,A){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=L+ee,A={id:x++,callback:O,priorityLevel:A,startTime:L,expirationTime:ee,sortIndex:-1},L>$?(A.sortIndex=L,i(g,A),l(p)===null&&A===l(g)&&(T?(j(R),R=-1):T=!0,G(k,L-$))):(A.sortIndex=ee,i(p,A),_||E||(_=!0,U||(U=!0,Q()))),A},t.unstable_shouldYield=re,t.unstable_wrapCallback=function(A){var O=v;return function(){var L=v;v=O;try{return A.apply(this,arguments)}finally{v=L}}}})(Kd)),Kd}var t0;function c2(){return t0||(t0=1,Wd.exports=u2()),Wd.exports}var Fd={exports:{}},xt={};var n0;function d2(){if(n0)return xt;n0=1;var t=Vr();function i(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)g+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var o={d:{f:l,r:function(){throw Error(i(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},s=Symbol.for("react.portal");function c(p,g,x){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:p,containerInfo:g,implementation:x}}var d=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,xt.createPortal=function(p,g){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(i(299));return c(p,g,null,x)},xt.flushSync=function(p){var g=d.T,x=o.p;try{if(d.T=null,o.p=2,p)return p()}finally{d.T=g,o.p=x,o.d.f()}},xt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,o.d.C(p,g))},xt.prefetchDNS=function(p){typeof p=="string"&&o.d.D(p)},xt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var x=g.as,y=m(x,g.crossOrigin),v=typeof g.integrity=="string"?g.integrity:void 0,E=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;x==="style"?o.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:E}):x==="script"&&o.d.X(p,{crossOrigin:y,integrity:v,fetchPriority:E,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},xt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var x=m(g.as,g.crossOrigin);o.d.M(p,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&o.d.M(p)},xt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var x=g.as,y=m(x,g.crossOrigin);o.d.L(p,x,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},xt.preloadModule=function(p,g){if(typeof p=="string")if(g){var x=m(g.as,g.crossOrigin);o.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else o.d.m(p)},xt.requestFormReset=function(p){o.d.r(p)},xt.unstable_batchedUpdates=function(p,g){return p(g)},xt.useFormState=function(p,g,x){return d.H.useFormState(p,g,x)},xt.useFormStatus=function(){return d.H.useHostTransitionStatus()},xt.version="19.2.3",xt}var a0;function Ay(){if(a0)return Fd.exports;a0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(i){console.error(i)}}return t(),Fd.exports=d2(),Fd.exports}var i0;function f2(){if(i0)return wr;i0=1;var t=c2(),i=Vr(),l=Ay();function o(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(c(e)!==e)throw Error(o(188))}function g(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(o(188));return n!==e?null:e}for(var a=e,r=n;;){var u=a.return;if(u===null)break;var h=u.alternate;if(h===null){if(r=u.return,r!==null){a=r;continue}break}if(u.child===h.child){for(h=u.child;h;){if(h===a)return p(u),e;if(h===r)return p(u),n;h=h.sibling}throw Error(o(188))}if(a.return!==r.return)a=u,r=h;else{for(var b=!1,C=u.child;C;){if(C===a){b=!0,a=u,r=h;break}if(C===r){b=!0,r=u,a=h;break}C=C.sibling}if(!b){for(C=h.child;C;){if(C===a){b=!0,a=h,r=u;break}if(C===r){b=!0,r=h,a=u;break}C=C.sibling}if(!b)throw Error(o(189))}}if(a.alternate!==r)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?e:n}function x(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=x(e),n!==null)return n;e=e.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),S=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),re=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function Q(e){return e===null||typeof e!="object"?null:(e=K&&e[K]||e["@@iterator"],typeof e=="function"?e:null)}var le=Symbol.for("react.client.reference");function B(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===le?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case T:return"Fragment";case N:return"Profiler";case w:return"StrictMode";case k:return"Suspense";case U:return"SuspenseList";case J:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case _:return"Portal";case S:return e.displayName||"Context";case j:return(e._context.displayName||"Context")+".Consumer";case z:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case R:return n=e.displayName||null,n!==null?n:B(e.type)||"Memo";case V:n=e._payload,e=e._init;try{return B(e(n))}catch{}}return null}var G=Array.isArray,A=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},$=[],ee=-1;function D(e){return{current:e}}function Y(e){0>ee||(e.current=$[ee],$[ee]=null,ee--)}function P(e,n){ee++,$[ee]=e.current,e.current=n}var te=D(null),se=D(null),ce=D(null),ue=D(null);function oe(e,n){switch(P(ce,n),P(se,e),P(te,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?vp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=vp(n),e=bp(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(te),P(te,e)}function de(){Y(te),Y(se),Y(ce)}function ve(e){e.memoizedState!==null&&P(ue,e);var n=te.current,a=bp(n,e.type);n!==a&&(P(se,e),P(te,a))}function be(e){se.current===e&&(Y(te),Y(se)),ue.current===e&&(Y(ue),pr._currentValue=L)}var ge,xe;function Ne(e){if(ge===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ge=n&&n[1]||"",xe=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ge+e+xe}var He=!1;function je(e,n){if(!e||He)return"";He=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(n){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(I){var F=I}Reflect.construct(e,[],ie)}else{try{ie.call()}catch(I){F=I}e.call(ie.prototype)}}else{try{throw Error()}catch(I){F=I}(ie=e())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(I){if(I&&F&&typeof I.stack=="string")return[I.stack,F.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=r.DetermineComponentFrameRoot(),b=h[0],C=h[1];if(b&&C){var H=b.split(`
`),W=C.split(`
`);for(u=r=0;r<H.length&&!H[r].includes("DetermineComponentFrameRoot");)r++;for(;u<W.length&&!W[u].includes("DetermineComponentFrameRoot");)u++;if(r===H.length||u===W.length)for(r=H.length-1,u=W.length-1;1<=r&&0<=u&&H[r]!==W[u];)u--;for(;1<=r&&0<=u;r--,u--)if(H[r]!==W[u]){if(r!==1||u!==1)do if(r--,u--,0>u||H[r]!==W[u]){var ne=`
`+H[r].replace(" at new "," at ");return e.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",e.displayName)),ne}while(1<=r&&0<=u);break}}}finally{He=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ne(a):""}function Pe(e,n){switch(e.tag){case 26:case 27:case 5:return Ne(e.type);case 16:return Ne("Lazy");case 13:return e.child!==n&&n!==null?Ne("Suspense Fallback"):Ne("Suspense");case 19:return Ne("SuspenseList");case 0:case 15:return je(e.type,!1);case 11:return je(e.type.render,!1);case 1:return je(e.type,!0);case 31:return Ne("Activity");default:return""}}function St(e){try{var n="",a=null;do n+=Pe(e,a),a=e,e=e.return;while(e);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var pt=Object.prototype.hasOwnProperty,Jt=t.unstable_scheduleCallback,Sn=t.unstable_cancelCallback,Ra=t.unstable_shouldYield,Oa=t.unstable_requestPaint,dt=t.unstable_now,gi=t.unstable_getCurrentPriorityLevel,En=t.unstable_ImmediatePriority,In=t.unstable_UserBlockingPriority,Ha=t.unstable_NormalPriority,Mu=t.unstable_LowPriority,pi=t.unstable_IdlePriority,Tu=t.log,zu=t.unstable_setDisableYieldValue,ka=null,vt=null;function cn(e){if(typeof Tu=="function"&&zu(e),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode(ka,e)}catch{}}var bt=Math.clz32?Math.clz32:Ru,Au=Math.log,Du=Math.LN2;function Ru(e){return e>>>=0,e===0?32:31-(Au(e)/Du|0)|0}var yi=256,xi=262144,vi=4194304;function Nn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function bi(e,n,a){var r=e.pendingLanes;if(r===0)return 0;var u=0,h=e.suspendedLanes,b=e.pingedLanes;e=e.warmLanes;var C=r&134217727;return C!==0?(r=C&~h,r!==0?u=Nn(r):(b&=C,b!==0?u=Nn(b):a||(a=C&~e,a!==0&&(u=Nn(a))))):(C=r&~h,C!==0?u=Nn(C):b!==0?u=Nn(b):a||(a=r&~e,a!==0&&(u=Nn(a)))),u===0?0:n!==0&&n!==u&&(n&h)===0&&(h=u&-u,a=n&-n,h>=a||h===32&&(a&4194048)!==0)?n:u}function Ba(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ou(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function no(){var e=vi;return vi<<=1,(vi&62914560)===0&&(vi=4194304),e}function Cl(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function La(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Hu(e,n,a,r,u,h){var b=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var C=e.entanglements,H=e.expirationTimes,W=e.hiddenUpdates;for(a=b&~a;0<a;){var ne=31-bt(a),ie=1<<ne;C[ne]=0,H[ne]=-1;var F=W[ne];if(F!==null)for(W[ne]=null,ne=0;ne<F.length;ne++){var I=F[ne];I!==null&&(I.lane&=-536870913)}a&=~ie}r!==0&&ao(e,r,0),h!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=h&~(b&~n))}function ao(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var r=31-bt(n);e.entangledLanes|=n,e.entanglements[r]=e.entanglements[r]|1073741824|a&261930}function io(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var r=31-bt(a),u=1<<r;u&n|e[r]&n&&(e[r]|=n),a&=~u}}function lo(e,n){var a=n&-n;return a=(a&42)!==0?1:Ml(a),(a&(e.suspendedLanes|n))!==0?0:a}function Ml(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Tl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ro(){var e=O.p;return e!==0?e:(e=window.event,e===void 0?32:$p(e.type))}function oo(e,n){var a=O.p;try{return O.p=e,n()}finally{O.p=a}}var dn=Math.random().toString(36).slice(2),ot="__reactFiber$"+dn,yt="__reactProps$"+dn,jn="__reactContainer$"+dn,wi="__reactEvents$"+dn,so="__reactListeners$"+dn,ku="__reactHandles$"+dn,uo="__reactResources$"+dn,Ua="__reactMarker$"+dn;function zl(e){delete e[ot],delete e[yt],delete e[wi],delete e[so],delete e[ku]}function ea(e){var n=e[ot];if(n)return n;for(var a=e.parentNode;a;){if(n=a[jn]||a[ot]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=Cp(e);e!==null;){if(a=e[ot])return a;e=Cp(e)}return n}e=a,a=e.parentNode}return null}function ta(e){if(e=e[ot]||e[jn]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function na(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(o(33))}function aa(e){var n=e[uo];return n||(n=e[uo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function tt(e){e[Ua]=!0}var co=new Set,fo={};function _n(e,n){ia(e,n),ia(e+"Capture",n)}function ia(e,n){for(fo[e]=n,e=0;e<n.length;e++)co.add(n[e])}var Bu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Al={},ho={};function Lu(e){return pt.call(ho,e)?!0:pt.call(Al,e)?!1:Bu.test(e)?ho[e]=!0:(Al[e]=!0,!1)}function Si(e,n,a){if(Lu(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var r=n.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Ei(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Pt(e,n,a,r){if(r===null)e.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+r)}}function Et(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mo(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Uu(e,n,a){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,h=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(b){a=""+b,h.call(this,b)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(b){a=""+b},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ni(e){if(!e._valueTracker){var n=mo(e)?"checked":"value";e._valueTracker=Uu(e,n,""+e[n])}}function go(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),r="";return e&&(r=mo(e)?e.checked?"true":"false":e.value),e=r,e!==a?(n.setValue(e),!0):!1}function Ya(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Yu=/[\n"\\]/g;function Nt(e){return e.replace(Yu,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function qa(e,n,a,r,u,h,b,C){e.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.type=b:e.removeAttribute("type"),n!=null?b==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Et(n)):e.value!==""+Et(n)&&(e.value=""+Et(n)):b!=="submit"&&b!=="reset"||e.removeAttribute("value"),n!=null?Dl(e,b,Et(n)):a!=null?Dl(e,b,Et(a)):r!=null&&e.removeAttribute("value"),u==null&&h!=null&&(e.defaultChecked=!!h),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.name=""+Et(C):e.removeAttribute("name")}function po(e,n,a,r,u,h,b,C){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),n!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){Ni(e);return}a=a!=null?""+Et(a):"",n=n!=null?""+Et(n):a,C||n===e.value||(e.value=n),e.defaultValue=n}r=r??u,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=C?e.checked:!!r,e.defaultChecked=!!r,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.name=b),Ni(e)}function Dl(e,n,a){n==="number"&&Ya(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Cn(e,n,a,r){if(e=e.options,n){n={};for(var u=0;u<a.length;u++)n["$"+a[u]]=!0;for(a=0;a<e.length;a++)u=n.hasOwnProperty("$"+e[a].value),e[a].selected!==u&&(e[a].selected=u),u&&r&&(e[a].defaultSelected=!0)}else{for(a=""+Et(a),n=null,u=0;u<e.length;u++){if(e[u].value===a){e[u].selected=!0,r&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function mh(e,n,a){if(n!=null&&(n=""+Et(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Et(a):""}function gh(e,n,a,r){if(n==null){if(r!=null){if(a!=null)throw Error(o(92));if(G(r)){if(1<r.length)throw Error(o(93));r=r[0]}a=r}a==null&&(a=""),n=a}a=Et(n),e.defaultValue=a,r=e.textContent,r===a&&r!==""&&r!==null&&(e.value=r),Ni(e)}function ji(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var t1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ph(e,n,a){var r=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?r?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":r?e.setProperty(n,a):typeof a!="number"||a===0||t1.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function yh(e,n,a){if(n!=null&&typeof n!="object")throw Error(o(62));if(e=e.style,a!=null){for(var r in a)!a.hasOwnProperty(r)||n!=null&&n.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var u in n)r=n[u],n.hasOwnProperty(u)&&a[u]!==r&&ph(e,u,r)}else for(var h in n)n.hasOwnProperty(h)&&ph(e,h,n[h])}function qu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var n1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),a1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yo(e){return a1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Mn(){}var Vu=null;function $u(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _i=null,Ci=null;function xh(e){var n=ta(e);if(n&&(e=n.stateNode)){var a=e[yt]||null;e:switch(e=n.stateNode,n.type){case"input":if(qa(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Nt(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var r=a[n];if(r!==e&&r.form===e.form){var u=r[yt]||null;if(!u)throw Error(o(90));qa(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<a.length;n++)r=a[n],r.form===e.form&&go(r)}break e;case"textarea":mh(e,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Cn(e,!!a.multiple,n,!1)}}}var Xu=!1;function vh(e,n,a){if(Xu)return e(n,a);Xu=!0;try{var r=e(n);return r}finally{if(Xu=!1,(_i!==null||Ci!==null)&&(is(),_i&&(n=_i,e=Ci,Ci=_i=null,xh(n),e)))for(n=0;n<e.length;n++)xh(e[n])}}function Rl(e,n){var a=e.stateNode;if(a===null)return null;var r=a[yt]||null;if(r===null)return null;a=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(o(231,n,typeof a));return a}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gu=!1;if(Tn)try{var Ol={};Object.defineProperty(Ol,"passive",{get:function(){Gu=!0}}),window.addEventListener("test",Ol,Ol),window.removeEventListener("test",Ol,Ol)}catch{Gu=!1}var la=null,Zu=null,xo=null;function bh(){if(xo)return xo;var e,n=Zu,a=n.length,r,u="value"in la?la.value:la.textContent,h=u.length;for(e=0;e<a&&n[e]===u[e];e++);var b=a-e;for(r=1;r<=b&&n[a-r]===u[h-r];r++);return xo=u.slice(e,1<r?1-r:void 0)}function vo(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function bo(){return!0}function wh(){return!1}function jt(e){function n(a,r,u,h,b){this._reactName=a,this._targetInst=u,this.type=r,this.nativeEvent=h,this.target=b,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(a=e[C],this[C]=a?a(h):h[C]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?bo:wh,this.isPropagationStopped=wh,this}return y(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=bo)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=bo)},persist:function(){},isPersistent:bo}),n}var Va={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wo=jt(Va),Hl=y({},Va,{view:0,detail:0}),i1=jt(Hl),Qu,Wu,kl,So=y({},Hl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==kl&&(kl&&e.type==="mousemove"?(Qu=e.screenX-kl.screenX,Wu=e.screenY-kl.screenY):Wu=Qu=0,kl=e),Qu)},movementY:function(e){return"movementY"in e?e.movementY:Wu}}),Sh=jt(So),l1=y({},So,{dataTransfer:0}),r1=jt(l1),o1=y({},Hl,{relatedTarget:0}),Ku=jt(o1),s1=y({},Va,{animationName:0,elapsedTime:0,pseudoElement:0}),u1=jt(s1),c1=y({},Va,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),d1=jt(c1),f1=y({},Va,{data:0}),Eh=jt(f1),h1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},m1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},g1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function p1(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=g1[e])?!!n[e]:!1}function Fu(){return p1}var y1=y({},Hl,{key:function(e){if(e.key){var n=h1[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=vo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?m1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fu,charCode:function(e){return e.type==="keypress"?vo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),x1=jt(y1),v1=y({},So,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nh=jt(v1),b1=y({},Hl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fu}),w1=jt(b1),S1=y({},Va,{propertyName:0,elapsedTime:0,pseudoElement:0}),E1=jt(S1),N1=y({},So,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),j1=jt(N1),_1=y({},Va,{newState:0,oldState:0}),C1=jt(_1),M1=[9,13,27,32],Ju=Tn&&"CompositionEvent"in window,Bl=null;Tn&&"documentMode"in document&&(Bl=document.documentMode);var T1=Tn&&"TextEvent"in window&&!Bl,jh=Tn&&(!Ju||Bl&&8<Bl&&11>=Bl),_h=" ",Ch=!1;function Mh(e,n){switch(e){case"keyup":return M1.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Th(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mi=!1;function z1(e,n){switch(e){case"compositionend":return Th(n);case"keypress":return n.which!==32?null:(Ch=!0,_h);case"textInput":return e=n.data,e===_h&&Ch?null:e;default:return null}}function A1(e,n){if(Mi)return e==="compositionend"||!Ju&&Mh(e,n)?(e=bh(),xo=Zu=la=null,Mi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return jh&&n.locale!=="ko"?null:n.data;default:return null}}var D1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!D1[e.type]:n==="textarea"}function Ah(e,n,a,r){_i?Ci?Ci.push(r):Ci=[r]:_i=r,n=ds(n,"onChange"),0<n.length&&(a=new wo("onChange","change",null,a,r),e.push({event:a,listeners:n}))}var Ll=null,Ul=null;function R1(e){hp(e,0)}function Eo(e){var n=na(e);if(go(n))return e}function Dh(e,n){if(e==="change")return n}var Rh=!1;if(Tn){var Pu;if(Tn){var Iu="oninput"in document;if(!Iu){var Oh=document.createElement("div");Oh.setAttribute("oninput","return;"),Iu=typeof Oh.oninput=="function"}Pu=Iu}else Pu=!1;Rh=Pu&&(!document.documentMode||9<document.documentMode)}function Hh(){Ll&&(Ll.detachEvent("onpropertychange",kh),Ul=Ll=null)}function kh(e){if(e.propertyName==="value"&&Eo(Ul)){var n=[];Ah(n,Ul,e,$u(e)),vh(R1,n)}}function O1(e,n,a){e==="focusin"?(Hh(),Ll=n,Ul=a,Ll.attachEvent("onpropertychange",kh)):e==="focusout"&&Hh()}function H1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Eo(Ul)}function k1(e,n){if(e==="click")return Eo(n)}function B1(e,n){if(e==="input"||e==="change")return Eo(n)}function L1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Dt=typeof Object.is=="function"?Object.is:L1;function Yl(e,n){if(Dt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),r=Object.keys(n);if(a.length!==r.length)return!1;for(r=0;r<a.length;r++){var u=a[r];if(!pt.call(n,u)||!Dt(e[u],n[u]))return!1}return!0}function Bh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lh(e,n){var a=Bh(e);e=0;for(var r;a;){if(a.nodeType===3){if(r=e+a.textContent.length,e<=n&&r>=n)return{node:a,offset:n-e};e=r}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Bh(a)}}function Uh(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Uh(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Yh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ya(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Ya(e.document)}return n}function ec(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var U1=Tn&&"documentMode"in document&&11>=document.documentMode,Ti=null,tc=null,ql=null,nc=!1;function qh(e,n,a){var r=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;nc||Ti==null||Ti!==Ya(r)||(r=Ti,"selectionStart"in r&&ec(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ql&&Yl(ql,r)||(ql=r,r=ds(tc,"onSelect"),0<r.length&&(n=new wo("onSelect","select",null,n,a),e.push({event:n,listeners:r}),n.target=Ti)))}function $a(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var zi={animationend:$a("Animation","AnimationEnd"),animationiteration:$a("Animation","AnimationIteration"),animationstart:$a("Animation","AnimationStart"),transitionrun:$a("Transition","TransitionRun"),transitionstart:$a("Transition","TransitionStart"),transitioncancel:$a("Transition","TransitionCancel"),transitionend:$a("Transition","TransitionEnd")},ac={},Vh={};Tn&&(Vh=document.createElement("div").style,"AnimationEvent"in window||(delete zi.animationend.animation,delete zi.animationiteration.animation,delete zi.animationstart.animation),"TransitionEvent"in window||delete zi.transitionend.transition);function Xa(e){if(ac[e])return ac[e];if(!zi[e])return e;var n=zi[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Vh)return ac[e]=n[a];return e}var $h=Xa("animationend"),Xh=Xa("animationiteration"),Gh=Xa("animationstart"),Y1=Xa("transitionrun"),q1=Xa("transitionstart"),V1=Xa("transitioncancel"),Zh=Xa("transitionend"),Qh=new Map,ic="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ic.push("scrollEnd");function It(e,n){Qh.set(e,n),_n(n,[e])}var No=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},$t=[],Ai=0,lc=0;function jo(){for(var e=Ai,n=lc=Ai=0;n<e;){var a=$t[n];$t[n++]=null;var r=$t[n];$t[n++]=null;var u=$t[n];$t[n++]=null;var h=$t[n];if($t[n++]=null,r!==null&&u!==null){var b=r.pending;b===null?u.next=u:(u.next=b.next,b.next=u),r.pending=u}h!==0&&Wh(a,u,h)}}function _o(e,n,a,r){$t[Ai++]=e,$t[Ai++]=n,$t[Ai++]=a,$t[Ai++]=r,lc|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function rc(e,n,a,r){return _o(e,n,a,r),Co(e)}function Ga(e,n){return _o(e,null,null,n),Co(e)}function Wh(e,n,a){e.lanes|=a;var r=e.alternate;r!==null&&(r.lanes|=a);for(var u=!1,h=e.return;h!==null;)h.childLanes|=a,r=h.alternate,r!==null&&(r.childLanes|=a),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(u=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,u&&n!==null&&(u=31-bt(a),e=h.hiddenUpdates,r=e[u],r===null?e[u]=[n]:r.push(n),n.lane=a|536870912),h):null}function Co(e){if(50<ur)throw ur=0,gd=null,Error(o(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Di={};function $1(e,n,a,r){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rt(e,n,a,r){return new $1(e,n,a,r)}function oc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zn(e,n){var a=e.alternate;return a===null?(a=Rt(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Kh(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Mo(e,n,a,r,u,h){var b=0;if(r=e,typeof e=="function")oc(e)&&(b=1);else if(typeof e=="string")b=Wb(e,a,te.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case J:return e=Rt(31,a,n,u),e.elementType=J,e.lanes=h,e;case T:return Za(a.children,u,h,n);case w:b=8,u|=24;break;case N:return e=Rt(12,a,n,u|2),e.elementType=N,e.lanes=h,e;case k:return e=Rt(13,a,n,u),e.elementType=k,e.lanes=h,e;case U:return e=Rt(19,a,n,u),e.elementType=U,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case S:b=10;break e;case j:b=9;break e;case z:b=11;break e;case R:b=14;break e;case V:b=16,r=null;break e}b=29,a=Error(o(130,e===null?"null":typeof e,"")),r=null}return n=Rt(b,a,n,u),n.elementType=e,n.type=r,n.lanes=h,n}function Za(e,n,a,r){return e=Rt(7,e,r,n),e.lanes=a,e}function sc(e,n,a){return e=Rt(6,e,null,n),e.lanes=a,e}function Fh(e){var n=Rt(18,null,null,0);return n.stateNode=e,n}function uc(e,n,a){return n=Rt(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Jh=new WeakMap;function Xt(e,n){if(typeof e=="object"&&e!==null){var a=Jh.get(e);return a!==void 0?a:(n={value:e,source:n,stack:St(n)},Jh.set(e,n),n)}return{value:e,source:n,stack:St(n)}}var Ri=[],Oi=0,To=null,Vl=0,Gt=[],Zt=0,ra=null,fn=1,hn="";function An(e,n){Ri[Oi++]=Vl,Ri[Oi++]=To,To=e,Vl=n}function Ph(e,n,a){Gt[Zt++]=fn,Gt[Zt++]=hn,Gt[Zt++]=ra,ra=e;var r=fn;e=hn;var u=32-bt(r)-1;r&=~(1<<u),a+=1;var h=32-bt(n)+u;if(30<h){var b=u-u%5;h=(r&(1<<b)-1).toString(32),r>>=b,u-=b,fn=1<<32-bt(n)+u|a<<u|r,hn=h+e}else fn=1<<h|a<<u|r,hn=e}function cc(e){e.return!==null&&(An(e,1),Ph(e,1,0))}function dc(e){for(;e===To;)To=Ri[--Oi],Ri[Oi]=null,Vl=Ri[--Oi],Ri[Oi]=null;for(;e===ra;)ra=Gt[--Zt],Gt[Zt]=null,hn=Gt[--Zt],Gt[Zt]=null,fn=Gt[--Zt],Gt[Zt]=null}function Ih(e,n){Gt[Zt++]=fn,Gt[Zt++]=hn,Gt[Zt++]=ra,fn=n.id,hn=n.overflow,ra=e}var ft=null,$e=null,ze=!1,oa=null,Qt=!1,fc=Error(o(519));function sa(e){var n=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $l(Xt(n,e)),fc}function em(e){var n=e.stateNode,a=e.type,r=e.memoizedProps;switch(n[ot]=e,n[yt]=r,a){case"dialog":Ce("cancel",n),Ce("close",n);break;case"iframe":case"object":case"embed":Ce("load",n);break;case"video":case"audio":for(a=0;a<dr.length;a++)Ce(dr[a],n);break;case"source":Ce("error",n);break;case"img":case"image":case"link":Ce("error",n),Ce("load",n);break;case"details":Ce("toggle",n);break;case"input":Ce("invalid",n),po(n,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Ce("invalid",n);break;case"textarea":Ce("invalid",n),gh(n,r.value,r.defaultValue,r.children)}a=r.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||r.suppressHydrationWarning===!0||yp(n.textContent,a)?(r.popover!=null&&(Ce("beforetoggle",n),Ce("toggle",n)),r.onScroll!=null&&Ce("scroll",n),r.onScrollEnd!=null&&Ce("scrollend",n),r.onClick!=null&&(n.onclick=Mn),n=!0):n=!1,n||sa(e,!0)}function tm(e){for(ft=e.return;ft;)switch(ft.tag){case 5:case 31:case 13:Qt=!1;return;case 27:case 3:Qt=!0;return;default:ft=ft.return}}function Hi(e){if(e!==ft)return!1;if(!ze)return tm(e),ze=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||zd(e.type,e.memoizedProps)),a=!a),a&&$e&&sa(e),tm(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));$e=_p(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));$e=_p(e)}else n===27?(n=$e,Sa(e.type)?(e=Hd,Hd=null,$e=e):$e=n):$e=ft?Kt(e.stateNode.nextSibling):null;return!0}function Qa(){$e=ft=null,ze=!1}function hc(){var e=oa;return e!==null&&(Tt===null?Tt=e:Tt.push.apply(Tt,e),oa=null),e}function $l(e){oa===null?oa=[e]:oa.push(e)}var mc=D(null),Wa=null,Dn=null;function ua(e,n,a){P(mc,n._currentValue),n._currentValue=a}function Rn(e){e._currentValue=mc.current,Y(mc)}function gc(e,n,a){for(;e!==null;){var r=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,r!==null&&(r.childLanes|=n)):r!==null&&(r.childLanes&n)!==n&&(r.childLanes|=n),e===a)break;e=e.return}}function pc(e,n,a,r){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var h=u.dependencies;if(h!==null){var b=u.child;h=h.firstContext;e:for(;h!==null;){var C=h;h=u;for(var H=0;H<n.length;H++)if(C.context===n[H]){h.lanes|=a,C=h.alternate,C!==null&&(C.lanes|=a),gc(h.return,a,e),r||(b=null);break e}h=C.next}}else if(u.tag===18){if(b=u.return,b===null)throw Error(o(341));b.lanes|=a,h=b.alternate,h!==null&&(h.lanes|=a),gc(b,a,e),b=null}else b=u.child;if(b!==null)b.return=u;else for(b=u;b!==null;){if(b===e){b=null;break}if(u=b.sibling,u!==null){u.return=b.return,b=u;break}b=b.return}u=b}}function ki(e,n,a,r){e=null;for(var u=n,h=!1;u!==null;){if(!h){if((u.flags&524288)!==0)h=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var b=u.alternate;if(b===null)throw Error(o(387));if(b=b.memoizedProps,b!==null){var C=u.type;Dt(u.pendingProps.value,b.value)||(e!==null?e.push(C):e=[C])}}else if(u===ue.current){if(b=u.alternate,b===null)throw Error(o(387));b.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(pr):e=[pr])}u=u.return}e!==null&&pc(n,e,a,r),n.flags|=262144}function zo(e){for(e=e.firstContext;e!==null;){if(!Dt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ka(e){Wa=e,Dn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ht(e){return nm(Wa,e)}function Ao(e,n){return Wa===null&&Ka(e),nm(e,n)}function nm(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Dn===null){if(e===null)throw Error(o(308));Dn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Dn=Dn.next=n;return a}var X1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,r){e.push(r)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},G1=t.unstable_scheduleCallback,Z1=t.unstable_NormalPriority,nt={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yc(){return{controller:new X1,data:new Map,refCount:0}}function Xl(e){e.refCount--,e.refCount===0&&G1(Z1,function(){e.controller.abort()})}var Gl=null,xc=0,Bi=0,Li=null;function Q1(e,n){if(Gl===null){var a=Gl=[];xc=0,Bi=wd(),Li={status:"pending",value:void 0,then:function(r){a.push(r)}}}return xc++,n.then(am,am),n}function am(){if(--xc===0&&Gl!==null){Li!==null&&(Li.status="fulfilled");var e=Gl;Gl=null,Bi=0,Li=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function W1(e,n){var a=[],r={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return e.then(function(){r.status="fulfilled",r.value=n;for(var u=0;u<a.length;u++)(0,a[u])(n)},function(u){for(r.status="rejected",r.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),r}var im=A.S;A.S=function(e,n){qg=dt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Q1(e,n),im!==null&&im(e,n)};var Fa=D(null);function vc(){var e=Fa.current;return e!==null?e:Ve.pooledCache}function Do(e,n){n===null?P(Fa,Fa.current):P(Fa,n.pool)}function lm(){var e=vc();return e===null?null:{parent:nt._currentValue,pool:e}}var Ui=Error(o(460)),bc=Error(o(474)),Ro=Error(o(542)),Oo={then:function(){}};function rm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function om(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Mn,Mn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,um(e),e;default:if(typeof n.status=="string")n.then(Mn,Mn);else{if(e=Ve,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=n,e.status="pending",e.then(function(r){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=r}},function(r){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=r}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,um(e),e}throw Pa=n,Ui}}function Ja(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Pa=a,Ui):a}}var Pa=null;function sm(){if(Pa===null)throw Error(o(459));var e=Pa;return Pa=null,e}function um(e){if(e===Ui||e===Ro)throw Error(o(483))}var Yi=null,Zl=0;function Ho(e){var n=Zl;return Zl+=1,Yi===null&&(Yi=[]),om(Yi,e,n)}function Ql(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ko(e,n){throw n.$$typeof===v?Error(o(525)):(e=Object.prototype.toString.call(n),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function cm(e){function n(X,q){if(e){var Z=X.deletions;Z===null?(X.deletions=[q],X.flags|=16):Z.push(q)}}function a(X,q){if(!e)return null;for(;q!==null;)n(X,q),q=q.sibling;return null}function r(X){for(var q=new Map;X!==null;)X.key!==null?q.set(X.key,X):q.set(X.index,X),X=X.sibling;return q}function u(X,q){return X=zn(X,q),X.index=0,X.sibling=null,X}function h(X,q,Z){return X.index=Z,e?(Z=X.alternate,Z!==null?(Z=Z.index,Z<q?(X.flags|=67108866,q):Z):(X.flags|=67108866,q)):(X.flags|=1048576,q)}function b(X){return e&&X.alternate===null&&(X.flags|=67108866),X}function C(X,q,Z,ae){return q===null||q.tag!==6?(q=sc(Z,X.mode,ae),q.return=X,q):(q=u(q,Z),q.return=X,q)}function H(X,q,Z,ae){var pe=Z.type;return pe===T?ne(X,q,Z.props.children,ae,Z.key):q!==null&&(q.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===V&&Ja(pe)===q.type)?(q=u(q,Z.props),Ql(q,Z),q.return=X,q):(q=Mo(Z.type,Z.key,Z.props,null,X.mode,ae),Ql(q,Z),q.return=X,q)}function W(X,q,Z,ae){return q===null||q.tag!==4||q.stateNode.containerInfo!==Z.containerInfo||q.stateNode.implementation!==Z.implementation?(q=uc(Z,X.mode,ae),q.return=X,q):(q=u(q,Z.children||[]),q.return=X,q)}function ne(X,q,Z,ae,pe){return q===null||q.tag!==7?(q=Za(Z,X.mode,ae,pe),q.return=X,q):(q=u(q,Z),q.return=X,q)}function ie(X,q,Z){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=sc(""+q,X.mode,Z),q.return=X,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case E:return Z=Mo(q.type,q.key,q.props,null,X.mode,Z),Ql(Z,q),Z.return=X,Z;case _:return q=uc(q,X.mode,Z),q.return=X,q;case V:return q=Ja(q),ie(X,q,Z)}if(G(q)||Q(q))return q=Za(q,X.mode,Z,null),q.return=X,q;if(typeof q.then=="function")return ie(X,Ho(q),Z);if(q.$$typeof===S)return ie(X,Ao(X,q),Z);ko(X,q)}return null}function F(X,q,Z,ae){var pe=q!==null?q.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return pe!==null?null:C(X,q,""+Z,ae);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case E:return Z.key===pe?H(X,q,Z,ae):null;case _:return Z.key===pe?W(X,q,Z,ae):null;case V:return Z=Ja(Z),F(X,q,Z,ae)}if(G(Z)||Q(Z))return pe!==null?null:ne(X,q,Z,ae,null);if(typeof Z.then=="function")return F(X,q,Ho(Z),ae);if(Z.$$typeof===S)return F(X,q,Ao(X,Z),ae);ko(X,Z)}return null}function I(X,q,Z,ae,pe){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return X=X.get(Z)||null,C(q,X,""+ae,pe);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case E:return X=X.get(ae.key===null?Z:ae.key)||null,H(q,X,ae,pe);case _:return X=X.get(ae.key===null?Z:ae.key)||null,W(q,X,ae,pe);case V:return ae=Ja(ae),I(X,q,Z,ae,pe)}if(G(ae)||Q(ae))return X=X.get(Z)||null,ne(q,X,ae,pe,null);if(typeof ae.then=="function")return I(X,q,Z,Ho(ae),pe);if(ae.$$typeof===S)return I(X,q,Z,Ao(q,ae),pe);ko(q,ae)}return null}function fe(X,q,Z,ae){for(var pe=null,De=null,he=q,Ee=q=0,Te=null;he!==null&&Ee<Z.length;Ee++){he.index>Ee?(Te=he,he=null):Te=he.sibling;var Re=F(X,he,Z[Ee],ae);if(Re===null){he===null&&(he=Te);break}e&&he&&Re.alternate===null&&n(X,he),q=h(Re,q,Ee),De===null?pe=Re:De.sibling=Re,De=Re,he=Te}if(Ee===Z.length)return a(X,he),ze&&An(X,Ee),pe;if(he===null){for(;Ee<Z.length;Ee++)he=ie(X,Z[Ee],ae),he!==null&&(q=h(he,q,Ee),De===null?pe=he:De.sibling=he,De=he);return ze&&An(X,Ee),pe}for(he=r(he);Ee<Z.length;Ee++)Te=I(he,X,Ee,Z[Ee],ae),Te!==null&&(e&&Te.alternate!==null&&he.delete(Te.key===null?Ee:Te.key),q=h(Te,q,Ee),De===null?pe=Te:De.sibling=Te,De=Te);return e&&he.forEach(function(Ca){return n(X,Ca)}),ze&&An(X,Ee),pe}function ye(X,q,Z,ae){if(Z==null)throw Error(o(151));for(var pe=null,De=null,he=q,Ee=q=0,Te=null,Re=Z.next();he!==null&&!Re.done;Ee++,Re=Z.next()){he.index>Ee?(Te=he,he=null):Te=he.sibling;var Ca=F(X,he,Re.value,ae);if(Ca===null){he===null&&(he=Te);break}e&&he&&Ca.alternate===null&&n(X,he),q=h(Ca,q,Ee),De===null?pe=Ca:De.sibling=Ca,De=Ca,he=Te}if(Re.done)return a(X,he),ze&&An(X,Ee),pe;if(he===null){for(;!Re.done;Ee++,Re=Z.next())Re=ie(X,Re.value,ae),Re!==null&&(q=h(Re,q,Ee),De===null?pe=Re:De.sibling=Re,De=Re);return ze&&An(X,Ee),pe}for(he=r(he);!Re.done;Ee++,Re=Z.next())Re=I(he,X,Ee,Re.value,ae),Re!==null&&(e&&Re.alternate!==null&&he.delete(Re.key===null?Ee:Re.key),q=h(Re,q,Ee),De===null?pe=Re:De.sibling=Re,De=Re);return e&&he.forEach(function(l2){return n(X,l2)}),ze&&An(X,Ee),pe}function qe(X,q,Z,ae){if(typeof Z=="object"&&Z!==null&&Z.type===T&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case E:e:{for(var pe=Z.key;q!==null;){if(q.key===pe){if(pe=Z.type,pe===T){if(q.tag===7){a(X,q.sibling),ae=u(q,Z.props.children),ae.return=X,X=ae;break e}}else if(q.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===V&&Ja(pe)===q.type){a(X,q.sibling),ae=u(q,Z.props),Ql(ae,Z),ae.return=X,X=ae;break e}a(X,q);break}else n(X,q);q=q.sibling}Z.type===T?(ae=Za(Z.props.children,X.mode,ae,Z.key),ae.return=X,X=ae):(ae=Mo(Z.type,Z.key,Z.props,null,X.mode,ae),Ql(ae,Z),ae.return=X,X=ae)}return b(X);case _:e:{for(pe=Z.key;q!==null;){if(q.key===pe)if(q.tag===4&&q.stateNode.containerInfo===Z.containerInfo&&q.stateNode.implementation===Z.implementation){a(X,q.sibling),ae=u(q,Z.children||[]),ae.return=X,X=ae;break e}else{a(X,q);break}else n(X,q);q=q.sibling}ae=uc(Z,X.mode,ae),ae.return=X,X=ae}return b(X);case V:return Z=Ja(Z),qe(X,q,Z,ae)}if(G(Z))return fe(X,q,Z,ae);if(Q(Z)){if(pe=Q(Z),typeof pe!="function")throw Error(o(150));return Z=pe.call(Z),ye(X,q,Z,ae)}if(typeof Z.then=="function")return qe(X,q,Ho(Z),ae);if(Z.$$typeof===S)return qe(X,q,Ao(X,Z),ae);ko(X,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,q!==null&&q.tag===6?(a(X,q.sibling),ae=u(q,Z),ae.return=X,X=ae):(a(X,q),ae=sc(Z,X.mode,ae),ae.return=X,X=ae),b(X)):a(X,q)}return function(X,q,Z,ae){try{Zl=0;var pe=qe(X,q,Z,ae);return Yi=null,pe}catch(he){if(he===Ui||he===Ro)throw he;var De=Rt(29,he,null,X.mode);return De.lanes=ae,De.return=X,De}}}var Ia=cm(!0),dm=cm(!1),ca=!1;function wc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sc(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function da(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function fa(e,n,a){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Oe&2)!==0){var u=r.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),r.pending=n,n=Co(e),Wh(e,null,a),n}return _o(e,r,n,a),Co(e)}function Wl(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var r=n.lanes;r&=e.pendingLanes,a|=r,n.lanes=a,io(e,a)}}function Ec(e,n){var a=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,a===r)){var u=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?u=h=b:h=h.next=b,a=a.next}while(a!==null);h===null?u=h=n:h=h.next=n}else u=h=n;a={baseState:r.baseState,firstBaseUpdate:u,lastBaseUpdate:h,shared:r.shared,callbacks:r.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var Nc=!1;function Kl(){if(Nc){var e=Li;if(e!==null)throw e}}function Fl(e,n,a,r){Nc=!1;var u=e.updateQueue;ca=!1;var h=u.firstBaseUpdate,b=u.lastBaseUpdate,C=u.shared.pending;if(C!==null){u.shared.pending=null;var H=C,W=H.next;H.next=null,b===null?h=W:b.next=W,b=H;var ne=e.alternate;ne!==null&&(ne=ne.updateQueue,C=ne.lastBaseUpdate,C!==b&&(C===null?ne.firstBaseUpdate=W:C.next=W,ne.lastBaseUpdate=H))}if(h!==null){var ie=u.baseState;b=0,ne=W=H=null,C=h;do{var F=C.lane&-536870913,I=F!==C.lane;if(I?(Me&F)===F:(r&F)===F){F!==0&&F===Bi&&(Nc=!0),ne!==null&&(ne=ne.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var fe=e,ye=C;F=n;var qe=a;switch(ye.tag){case 1:if(fe=ye.payload,typeof fe=="function"){ie=fe.call(qe,ie,F);break e}ie=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=ye.payload,F=typeof fe=="function"?fe.call(qe,ie,F):fe,F==null)break e;ie=y({},ie,F);break e;case 2:ca=!0}}F=C.callback,F!==null&&(e.flags|=64,I&&(e.flags|=8192),I=u.callbacks,I===null?u.callbacks=[F]:I.push(F))}else I={lane:F,tag:C.tag,payload:C.payload,callback:C.callback,next:null},ne===null?(W=ne=I,H=ie):ne=ne.next=I,b|=F;if(C=C.next,C===null){if(C=u.shared.pending,C===null)break;I=C,C=I.next,I.next=null,u.lastBaseUpdate=I,u.shared.pending=null}}while(!0);ne===null&&(H=ie),u.baseState=H,u.firstBaseUpdate=W,u.lastBaseUpdate=ne,h===null&&(u.shared.lanes=0),ya|=b,e.lanes=b,e.memoizedState=ie}}function fm(e,n){if(typeof e!="function")throw Error(o(191,e));e.call(n)}function hm(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)fm(a[e],n)}var qi=D(null),Bo=D(0);function mm(e,n){e=Vn,P(Bo,e),P(qi,n),Vn=e|n.baseLanes}function jc(){P(Bo,Vn),P(qi,qi.current)}function _c(){Vn=Bo.current,Y(qi),Y(Bo)}var Ot=D(null),Wt=null;function ha(e){var n=e.alternate;P(Ie,Ie.current&1),P(Ot,e),Wt===null&&(n===null||qi.current!==null||n.memoizedState!==null)&&(Wt=e)}function Cc(e){P(Ie,Ie.current),P(Ot,e),Wt===null&&(Wt=e)}function gm(e){e.tag===22?(P(Ie,Ie.current),P(Ot,e),Wt===null&&(Wt=e)):ma()}function ma(){P(Ie,Ie.current),P(Ot,Ot.current)}function Ht(e){Y(Ot),Wt===e&&(Wt=null),Y(Ie)}var Ie=D(0);function Lo(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Rd(a)||Od(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var On=0,Se=null,Ue=null,at=null,Uo=!1,Vi=!1,ei=!1,Yo=0,Jl=0,$i=null,K1=0;function Fe(){throw Error(o(321))}function Mc(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!Dt(e[a],n[a]))return!1;return!0}function Tc(e,n,a,r,u,h){return On=h,Se=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,A.H=e===null||e.memoizedState===null?Pm:Xc,ei=!1,h=a(r,u),ei=!1,Vi&&(h=ym(n,a,r,u)),pm(e),h}function pm(e){A.H=er;var n=Ue!==null&&Ue.next!==null;if(On=0,at=Ue=Se=null,Uo=!1,Jl=0,$i=null,n)throw Error(o(300));e===null||it||(e=e.dependencies,e!==null&&zo(e)&&(it=!0))}function ym(e,n,a,r){Se=e;var u=0;do{if(Vi&&($i=null),Jl=0,Vi=!1,25<=u)throw Error(o(301));if(u+=1,at=Ue=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}A.H=Im,h=n(a,r)}while(Vi);return h}function F1(){var e=A.H,n=e.useState()[0];return n=typeof n.then=="function"?Pl(n):n,e=e.useState()[0],(Ue!==null?Ue.memoizedState:null)!==e&&(Se.flags|=1024),n}function zc(){var e=Yo!==0;return Yo=0,e}function Ac(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Dc(e){if(Uo){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Uo=!1}On=0,at=Ue=Se=null,Vi=!1,Jl=Yo=0,$i=null}function wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?Se.memoizedState=at=e:at=at.next=e,at}function et(){if(Ue===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var n=at===null?Se.memoizedState:at.next;if(n!==null)at=n,Ue=e;else{if(e===null)throw Se.alternate===null?Error(o(467)):Error(o(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},at===null?Se.memoizedState=at=e:at=at.next=e}return at}function qo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pl(e){var n=Jl;return Jl+=1,$i===null&&($i=[]),e=om($i,e,n),n=Se,(at===null?n.memoizedState:at.next)===null&&(n=n.alternate,A.H=n===null||n.memoizedState===null?Pm:Xc),e}function Vo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Pl(e);if(e.$$typeof===S)return ht(e)}throw Error(o(438,String(e)))}function Rc(e){var n=null,a=Se.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var r=Se.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(n={data:r.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=qo(),Se.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),r=0;r<e;r++)a[r]=re;return n.index++,a}function Hn(e,n){return typeof n=="function"?n(e):n}function $o(e){var n=et();return Oc(n,Ue,e)}function Oc(e,n,a){var r=e.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=a;var u=e.baseQueue,h=r.pending;if(h!==null){if(u!==null){var b=u.next;u.next=h.next,h.next=b}n.baseQueue=u=h,r.pending=null}if(h=e.baseState,u===null)e.memoizedState=h;else{n=u.next;var C=b=null,H=null,W=n,ne=!1;do{var ie=W.lane&-536870913;if(ie!==W.lane?(Me&ie)===ie:(On&ie)===ie){var F=W.revertLane;if(F===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),ie===Bi&&(ne=!0);else if((On&F)===F){W=W.next,F===Bi&&(ne=!0);continue}else ie={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},H===null?(C=H=ie,b=h):H=H.next=ie,Se.lanes|=F,ya|=F;ie=W.action,ei&&a(h,ie),h=W.hasEagerState?W.eagerState:a(h,ie)}else F={lane:ie,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},H===null?(C=H=F,b=h):H=H.next=F,Se.lanes|=ie,ya|=ie;W=W.next}while(W!==null&&W!==n);if(H===null?b=h:H.next=C,!Dt(h,e.memoizedState)&&(it=!0,ne&&(a=Li,a!==null)))throw a;e.memoizedState=h,e.baseState=b,e.baseQueue=H,r.lastRenderedState=h}return u===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Hc(e){var n=et(),a=n.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=e;var r=a.dispatch,u=a.pending,h=n.memoizedState;if(u!==null){a.pending=null;var b=u=u.next;do h=e(h,b.action),b=b.next;while(b!==u);Dt(h,n.memoizedState)||(it=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),a.lastRenderedState=h}return[h,r]}function xm(e,n,a){var r=Se,u=et(),h=ze;if(h){if(a===void 0)throw Error(o(407));a=a()}else a=n();var b=!Dt((Ue||u).memoizedState,a);if(b&&(u.memoizedState=a,it=!0),u=u.queue,Lc(wm.bind(null,r,u,e),[e]),u.getSnapshot!==n||b||at!==null&&at.memoizedState.tag&1){if(r.flags|=2048,Xi(9,{destroy:void 0},bm.bind(null,r,u,a,n),null),Ve===null)throw Error(o(349));h||(On&127)!==0||vm(r,n,a)}return a}function vm(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Se.updateQueue,n===null?(n=qo(),Se.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function bm(e,n,a,r){n.value=a,n.getSnapshot=r,Sm(n)&&Em(e)}function wm(e,n,a){return a(function(){Sm(n)&&Em(e)})}function Sm(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!Dt(e,a)}catch{return!0}}function Em(e){var n=Ga(e,2);n!==null&&zt(n,e,2)}function kc(e){var n=wt();if(typeof e=="function"){var a=e;if(e=a(),ei){cn(!0);try{a()}finally{cn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hn,lastRenderedState:e},n}function Nm(e,n,a,r){return e.baseState=a,Oc(e,Ue,typeof r=="function"?r:Hn)}function J1(e,n,a,r,u){if(Zo(e))throw Error(o(485));if(e=n.action,e!==null){var h={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){h.listeners.push(b)}};A.T!==null?a(!0):h.isTransition=!1,r(h),a=n.pending,a===null?(h.next=n.pending=h,jm(n,h)):(h.next=a.next,n.pending=a.next=h)}}function jm(e,n){var a=n.action,r=n.payload,u=e.state;if(n.isTransition){var h=A.T,b={};A.T=b;try{var C=a(u,r),H=A.S;H!==null&&H(b,C),_m(e,n,C)}catch(W){Bc(e,n,W)}finally{h!==null&&b.types!==null&&(h.types=b.types),A.T=h}}else try{h=a(u,r),_m(e,n,h)}catch(W){Bc(e,n,W)}}function _m(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(r){Cm(e,n,r)},function(r){return Bc(e,n,r)}):Cm(e,n,a)}function Cm(e,n,a){n.status="fulfilled",n.value=a,Mm(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,jm(e,a)))}function Bc(e,n,a){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do n.status="rejected",n.reason=a,Mm(n),n=n.next;while(n!==r)}e.action=null}function Mm(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Tm(e,n){return n}function zm(e,n){if(ze){var a=Ve.formState;if(a!==null){e:{var r=Se;if(ze){if($e){t:{for(var u=$e,h=Qt;u.nodeType!==8;){if(!h){u=null;break t}if(u=Kt(u.nextSibling),u===null){u=null;break t}}h=u.data,u=h==="F!"||h==="F"?u:null}if(u){$e=Kt(u.nextSibling),r=u.data==="F!";break e}}sa(r)}r=!1}r&&(n=a[0])}}return a=wt(),a.memoizedState=a.baseState=n,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tm,lastRenderedState:n},a.queue=r,a=Km.bind(null,Se,r),r.dispatch=a,r=kc(!1),h=$c.bind(null,Se,!1,r.queue),r=wt(),u={state:n,dispatch:null,action:e,pending:null},r.queue=u,a=J1.bind(null,Se,u,h,a),u.dispatch=a,r.memoizedState=e,[n,a,!1]}function Am(e){var n=et();return Dm(n,Ue,e)}function Dm(e,n,a){if(n=Oc(e,n,Tm)[0],e=$o(Hn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var r=Pl(n)}catch(b){throw b===Ui?Ro:b}else r=n;n=et();var u=n.queue,h=u.dispatch;return a!==n.memoizedState&&(Se.flags|=2048,Xi(9,{destroy:void 0},P1.bind(null,u,a),null)),[r,h,e]}function P1(e,n){e.action=n}function Rm(e){var n=et(),a=Ue;if(a!==null)return Dm(n,a,e);et(),n=n.memoizedState,a=et();var r=a.queue.dispatch;return a.memoizedState=e,[n,r,!1]}function Xi(e,n,a,r){return e={tag:e,create:a,deps:r,inst:n,next:null},n=Se.updateQueue,n===null&&(n=qo(),Se.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(r=a.next,a.next=e,e.next=r,n.lastEffect=e),e}function Om(){return et().memoizedState}function Xo(e,n,a,r){var u=wt();Se.flags|=e,u.memoizedState=Xi(1|n,{destroy:void 0},a,r===void 0?null:r)}function Go(e,n,a,r){var u=et();r=r===void 0?null:r;var h=u.memoizedState.inst;Ue!==null&&r!==null&&Mc(r,Ue.memoizedState.deps)?u.memoizedState=Xi(n,h,a,r):(Se.flags|=e,u.memoizedState=Xi(1|n,h,a,r))}function Hm(e,n){Xo(8390656,8,e,n)}function Lc(e,n){Go(2048,8,e,n)}function I1(e){Se.flags|=4;var n=Se.updateQueue;if(n===null)n=qo(),Se.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function km(e){var n=et().memoizedState;return I1({ref:n,nextImpl:e}),function(){if((Oe&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}function Bm(e,n){return Go(4,2,e,n)}function Lm(e,n){return Go(4,4,e,n)}function Um(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ym(e,n,a){a=a!=null?a.concat([e]):null,Go(4,4,Um.bind(null,n,e),a)}function Uc(){}function qm(e,n){var a=et();n=n===void 0?null:n;var r=a.memoizedState;return n!==null&&Mc(n,r[1])?r[0]:(a.memoizedState=[e,n],e)}function Vm(e,n){var a=et();n=n===void 0?null:n;var r=a.memoizedState;if(n!==null&&Mc(n,r[1]))return r[0];if(r=e(),ei){cn(!0);try{e()}finally{cn(!1)}}return a.memoizedState=[r,n],r}function Yc(e,n,a){return a===void 0||(On&1073741824)!==0&&(Me&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=$g(),Se.lanes|=e,ya|=e,a)}function $m(e,n,a,r){return Dt(a,n)?a:qi.current!==null?(e=Yc(e,a,r),Dt(e,n)||(it=!0),e):(On&42)===0||(On&1073741824)!==0&&(Me&261930)===0?(it=!0,e.memoizedState=a):(e=$g(),Se.lanes|=e,ya|=e,n)}function Xm(e,n,a,r,u){var h=O.p;O.p=h!==0&&8>h?h:8;var b=A.T,C={};A.T=C,$c(e,!1,n,a);try{var H=u(),W=A.S;if(W!==null&&W(C,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var ne=W1(H,r);Il(e,n,ne,Lt(e))}else Il(e,n,r,Lt(e))}catch(ie){Il(e,n,{then:function(){},status:"rejected",reason:ie},Lt())}finally{O.p=h,b!==null&&C.types!==null&&(b.types=C.types),A.T=b}}function eb(){}function qc(e,n,a,r){if(e.tag!==5)throw Error(o(476));var u=Gm(e).queue;Xm(e,u,n,L,a===null?eb:function(){return Zm(e),a(r)})}function Gm(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hn,lastRenderedState:L},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hn,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Zm(e){var n=Gm(e);n.next===null&&(n=e.alternate.memoizedState),Il(e,n.next.queue,{},Lt())}function Vc(){return ht(pr)}function Qm(){return et().memoizedState}function Wm(){return et().memoizedState}function tb(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Lt();e=da(a);var r=fa(n,e,a);r!==null&&(zt(r,n,a),Wl(r,n,a)),n={cache:yc()},e.payload=n;return}n=n.return}}function nb(e,n,a){var r=Lt();a={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Zo(e)?Fm(n,a):(a=rc(e,n,a,r),a!==null&&(zt(a,e,r),Jm(a,n,r)))}function Km(e,n,a){var r=Lt();Il(e,n,a,r)}function Il(e,n,a,r){var u={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Zo(e))Fm(n,u);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var b=n.lastRenderedState,C=h(b,a);if(u.hasEagerState=!0,u.eagerState=C,Dt(C,b))return _o(e,n,u,0),Ve===null&&jo(),!1}catch{}if(a=rc(e,n,u,r),a!==null)return zt(a,e,r),Jm(a,n,r),!0}return!1}function $c(e,n,a,r){if(r={lane:2,revertLane:wd(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Zo(e)){if(n)throw Error(o(479))}else n=rc(e,a,r,2),n!==null&&zt(n,e,2)}function Zo(e){var n=e.alternate;return e===Se||n!==null&&n===Se}function Fm(e,n){Vi=Uo=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Jm(e,n,a){if((a&4194048)!==0){var r=n.lanes;r&=e.pendingLanes,a|=r,n.lanes=a,io(e,a)}}var er={readContext:ht,use:Vo,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useLayoutEffect:Fe,useInsertionEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useSyncExternalStore:Fe,useId:Fe,useHostTransitionStatus:Fe,useFormState:Fe,useActionState:Fe,useOptimistic:Fe,useMemoCache:Fe,useCacheRefresh:Fe};er.useEffectEvent=Fe;var Pm={readContext:ht,use:Vo,useCallback:function(e,n){return wt().memoizedState=[e,n===void 0?null:n],e},useContext:ht,useEffect:Hm,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Xo(4194308,4,Um.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Xo(4194308,4,e,n)},useInsertionEffect:function(e,n){Xo(4,2,e,n)},useMemo:function(e,n){var a=wt();n=n===void 0?null:n;var r=e();if(ei){cn(!0);try{e()}finally{cn(!1)}}return a.memoizedState=[r,n],r},useReducer:function(e,n,a){var r=wt();if(a!==void 0){var u=a(n);if(ei){cn(!0);try{a(n)}finally{cn(!1)}}}else u=n;return r.memoizedState=r.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},r.queue=e,e=e.dispatch=nb.bind(null,Se,e),[r.memoizedState,e]},useRef:function(e){var n=wt();return e={current:e},n.memoizedState=e},useState:function(e){e=kc(e);var n=e.queue,a=Km.bind(null,Se,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Uc,useDeferredValue:function(e,n){var a=wt();return Yc(a,e,n)},useTransition:function(){var e=kc(!1);return e=Xm.bind(null,Se,e.queue,!0,!1),wt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var r=Se,u=wt();if(ze){if(a===void 0)throw Error(o(407));a=a()}else{if(a=n(),Ve===null)throw Error(o(349));(Me&127)!==0||vm(r,n,a)}u.memoizedState=a;var h={value:a,getSnapshot:n};return u.queue=h,Hm(wm.bind(null,r,h,e),[e]),r.flags|=2048,Xi(9,{destroy:void 0},bm.bind(null,r,h,a,n),null),a},useId:function(){var e=wt(),n=Ve.identifierPrefix;if(ze){var a=hn,r=fn;a=(r&~(1<<32-bt(r)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Yo++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=K1++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Vc,useFormState:zm,useActionState:zm,useOptimistic:function(e){var n=wt();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=$c.bind(null,Se,!0,a),a.dispatch=n,[e,n]},useMemoCache:Rc,useCacheRefresh:function(){return wt().memoizedState=tb.bind(null,Se)},useEffectEvent:function(e){var n=wt(),a={impl:e};return n.memoizedState=a,function(){if((Oe&2)!==0)throw Error(o(440));return a.impl.apply(void 0,arguments)}}},Xc={readContext:ht,use:Vo,useCallback:qm,useContext:ht,useEffect:Lc,useImperativeHandle:Ym,useInsertionEffect:Bm,useLayoutEffect:Lm,useMemo:Vm,useReducer:$o,useRef:Om,useState:function(){return $o(Hn)},useDebugValue:Uc,useDeferredValue:function(e,n){var a=et();return $m(a,Ue.memoizedState,e,n)},useTransition:function(){var e=$o(Hn)[0],n=et().memoizedState;return[typeof e=="boolean"?e:Pl(e),n]},useSyncExternalStore:xm,useId:Qm,useHostTransitionStatus:Vc,useFormState:Am,useActionState:Am,useOptimistic:function(e,n){var a=et();return Nm(a,Ue,e,n)},useMemoCache:Rc,useCacheRefresh:Wm};Xc.useEffectEvent=km;var Im={readContext:ht,use:Vo,useCallback:qm,useContext:ht,useEffect:Lc,useImperativeHandle:Ym,useInsertionEffect:Bm,useLayoutEffect:Lm,useMemo:Vm,useReducer:Hc,useRef:Om,useState:function(){return Hc(Hn)},useDebugValue:Uc,useDeferredValue:function(e,n){var a=et();return Ue===null?Yc(a,e,n):$m(a,Ue.memoizedState,e,n)},useTransition:function(){var e=Hc(Hn)[0],n=et().memoizedState;return[typeof e=="boolean"?e:Pl(e),n]},useSyncExternalStore:xm,useId:Qm,useHostTransitionStatus:Vc,useFormState:Rm,useActionState:Rm,useOptimistic:function(e,n){var a=et();return Ue!==null?Nm(a,Ue,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Rc,useCacheRefresh:Wm};Im.useEffectEvent=km;function Gc(e,n,a,r){n=e.memoizedState,a=a(r,n),a=a==null?n:y({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Zc={enqueueSetState:function(e,n,a){e=e._reactInternals;var r=Lt(),u=da(r);u.payload=n,a!=null&&(u.callback=a),n=fa(e,u,r),n!==null&&(zt(n,e,r),Wl(n,e,r))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var r=Lt(),u=da(r);u.tag=1,u.payload=n,a!=null&&(u.callback=a),n=fa(e,u,r),n!==null&&(zt(n,e,r),Wl(n,e,r))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Lt(),r=da(a);r.tag=2,n!=null&&(r.callback=n),n=fa(e,r,a),n!==null&&(zt(n,e,a),Wl(n,e,a))}};function eg(e,n,a,r,u,h,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,h,b):n.prototype&&n.prototype.isPureReactComponent?!Yl(a,r)||!Yl(u,h):!0}function tg(e,n,a,r){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,r),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,r),n.state!==e&&Zc.enqueueReplaceState(n,n.state,null)}function ti(e,n){var a=n;if("ref"in n){a={};for(var r in n)r!=="ref"&&(a[r]=n[r])}if(e=e.defaultProps){a===n&&(a=y({},a));for(var u in e)a[u]===void 0&&(a[u]=e[u])}return a}function ng(e){No(e)}function ag(e){console.error(e)}function ig(e){No(e)}function Qo(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(r){setTimeout(function(){throw r})}}function lg(e,n,a){try{var r=e.onCaughtError;r(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Qc(e,n,a){return a=da(a),a.tag=3,a.payload={element:null},a.callback=function(){Qo(e,n)},a}function rg(e){return e=da(e),e.tag=3,e}function og(e,n,a,r){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var h=r.value;e.payload=function(){return u(h)},e.callback=function(){lg(n,a,r)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){lg(n,a,r),typeof u!="function"&&(xa===null?xa=new Set([this]):xa.add(this));var C=r.stack;this.componentDidCatch(r.value,{componentStack:C!==null?C:""})})}function ab(e,n,a,r,u){if(a.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(n=a.alternate,n!==null&&ki(n,a,u,!0),a=Ot.current,a!==null){switch(a.tag){case 31:case 13:return Wt===null?ls():a.alternate===null&&Je===0&&(Je=3),a.flags&=-257,a.flags|=65536,a.lanes=u,r===Oo?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([r]):n.add(r),xd(e,r,u)),!1;case 22:return a.flags|=65536,r===Oo?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([r])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([r]):a.add(r)),xd(e,r,u)),!1}throw Error(o(435,a.tag))}return xd(e,r,u),ls(),!1}if(ze)return n=Ot.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,r!==fc&&(e=Error(o(422),{cause:r}),$l(Xt(e,a)))):(r!==fc&&(n=Error(o(423),{cause:r}),$l(Xt(n,a))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,r=Xt(r,a),u=Qc(e.stateNode,r,u),Ec(e,u),Je!==4&&(Je=2)),!1;var h=Error(o(520),{cause:r});if(h=Xt(h,a),sr===null?sr=[h]:sr.push(h),Je!==4&&(Je=2),n===null)return!0;r=Xt(r,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=u&-u,a.lanes|=e,e=Qc(a.stateNode,r,e),Ec(a,e),!1;case 1:if(n=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(xa===null||!xa.has(h))))return a.flags|=65536,u&=-u,a.lanes|=u,u=rg(u),og(u,e,a,r),Ec(a,u),!1}a=a.return}while(a!==null);return!1}var Wc=Error(o(461)),it=!1;function mt(e,n,a,r){n.child=e===null?dm(n,null,a,r):Ia(n,e.child,a,r)}function sg(e,n,a,r,u){a=a.render;var h=n.ref;if("ref"in r){var b={};for(var C in r)C!=="ref"&&(b[C]=r[C])}else b=r;return Ka(n),r=Tc(e,n,a,b,h,u),C=zc(),e!==null&&!it?(Ac(e,n,u),kn(e,n,u)):(ze&&C&&cc(n),n.flags|=1,mt(e,n,r,u),n.child)}function ug(e,n,a,r,u){if(e===null){var h=a.type;return typeof h=="function"&&!oc(h)&&h.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=h,cg(e,n,h,r,u)):(e=Mo(a.type,null,r,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!nd(e,u)){var b=h.memoizedProps;if(a=a.compare,a=a!==null?a:Yl,a(b,r)&&e.ref===n.ref)return kn(e,n,u)}return n.flags|=1,e=zn(h,r),e.ref=n.ref,e.return=n,n.child=e}function cg(e,n,a,r,u){if(e!==null){var h=e.memoizedProps;if(Yl(h,r)&&e.ref===n.ref)if(it=!1,n.pendingProps=r=h,nd(e,u))(e.flags&131072)!==0&&(it=!0);else return n.lanes=e.lanes,kn(e,n,u)}return Kc(e,n,a,r,u)}function dg(e,n,a,r){var u=r.children,h=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|a:a,e!==null){for(r=n.child=e.child,u=0;r!==null;)u=u|r.lanes|r.childLanes,r=r.sibling;r=u&~h}else r=0,n.child=null;return fg(e,n,h,a,r)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Do(n,h!==null?h.cachePool:null),h!==null?mm(n,h):jc(),gm(n);else return r=n.lanes=536870912,fg(e,n,h!==null?h.baseLanes|a:a,a,r)}else h!==null?(Do(n,h.cachePool),mm(n,h),ma(),n.memoizedState=null):(e!==null&&Do(n,null),jc(),ma());return mt(e,n,u,a),n.child}function tr(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function fg(e,n,a,r,u){var h=vc();return h=h===null?null:{parent:nt._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},e!==null&&Do(n,null),jc(),gm(n),e!==null&&ki(e,n,r,!0),n.childLanes=u,null}function Wo(e,n){return n=Fo({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function hg(e,n,a){return Ia(n,e.child,null,a),e=Wo(n,n.pendingProps),e.flags|=2,Ht(n),n.memoizedState=null,e}function ib(e,n,a){var r=n.pendingProps,u=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(ze){if(r.mode==="hidden")return e=Wo(n,r),n.lanes=536870912,tr(null,e);if(Cc(n),(e=$e)?(e=jp(e,Qt),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ra!==null?{id:fn,overflow:hn}:null,retryLane:536870912,hydrationErrors:null},a=Fh(e),a.return=n,n.child=a,ft=n,$e=null)):e=null,e===null)throw sa(n);return n.lanes=536870912,null}return Wo(n,r)}var h=e.memoizedState;if(h!==null){var b=h.dehydrated;if(Cc(n),u)if(n.flags&256)n.flags&=-257,n=hg(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(o(558));else if(it||ki(e,n,a,!1),u=(a&e.childLanes)!==0,it||u){if(r=Ve,r!==null&&(b=lo(r,a),b!==0&&b!==h.retryLane))throw h.retryLane=b,Ga(e,b),zt(r,e,b),Wc;ls(),n=hg(e,n,a)}else e=h.treeContext,$e=Kt(b.nextSibling),ft=n,ze=!0,oa=null,Qt=!1,e!==null&&Ih(n,e),n=Wo(n,r),n.flags|=4096;return n}return e=zn(e.child,{mode:r.mode,children:r.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ko(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Kc(e,n,a,r,u){return Ka(n),a=Tc(e,n,a,r,void 0,u),r=zc(),e!==null&&!it?(Ac(e,n,u),kn(e,n,u)):(ze&&r&&cc(n),n.flags|=1,mt(e,n,a,u),n.child)}function mg(e,n,a,r,u,h){return Ka(n),n.updateQueue=null,a=ym(n,r,a,u),pm(e),r=zc(),e!==null&&!it?(Ac(e,n,h),kn(e,n,h)):(ze&&r&&cc(n),n.flags|=1,mt(e,n,a,h),n.child)}function gg(e,n,a,r,u){if(Ka(n),n.stateNode===null){var h=Di,b=a.contextType;typeof b=="object"&&b!==null&&(h=ht(b)),h=new a(r,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Zc,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=r,h.state=n.memoizedState,h.refs={},wc(n),b=a.contextType,h.context=typeof b=="object"&&b!==null?ht(b):Di,h.state=n.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(Gc(n,a,b,r),h.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(b=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),b!==h.state&&Zc.enqueueReplaceState(h,h.state,null),Fl(n,r,h,u),Kl(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),r=!0}else if(e===null){h=n.stateNode;var C=n.memoizedProps,H=ti(a,C);h.props=H;var W=h.context,ne=a.contextType;b=Di,typeof ne=="object"&&ne!==null&&(b=ht(ne));var ie=a.getDerivedStateFromProps;ne=typeof ie=="function"||typeof h.getSnapshotBeforeUpdate=="function",C=n.pendingProps!==C,ne||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(C||W!==b)&&tg(n,h,r,b),ca=!1;var F=n.memoizedState;h.state=F,Fl(n,r,h,u),Kl(),W=n.memoizedState,C||F!==W||ca?(typeof ie=="function"&&(Gc(n,a,ie,r),W=n.memoizedState),(H=ca||eg(n,a,H,r,F,W,b))?(ne||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=W),h.props=r,h.state=W,h.context=b,r=H):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),r=!1)}else{h=n.stateNode,Sc(e,n),b=n.memoizedProps,ne=ti(a,b),h.props=ne,ie=n.pendingProps,F=h.context,W=a.contextType,H=Di,typeof W=="object"&&W!==null&&(H=ht(W)),C=a.getDerivedStateFromProps,(W=typeof C=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(b!==ie||F!==H)&&tg(n,h,r,H),ca=!1,F=n.memoizedState,h.state=F,Fl(n,r,h,u),Kl();var I=n.memoizedState;b!==ie||F!==I||ca||e!==null&&e.dependencies!==null&&zo(e.dependencies)?(typeof C=="function"&&(Gc(n,a,C,r),I=n.memoizedState),(ne=ca||eg(n,a,ne,r,F,I,H)||e!==null&&e.dependencies!==null&&zo(e.dependencies))?(W||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(r,I,H),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(r,I,H)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||b===e.memoizedProps&&F===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&F===e.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=I),h.props=r,h.state=I,h.context=H,r=ne):(typeof h.componentDidUpdate!="function"||b===e.memoizedProps&&F===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&F===e.memoizedState||(n.flags|=1024),r=!1)}return h=r,Ko(e,n),r=(n.flags&128)!==0,h||r?(h=n.stateNode,a=r&&typeof a.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,e!==null&&r?(n.child=Ia(n,e.child,null,u),n.child=Ia(n,null,a,u)):mt(e,n,a,u),n.memoizedState=h.state,e=n.child):e=kn(e,n,u),e}function pg(e,n,a,r){return Qa(),n.flags|=256,mt(e,n,a,r),n.child}var Fc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jc(e){return{baseLanes:e,cachePool:lm()}}function Pc(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Bt),e}function yg(e,n,a){var r=n.pendingProps,u=!1,h=(n.flags&128)!==0,b;if((b=h)||(b=e!==null&&e.memoizedState===null?!1:(Ie.current&2)!==0),b&&(u=!0,n.flags&=-129),b=(n.flags&32)!==0,n.flags&=-33,e===null){if(ze){if(u?ha(n):ma(),(e=$e)?(e=jp(e,Qt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ra!==null?{id:fn,overflow:hn}:null,retryLane:536870912,hydrationErrors:null},a=Fh(e),a.return=n,n.child=a,ft=n,$e=null)):e=null,e===null)throw sa(n);return Od(e)?n.lanes=32:n.lanes=536870912,null}var C=r.children;return r=r.fallback,u?(ma(),u=n.mode,C=Fo({mode:"hidden",children:C},u),r=Za(r,u,a,null),C.return=n,r.return=n,C.sibling=r,n.child=C,r=n.child,r.memoizedState=Jc(a),r.childLanes=Pc(e,b,a),n.memoizedState=Fc,tr(null,r)):(ha(n),Ic(n,C))}var H=e.memoizedState;if(H!==null&&(C=H.dehydrated,C!==null)){if(h)n.flags&256?(ha(n),n.flags&=-257,n=ed(e,n,a)):n.memoizedState!==null?(ma(),n.child=e.child,n.flags|=128,n=null):(ma(),C=r.fallback,u=n.mode,r=Fo({mode:"visible",children:r.children},u),C=Za(C,u,a,null),C.flags|=2,r.return=n,C.return=n,r.sibling=C,n.child=r,Ia(n,e.child,null,a),r=n.child,r.memoizedState=Jc(a),r.childLanes=Pc(e,b,a),n.memoizedState=Fc,n=tr(null,r));else if(ha(n),Od(C)){if(b=C.nextSibling&&C.nextSibling.dataset,b)var W=b.dgst;b=W,r=Error(o(419)),r.stack="",r.digest=b,$l({value:r,source:null,stack:null}),n=ed(e,n,a)}else if(it||ki(e,n,a,!1),b=(a&e.childLanes)!==0,it||b){if(b=Ve,b!==null&&(r=lo(b,a),r!==0&&r!==H.retryLane))throw H.retryLane=r,Ga(e,r),zt(b,e,r),Wc;Rd(C)||ls(),n=ed(e,n,a)}else Rd(C)?(n.flags|=192,n.child=e.child,n=null):(e=H.treeContext,$e=Kt(C.nextSibling),ft=n,ze=!0,oa=null,Qt=!1,e!==null&&Ih(n,e),n=Ic(n,r.children),n.flags|=4096);return n}return u?(ma(),C=r.fallback,u=n.mode,H=e.child,W=H.sibling,r=zn(H,{mode:"hidden",children:r.children}),r.subtreeFlags=H.subtreeFlags&65011712,W!==null?C=zn(W,C):(C=Za(C,u,a,null),C.flags|=2),C.return=n,r.return=n,r.sibling=C,n.child=r,tr(null,r),r=n.child,C=e.child.memoizedState,C===null?C=Jc(a):(u=C.cachePool,u!==null?(H=nt._currentValue,u=u.parent!==H?{parent:H,pool:H}:u):u=lm(),C={baseLanes:C.baseLanes|a,cachePool:u}),r.memoizedState=C,r.childLanes=Pc(e,b,a),n.memoizedState=Fc,tr(e.child,r)):(ha(n),a=e.child,e=a.sibling,a=zn(a,{mode:"visible",children:r.children}),a.return=n,a.sibling=null,e!==null&&(b=n.deletions,b===null?(n.deletions=[e],n.flags|=16):b.push(e)),n.child=a,n.memoizedState=null,a)}function Ic(e,n){return n=Fo({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Fo(e,n){return e=Rt(22,e,null,n),e.lanes=0,e}function ed(e,n,a){return Ia(n,e.child,null,a),e=Ic(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function xg(e,n,a){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n),gc(e.return,n,a)}function td(e,n,a,r,u,h){var b=e.memoizedState;b===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:a,tailMode:u,treeForkCount:h}:(b.isBackwards=n,b.rendering=null,b.renderingStartTime=0,b.last=r,b.tail=a,b.tailMode=u,b.treeForkCount=h)}function vg(e,n,a){var r=n.pendingProps,u=r.revealOrder,h=r.tail;r=r.children;var b=Ie.current,C=(b&2)!==0;if(C?(b=b&1|2,n.flags|=128):b&=1,P(Ie,b),mt(e,n,r,a),r=ze?Vl:0,!C&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xg(e,a,n);else if(e.tag===19)xg(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(a=n.child,u=null;a!==null;)e=a.alternate,e!==null&&Lo(e)===null&&(u=a),a=a.sibling;a=u,a===null?(u=n.child,n.child=null):(u=a.sibling,a.sibling=null),td(n,!1,u,a,h,r);break;case"backwards":case"unstable_legacy-backwards":for(a=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&Lo(e)===null){n.child=u;break}e=u.sibling,u.sibling=a,a=u,u=e}td(n,!0,a,null,h,r);break;case"together":td(n,!1,null,null,void 0,r);break;default:n.memoizedState=null}return n.child}function kn(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),ya|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(ki(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(o(153));if(n.child!==null){for(e=n.child,a=zn(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=zn(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function nd(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&zo(e)))}function lb(e,n,a){switch(n.tag){case 3:oe(n,n.stateNode.containerInfo),ua(n,nt,e.memoizedState.cache),Qa();break;case 27:case 5:ve(n);break;case 4:oe(n,n.stateNode.containerInfo);break;case 10:ua(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Cc(n),null;break;case 13:var r=n.memoizedState;if(r!==null)return r.dehydrated!==null?(ha(n),n.flags|=128,null):(a&n.child.childLanes)!==0?yg(e,n,a):(ha(n),e=kn(e,n,a),e!==null?e.sibling:null);ha(n);break;case 19:var u=(e.flags&128)!==0;if(r=(a&n.childLanes)!==0,r||(ki(e,n,a,!1),r=(a&n.childLanes)!==0),u){if(r)return vg(e,n,a);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),P(Ie,Ie.current),r)break;return null;case 22:return n.lanes=0,dg(e,n,a,n.pendingProps);case 24:ua(n,nt,e.memoizedState.cache)}return kn(e,n,a)}function bg(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)it=!0;else{if(!nd(e,a)&&(n.flags&128)===0)return it=!1,lb(e,n,a);it=(e.flags&131072)!==0}else it=!1,ze&&(n.flags&1048576)!==0&&Ph(n,Vl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var r=n.pendingProps;if(e=Ja(n.elementType),n.type=e,typeof e=="function")oc(e)?(r=ti(e,r),n.tag=1,n=gg(null,n,e,r,a)):(n.tag=0,n=Kc(null,n,e,r,a));else{if(e!=null){var u=e.$$typeof;if(u===z){n.tag=11,n=sg(null,n,e,r,a);break e}else if(u===R){n.tag=14,n=ug(null,n,e,r,a);break e}}throw n=B(e)||e,Error(o(306,n,""))}}return n;case 0:return Kc(e,n,n.type,n.pendingProps,a);case 1:return r=n.type,u=ti(r,n.pendingProps),gg(e,n,r,u,a);case 3:e:{if(oe(n,n.stateNode.containerInfo),e===null)throw Error(o(387));r=n.pendingProps;var h=n.memoizedState;u=h.element,Sc(e,n),Fl(n,r,null,a);var b=n.memoizedState;if(r=b.cache,ua(n,nt,r),r!==h.cache&&pc(n,[nt],a,!0),Kl(),r=b.element,h.isDehydrated)if(h={element:r,isDehydrated:!1,cache:b.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=pg(e,n,r,a);break e}else if(r!==u){u=Xt(Error(o(424)),n),$l(u),n=pg(e,n,r,a);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,$e=Kt(e.firstChild),ft=n,ze=!0,oa=null,Qt=!0,a=dm(n,null,r,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Qa(),r===u){n=kn(e,n,a);break e}mt(e,n,r,a)}n=n.child}return n;case 26:return Ko(e,n),e===null?(a=Ap(n.type,null,n.pendingProps,null))?n.memoizedState=a:ze||(a=n.type,e=n.pendingProps,r=fs(ce.current).createElement(a),r[ot]=n,r[yt]=e,gt(r,a,e),tt(r),n.stateNode=r):n.memoizedState=Ap(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ve(n),e===null&&ze&&(r=n.stateNode=Mp(n.type,n.pendingProps,ce.current),ft=n,Qt=!0,u=$e,Sa(n.type)?(Hd=u,$e=Kt(r.firstChild)):$e=u),mt(e,n,n.pendingProps.children,a),Ko(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&ze&&((u=r=$e)&&(r=Hb(r,n.type,n.pendingProps,Qt),r!==null?(n.stateNode=r,ft=n,$e=Kt(r.firstChild),Qt=!1,u=!0):u=!1),u||sa(n)),ve(n),u=n.type,h=n.pendingProps,b=e!==null?e.memoizedProps:null,r=h.children,zd(u,h)?r=null:b!==null&&zd(u,b)&&(n.flags|=32),n.memoizedState!==null&&(u=Tc(e,n,F1,null,null,a),pr._currentValue=u),Ko(e,n),mt(e,n,r,a),n.child;case 6:return e===null&&ze&&((e=a=$e)&&(a=kb(a,n.pendingProps,Qt),a!==null?(n.stateNode=a,ft=n,$e=null,e=!0):e=!1),e||sa(n)),null;case 13:return yg(e,n,a);case 4:return oe(n,n.stateNode.containerInfo),r=n.pendingProps,e===null?n.child=Ia(n,null,r,a):mt(e,n,r,a),n.child;case 11:return sg(e,n,n.type,n.pendingProps,a);case 7:return mt(e,n,n.pendingProps,a),n.child;case 8:return mt(e,n,n.pendingProps.children,a),n.child;case 12:return mt(e,n,n.pendingProps.children,a),n.child;case 10:return r=n.pendingProps,ua(n,n.type,r.value),mt(e,n,r.children,a),n.child;case 9:return u=n.type._context,r=n.pendingProps.children,Ka(n),u=ht(u),r=r(u),n.flags|=1,mt(e,n,r,a),n.child;case 14:return ug(e,n,n.type,n.pendingProps,a);case 15:return cg(e,n,n.type,n.pendingProps,a);case 19:return vg(e,n,a);case 31:return ib(e,n,a);case 22:return dg(e,n,a,n.pendingProps);case 24:return Ka(n),r=ht(nt),e===null?(u=vc(),u===null&&(u=Ve,h=yc(),u.pooledCache=h,h.refCount++,h!==null&&(u.pooledCacheLanes|=a),u=h),n.memoizedState={parent:r,cache:u},wc(n),ua(n,nt,u)):((e.lanes&a)!==0&&(Sc(e,n),Fl(n,null,null,a),Kl()),u=e.memoizedState,h=n.memoizedState,u.parent!==r?(u={parent:r,cache:r},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),ua(n,nt,r)):(r=h.cache,ua(n,nt,r),r!==u.cache&&pc(n,[nt],a,!0))),mt(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(o(156,n.tag))}function Bn(e){e.flags|=4}function ad(e,n,a,r,u){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(Qg())e.flags|=8192;else throw Pa=Oo,bc}else e.flags&=-16777217}function wg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!kp(n))if(Qg())e.flags|=8192;else throw Pa=Oo,bc}function Jo(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?no():536870912,e.lanes|=n,Wi|=n)}function nr(e,n){if(!ze)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xe(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,r=0;if(n)for(var u=e.child;u!==null;)a|=u.lanes|u.childLanes,r|=u.subtreeFlags&65011712,r|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)a|=u.lanes|u.childLanes,r|=u.subtreeFlags,r|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=r,e.childLanes=a,n}function rb(e,n,a){var r=n.pendingProps;switch(dc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(n),null;case 1:return Xe(n),null;case 3:return a=n.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Rn(nt),de(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Hi(n)?Bn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,hc())),Xe(n),null;case 26:var u=n.type,h=n.memoizedState;return e===null?(Bn(n),h!==null?(Xe(n),wg(n,h)):(Xe(n),ad(n,u,null,r,a))):h?h!==e.memoizedState?(Bn(n),Xe(n),wg(n,h)):(Xe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==r&&Bn(n),Xe(n),ad(n,u,e,r,a)),null;case 27:if(be(n),a=ce.current,u=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==r&&Bn(n);else{if(!r){if(n.stateNode===null)throw Error(o(166));return Xe(n),null}e=te.current,Hi(n)?em(n):(e=Mp(u,r,a),n.stateNode=e,Bn(n))}return Xe(n),null;case 5:if(be(n),u=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==r&&Bn(n);else{if(!r){if(n.stateNode===null)throw Error(o(166));return Xe(n),null}if(h=te.current,Hi(n))em(n);else{var b=fs(ce.current);switch(h){case 1:h=b.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:h=b.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":h=b.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":h=b.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":h=b.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof r.is=="string"?b.createElement("select",{is:r.is}):b.createElement("select"),r.multiple?h.multiple=!0:r.size&&(h.size=r.size);break;default:h=typeof r.is=="string"?b.createElement(u,{is:r.is}):b.createElement(u)}}h[ot]=n,h[yt]=r;e:for(b=n.child;b!==null;){if(b.tag===5||b.tag===6)h.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===n)break e;for(;b.sibling===null;){if(b.return===null||b.return===n)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}n.stateNode=h;e:switch(gt(h,u,r),u){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Bn(n)}}return Xe(n),ad(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==r&&Bn(n);else{if(typeof r!="string"&&n.stateNode===null)throw Error(o(166));if(e=ce.current,Hi(n)){if(e=n.stateNode,a=n.memoizedProps,r=null,u=ft,u!==null)switch(u.tag){case 27:case 5:r=u.memoizedProps}e[ot]=n,e=!!(e.nodeValue===a||r!==null&&r.suppressHydrationWarning===!0||yp(e.nodeValue,a)),e||sa(n,!0)}else e=fs(e).createTextNode(r),e[ot]=n,n.stateNode=e}return Xe(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(r=Hi(n),a!==null){if(e===null){if(!r)throw Error(o(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[ot]=n}else Qa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Xe(n),e=!1}else a=hc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(Ht(n),n):(Ht(n),null);if((n.flags&128)!==0)throw Error(o(558))}return Xe(n),null;case 13:if(r=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Hi(n),r!==null&&r.dehydrated!==null){if(e===null){if(!u)throw Error(o(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));u[ot]=n}else Qa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Xe(n),u=!1}else u=hc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?(Ht(n),n):(Ht(n),null)}return Ht(n),(n.flags&128)!==0?(n.lanes=a,n):(a=r!==null,e=e!==null&&e.memoizedState!==null,a&&(r=n.child,u=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(u=r.alternate.memoizedState.cachePool.pool),h=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),h!==u&&(r.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),Jo(n,n.updateQueue),Xe(n),null);case 4:return de(),e===null&&jd(n.stateNode.containerInfo),Xe(n),null;case 10:return Rn(n.type),Xe(n),null;case 19:if(Y(Ie),r=n.memoizedState,r===null)return Xe(n),null;if(u=(n.flags&128)!==0,h=r.rendering,h===null)if(u)nr(r,!1);else{if(Je!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=Lo(e),h!==null){for(n.flags|=128,nr(r,!1),e=h.updateQueue,n.updateQueue=e,Jo(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Kh(a,e),a=a.sibling;return P(Ie,Ie.current&1|2),ze&&An(n,r.treeForkCount),n.child}e=e.sibling}r.tail!==null&&dt()>ns&&(n.flags|=128,u=!0,nr(r,!1),n.lanes=4194304)}else{if(!u)if(e=Lo(h),e!==null){if(n.flags|=128,u=!0,e=e.updateQueue,n.updateQueue=e,Jo(n,e),nr(r,!0),r.tail===null&&r.tailMode==="hidden"&&!h.alternate&&!ze)return Xe(n),null}else 2*dt()-r.renderingStartTime>ns&&a!==536870912&&(n.flags|=128,u=!0,nr(r,!1),n.lanes=4194304);r.isBackwards?(h.sibling=n.child,n.child=h):(e=r.last,e!==null?e.sibling=h:n.child=h,r.last=h)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=dt(),e.sibling=null,a=Ie.current,P(Ie,u?a&1|2:a&1),ze&&An(n,r.treeForkCount),e):(Xe(n),null);case 22:case 23:return Ht(n),_c(),r=n.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(n.flags|=8192):r&&(n.flags|=8192),r?(a&536870912)!==0&&(n.flags&128)===0&&(Xe(n),n.subtreeFlags&6&&(n.flags|=8192)):Xe(n),a=n.updateQueue,a!==null&&Jo(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),r=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),r!==a&&(n.flags|=2048),e!==null&&Y(Fa),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Rn(nt),Xe(n),null;case 25:return null;case 30:return null}throw Error(o(156,n.tag))}function ob(e,n){switch(dc(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Rn(nt),de(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return be(n),null;case 31:if(n.memoizedState!==null){if(Ht(n),n.alternate===null)throw Error(o(340));Qa()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Ht(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(o(340));Qa()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(Ie),null;case 4:return de(),null;case 10:return Rn(n.type),null;case 22:case 23:return Ht(n),_c(),e!==null&&Y(Fa),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Rn(nt),null;case 25:return null;default:return null}}function Sg(e,n){switch(dc(n),n.tag){case 3:Rn(nt),de();break;case 26:case 27:case 5:be(n);break;case 4:de();break;case 31:n.memoizedState!==null&&Ht(n);break;case 13:Ht(n);break;case 19:Y(Ie);break;case 10:Rn(n.type);break;case 22:case 23:Ht(n),_c(),e!==null&&Y(Fa);break;case 24:Rn(nt)}}function ar(e,n){try{var a=n.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var u=r.next;a=u;do{if((a.tag&e)===e){r=void 0;var h=a.create,b=a.inst;r=h(),b.destroy=r}a=a.next}while(a!==u)}}catch(C){Be(n,n.return,C)}}function ga(e,n,a){try{var r=n.updateQueue,u=r!==null?r.lastEffect:null;if(u!==null){var h=u.next;r=h;do{if((r.tag&e)===e){var b=r.inst,C=b.destroy;if(C!==void 0){b.destroy=void 0,u=n;var H=a,W=C;try{W()}catch(ne){Be(u,H,ne)}}}r=r.next}while(r!==h)}}catch(ne){Be(n,n.return,ne)}}function Eg(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{hm(n,a)}catch(r){Be(e,e.return,r)}}}function Ng(e,n,a){a.props=ti(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(r){Be(e,n,r)}}function ir(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof a=="function"?e.refCleanup=a(r):a.current=r}}catch(u){Be(e,n,u)}}function mn(e,n){var a=e.ref,r=e.refCleanup;if(a!==null)if(typeof r=="function")try{r()}catch(u){Be(e,n,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){Be(e,n,u)}else a.current=null}function jg(e){var n=e.type,a=e.memoizedProps,r=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break e;case"img":a.src?r.src=a.src:a.srcSet&&(r.srcset=a.srcSet)}}catch(u){Be(e,e.return,u)}}function id(e,n,a){try{var r=e.stateNode;Tb(r,e.type,a,n),r[yt]=n}catch(u){Be(e,e.return,u)}}function _g(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Sa(e.type)||e.tag===4}function ld(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_g(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Sa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function rd(e,n,a){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Mn));else if(r!==4&&(r===27&&Sa(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(rd(e,n,a),e=e.sibling;e!==null;)rd(e,n,a),e=e.sibling}function Po(e,n,a){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(r!==4&&(r===27&&Sa(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Po(e,n,a),e=e.sibling;e!==null;)Po(e,n,a),e=e.sibling}function Cg(e){var n=e.stateNode,a=e.memoizedProps;try{for(var r=e.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);gt(n,r,a),n[ot]=e,n[yt]=a}catch(h){Be(e,e.return,h)}}var Ln=!1,lt=!1,od=!1,Mg=typeof WeakSet=="function"?WeakSet:Set,ut=null;function sb(e,n){if(e=e.containerInfo,Md=vs,e=Yh(e),ec(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var r=a.getSelection&&a.getSelection();if(r&&r.rangeCount!==0){a=r.anchorNode;var u=r.anchorOffset,h=r.focusNode;r=r.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break e}var b=0,C=-1,H=-1,W=0,ne=0,ie=e,F=null;t:for(;;){for(var I;ie!==a||u!==0&&ie.nodeType!==3||(C=b+u),ie!==h||r!==0&&ie.nodeType!==3||(H=b+r),ie.nodeType===3&&(b+=ie.nodeValue.length),(I=ie.firstChild)!==null;)F=ie,ie=I;for(;;){if(ie===e)break t;if(F===a&&++W===u&&(C=b),F===h&&++ne===r&&(H=b),(I=ie.nextSibling)!==null)break;ie=F,F=ie.parentNode}ie=I}a=C===-1||H===-1?null:{start:C,end:H}}else a=null}a=a||{start:0,end:0}}else a=null;for(Td={focusedElem:e,selectionRange:a},vs=!1,ut=n;ut!==null;)if(n=ut,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ut=e;else for(;ut!==null;){switch(n=ut,h=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)u=e[a],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,a=n,u=h.memoizedProps,h=h.memoizedState,r=a.stateNode;try{var fe=ti(a.type,u);e=r.getSnapshotBeforeUpdate(fe,h),r.__reactInternalSnapshotBeforeUpdate=e}catch(ye){Be(a,a.return,ye)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Dd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Dd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=n.sibling,e!==null){e.return=n.return,ut=e;break}ut=n.return}}function Tg(e,n,a){var r=a.flags;switch(a.tag){case 0:case 11:case 15:Yn(e,a),r&4&&ar(5,a);break;case 1:if(Yn(e,a),r&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(b){Be(a,a.return,b)}else{var u=ti(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(u,n,e.__reactInternalSnapshotBeforeUpdate)}catch(b){Be(a,a.return,b)}}r&64&&Eg(a),r&512&&ir(a,a.return);break;case 3:if(Yn(e,a),r&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{hm(e,n)}catch(b){Be(a,a.return,b)}}break;case 27:n===null&&r&4&&Cg(a);case 26:case 5:Yn(e,a),n===null&&r&4&&jg(a),r&512&&ir(a,a.return);break;case 12:Yn(e,a);break;case 31:Yn(e,a),r&4&&Dg(e,a);break;case 13:Yn(e,a),r&4&&Rg(e,a),r&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=yb.bind(null,a),Bb(e,a))));break;case 22:if(r=a.memoizedState!==null||Ln,!r){n=n!==null&&n.memoizedState!==null||lt,u=Ln;var h=lt;Ln=r,(lt=n)&&!h?qn(e,a,(a.subtreeFlags&8772)!==0):Yn(e,a),Ln=u,lt=h}break;case 30:break;default:Yn(e,a)}}function zg(e){var n=e.alternate;n!==null&&(e.alternate=null,zg(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&zl(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ge=null,_t=!1;function Un(e,n,a){for(a=a.child;a!==null;)Ag(e,n,a),a=a.sibling}function Ag(e,n,a){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(ka,a)}catch{}switch(a.tag){case 26:lt||mn(a,n),Un(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:lt||mn(a,n);var r=Ge,u=_t;Sa(a.type)&&(Ge=a.stateNode,_t=!1),Un(e,n,a),hr(a.stateNode),Ge=r,_t=u;break;case 5:lt||mn(a,n);case 6:if(r=Ge,u=_t,Ge=null,Un(e,n,a),Ge=r,_t=u,Ge!==null)if(_t)try{(Ge.nodeType===9?Ge.body:Ge.nodeName==="HTML"?Ge.ownerDocument.body:Ge).removeChild(a.stateNode)}catch(h){Be(a,n,h)}else try{Ge.removeChild(a.stateNode)}catch(h){Be(a,n,h)}break;case 18:Ge!==null&&(_t?(e=Ge,Ep(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),nl(e)):Ep(Ge,a.stateNode));break;case 4:r=Ge,u=_t,Ge=a.stateNode.containerInfo,_t=!0,Un(e,n,a),Ge=r,_t=u;break;case 0:case 11:case 14:case 15:ga(2,a,n),lt||ga(4,a,n),Un(e,n,a);break;case 1:lt||(mn(a,n),r=a.stateNode,typeof r.componentWillUnmount=="function"&&Ng(a,n,r)),Un(e,n,a);break;case 21:Un(e,n,a);break;case 22:lt=(r=lt)||a.memoizedState!==null,Un(e,n,a),lt=r;break;default:Un(e,n,a)}}function Dg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{nl(e)}catch(a){Be(n,n.return,a)}}}function Rg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{nl(e)}catch(a){Be(n,n.return,a)}}function ub(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Mg),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Mg),n;default:throw Error(o(435,e.tag))}}function Io(e,n){var a=ub(e);n.forEach(function(r){if(!a.has(r)){a.add(r);var u=xb.bind(null,e,r);r.then(u,u)}})}function Ct(e,n){var a=n.deletions;if(a!==null)for(var r=0;r<a.length;r++){var u=a[r],h=e,b=n,C=b;e:for(;C!==null;){switch(C.tag){case 27:if(Sa(C.type)){Ge=C.stateNode,_t=!1;break e}break;case 5:Ge=C.stateNode,_t=!1;break e;case 3:case 4:Ge=C.stateNode.containerInfo,_t=!0;break e}C=C.return}if(Ge===null)throw Error(o(160));Ag(h,b,u),Ge=null,_t=!1,h=u.alternate,h!==null&&(h.return=null),u.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Og(n,e),n=n.sibling}var en=null;function Og(e,n){var a=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ct(n,e),Mt(e),r&4&&(ga(3,e,e.return),ar(3,e),ga(5,e,e.return));break;case 1:Ct(n,e),Mt(e),r&512&&(lt||a===null||mn(a,a.return)),r&64&&Ln&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?r:a.concat(r))));break;case 26:var u=en;if(Ct(n,e),Mt(e),r&512&&(lt||a===null||mn(a,a.return)),r&4){var h=a!==null?a.memoizedState:null;if(r=e.memoizedState,a===null)if(r===null)if(e.stateNode===null){e:{r=e.type,a=e.memoizedProps,u=u.ownerDocument||u;t:switch(r){case"title":h=u.getElementsByTagName("title")[0],(!h||h[Ua]||h[ot]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=u.createElement(r),u.head.insertBefore(h,u.querySelector("head > title"))),gt(h,r,a),h[ot]=e,tt(h),r=h;break e;case"link":var b=Op("link","href",u).get(r+(a.href||""));if(b){for(var C=0;C<b.length;C++)if(h=b[C],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(C,1);break t}}h=u.createElement(r),gt(h,r,a),u.head.appendChild(h);break;case"meta":if(b=Op("meta","content",u).get(r+(a.content||""))){for(C=0;C<b.length;C++)if(h=b[C],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(C,1);break t}}h=u.createElement(r),gt(h,r,a),u.head.appendChild(h);break;default:throw Error(o(468,r))}h[ot]=e,tt(h),r=h}e.stateNode=r}else Hp(u,e.type,e.stateNode);else e.stateNode=Rp(u,r,e.memoizedProps);else h!==r?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,r===null?Hp(u,e.type,e.stateNode):Rp(u,r,e.memoizedProps)):r===null&&e.stateNode!==null&&id(e,e.memoizedProps,a.memoizedProps)}break;case 27:Ct(n,e),Mt(e),r&512&&(lt||a===null||mn(a,a.return)),a!==null&&r&4&&id(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Ct(n,e),Mt(e),r&512&&(lt||a===null||mn(a,a.return)),e.flags&32){u=e.stateNode;try{ji(u,"")}catch(fe){Be(e,e.return,fe)}}r&4&&e.stateNode!=null&&(u=e.memoizedProps,id(e,u,a!==null?a.memoizedProps:u)),r&1024&&(od=!0);break;case 6:if(Ct(n,e),Mt(e),r&4){if(e.stateNode===null)throw Error(o(162));r=e.memoizedProps,a=e.stateNode;try{a.nodeValue=r}catch(fe){Be(e,e.return,fe)}}break;case 3:if(gs=null,u=en,en=hs(n.containerInfo),Ct(n,e),en=u,Mt(e),r&4&&a!==null&&a.memoizedState.isDehydrated)try{nl(n.containerInfo)}catch(fe){Be(e,e.return,fe)}od&&(od=!1,Hg(e));break;case 4:r=en,en=hs(e.stateNode.containerInfo),Ct(n,e),Mt(e),en=r;break;case 12:Ct(n,e),Mt(e);break;case 31:Ct(n,e),Mt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Io(e,r)));break;case 13:Ct(n,e),Mt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ts=dt()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Io(e,r)));break;case 22:u=e.memoizedState!==null;var H=a!==null&&a.memoizedState!==null,W=Ln,ne=lt;if(Ln=W||u,lt=ne||H,Ct(n,e),lt=ne,Ln=W,Mt(e),r&8192)e:for(n=e.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(a===null||H||Ln||lt||ni(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){H=a=n;try{if(h=H.stateNode,u)b=h.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{C=H.stateNode;var ie=H.memoizedProps.style,F=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;C.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(fe){Be(H,H.return,fe)}}}else if(n.tag===6){if(a===null){H=n;try{H.stateNode.nodeValue=u?"":H.memoizedProps}catch(fe){Be(H,H.return,fe)}}}else if(n.tag===18){if(a===null){H=n;try{var I=H.stateNode;u?Np(I,!0):Np(H.stateNode,!1)}catch(fe){Be(H,H.return,fe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}r&4&&(r=e.updateQueue,r!==null&&(a=r.retryQueue,a!==null&&(r.retryQueue=null,Io(e,a))));break;case 19:Ct(n,e),Mt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Io(e,r)));break;case 30:break;case 21:break;default:Ct(n,e),Mt(e)}}function Mt(e){var n=e.flags;if(n&2){try{for(var a,r=e.return;r!==null;){if(_g(r)){a=r;break}r=r.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var u=a.stateNode,h=ld(e);Po(e,h,u);break;case 5:var b=a.stateNode;a.flags&32&&(ji(b,""),a.flags&=-33);var C=ld(e);Po(e,C,b);break;case 3:case 4:var H=a.stateNode.containerInfo,W=ld(e);rd(e,W,H);break;default:throw Error(o(161))}}catch(ne){Be(e,e.return,ne)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Hg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Hg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Yn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Tg(e,n.alternate,n),n=n.sibling}function ni(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ga(4,n,n.return),ni(n);break;case 1:mn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Ng(n,n.return,a),ni(n);break;case 27:hr(n.stateNode);case 26:case 5:mn(n,n.return),ni(n);break;case 22:n.memoizedState===null&&ni(n);break;case 30:ni(n);break;default:ni(n)}e=e.sibling}}function qn(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var r=n.alternate,u=e,h=n,b=h.flags;switch(h.tag){case 0:case 11:case 15:qn(u,h,a),ar(4,h);break;case 1:if(qn(u,h,a),r=h,u=r.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(W){Be(r,r.return,W)}if(r=h,u=r.updateQueue,u!==null){var C=r.stateNode;try{var H=u.shared.hiddenCallbacks;if(H!==null)for(u.shared.hiddenCallbacks=null,u=0;u<H.length;u++)fm(H[u],C)}catch(W){Be(r,r.return,W)}}a&&b&64&&Eg(h),ir(h,h.return);break;case 27:Cg(h);case 26:case 5:qn(u,h,a),a&&r===null&&b&4&&jg(h),ir(h,h.return);break;case 12:qn(u,h,a);break;case 31:qn(u,h,a),a&&b&4&&Dg(u,h);break;case 13:qn(u,h,a),a&&b&4&&Rg(u,h);break;case 22:h.memoizedState===null&&qn(u,h,a),ir(h,h.return);break;case 30:break;default:qn(u,h,a)}n=n.sibling}}function sd(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Xl(a))}function ud(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Xl(e))}function tn(e,n,a,r){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)kg(e,n,a,r),n=n.sibling}function kg(e,n,a,r){var u=n.flags;switch(n.tag){case 0:case 11:case 15:tn(e,n,a,r),u&2048&&ar(9,n);break;case 1:tn(e,n,a,r);break;case 3:tn(e,n,a,r),u&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Xl(e)));break;case 12:if(u&2048){tn(e,n,a,r),e=n.stateNode;try{var h=n.memoizedProps,b=h.id,C=h.onPostCommit;typeof C=="function"&&C(b,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(H){Be(n,n.return,H)}}else tn(e,n,a,r);break;case 31:tn(e,n,a,r);break;case 13:tn(e,n,a,r);break;case 23:break;case 22:h=n.stateNode,b=n.alternate,n.memoizedState!==null?h._visibility&2?tn(e,n,a,r):lr(e,n):h._visibility&2?tn(e,n,a,r):(h._visibility|=2,Gi(e,n,a,r,(n.subtreeFlags&10256)!==0||!1)),u&2048&&sd(b,n);break;case 24:tn(e,n,a,r),u&2048&&ud(n.alternate,n);break;default:tn(e,n,a,r)}}function Gi(e,n,a,r,u){for(u=u&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=e,b=n,C=a,H=r,W=b.flags;switch(b.tag){case 0:case 11:case 15:Gi(h,b,C,H,u),ar(8,b);break;case 23:break;case 22:var ne=b.stateNode;b.memoizedState!==null?ne._visibility&2?Gi(h,b,C,H,u):lr(h,b):(ne._visibility|=2,Gi(h,b,C,H,u)),u&&W&2048&&sd(b.alternate,b);break;case 24:Gi(h,b,C,H,u),u&&W&2048&&ud(b.alternate,b);break;default:Gi(h,b,C,H,u)}n=n.sibling}}function lr(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,r=n,u=r.flags;switch(r.tag){case 22:lr(a,r),u&2048&&sd(r.alternate,r);break;case 24:lr(a,r),u&2048&&ud(r.alternate,r);break;default:lr(a,r)}n=n.sibling}}var rr=8192;function Zi(e,n,a){if(e.subtreeFlags&rr)for(e=e.child;e!==null;)Bg(e,n,a),e=e.sibling}function Bg(e,n,a){switch(e.tag){case 26:Zi(e,n,a),e.flags&rr&&e.memoizedState!==null&&Kb(a,en,e.memoizedState,e.memoizedProps);break;case 5:Zi(e,n,a);break;case 3:case 4:var r=en;en=hs(e.stateNode.containerInfo),Zi(e,n,a),en=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=rr,rr=16777216,Zi(e,n,a),rr=r):Zi(e,n,a));break;default:Zi(e,n,a)}}function Lg(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function or(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var r=n[a];ut=r,Yg(r,e)}Lg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ug(e),e=e.sibling}function Ug(e){switch(e.tag){case 0:case 11:case 15:or(e),e.flags&2048&&ga(9,e,e.return);break;case 3:or(e);break;case 12:or(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,es(e)):or(e);break;default:or(e)}}function es(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var r=n[a];ut=r,Yg(r,e)}Lg(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ga(8,n,n.return),es(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,es(n));break;default:es(n)}e=e.sibling}}function Yg(e,n){for(;ut!==null;){var a=ut;switch(a.tag){case 0:case 11:case 15:ga(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var r=a.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Xl(a.memoizedState.cache)}if(r=a.child,r!==null)r.return=a,ut=r;else e:for(a=e;ut!==null;){r=ut;var u=r.sibling,h=r.return;if(zg(r),r===a){ut=null;break e}if(u!==null){u.return=h,ut=u;break e}ut=h}}}var cb={getCacheForType:function(e){var n=ht(nt),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return ht(nt).controller.signal}},db=typeof WeakMap=="function"?WeakMap:Map,Oe=0,Ve=null,_e=null,Me=0,ke=0,kt=null,pa=!1,Qi=!1,cd=!1,Vn=0,Je=0,ya=0,ai=0,dd=0,Bt=0,Wi=0,sr=null,Tt=null,fd=!1,ts=0,qg=0,ns=1/0,as=null,xa=null,st=0,va=null,Ki=null,$n=0,hd=0,md=null,Vg=null,ur=0,gd=null;function Lt(){return(Oe&2)!==0&&Me!==0?Me&-Me:A.T!==null?wd():ro()}function $g(){if(Bt===0)if((Me&536870912)===0||ze){var e=xi;xi<<=1,(xi&3932160)===0&&(xi=262144),Bt=e}else Bt=536870912;return e=Ot.current,e!==null&&(e.flags|=32),Bt}function zt(e,n,a){(e===Ve&&(ke===2||ke===9)||e.cancelPendingCommit!==null)&&(Fi(e,0),ba(e,Me,Bt,!1)),La(e,a),((Oe&2)===0||e!==Ve)&&(e===Ve&&((Oe&2)===0&&(ai|=a),Je===4&&ba(e,Me,Bt,!1)),gn(e))}function Xg(e,n,a){if((Oe&6)!==0)throw Error(o(327));var r=!a&&(n&127)===0&&(n&e.expiredLanes)===0||Ba(e,n),u=r?mb(e,n):yd(e,n,!0),h=r;do{if(u===0){Qi&&!r&&ba(e,n,0,!1);break}else{if(a=e.current.alternate,h&&!fb(a)){u=yd(e,n,!1),h=!1;continue}if(u===2){if(h=n,e.errorRecoveryDisabledLanes&h)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){n=b;e:{var C=e;u=sr;var H=C.current.memoizedState.isDehydrated;if(H&&(Fi(C,b).flags|=256),b=yd(C,b,!1),b!==2){if(cd&&!H){C.errorRecoveryDisabledLanes|=h,ai|=h,u=4;break e}h=Tt,Tt=u,h!==null&&(Tt===null?Tt=h:Tt.push.apply(Tt,h))}u=b}if(h=!1,u!==2)continue}}if(u===1){Fi(e,0),ba(e,n,0,!0);break}e:{switch(r=e,h=u,h){case 0:case 1:throw Error(o(345));case 4:if((n&4194048)!==n)break;case 6:ba(r,n,Bt,!pa);break e;case 2:Tt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((n&62914560)===n&&(u=ts+300-dt(),10<u)){if(ba(r,n,Bt,!pa),bi(r,0,!0)!==0)break e;$n=n,r.timeoutHandle=wp(Gg.bind(null,r,a,Tt,as,fd,n,Bt,ai,Wi,pa,h,"Throttled",-0,0),u);break e}Gg(r,a,Tt,as,fd,n,Bt,ai,Wi,pa,h,null,-0,0)}}break}while(!0);gn(e)}function Gg(e,n,a,r,u,h,b,C,H,W,ne,ie,F,I){if(e.timeoutHandle=-1,ie=n.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Mn},Bg(n,h,ie);var fe=(h&62914560)===h?ts-dt():(h&4194048)===h?qg-dt():0;if(fe=Fb(ie,fe),fe!==null){$n=h,e.cancelPendingCommit=fe(Ig.bind(null,e,n,h,a,r,u,b,C,H,ne,ie,null,F,I)),ba(e,h,b,!W);return}}Ig(e,n,h,a,r,u,b,C,H)}function fb(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var r=0;r<a.length;r++){var u=a[r],h=u.getSnapshot;u=u.value;try{if(!Dt(h(),u))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ba(e,n,a,r){n&=~dd,n&=~ai,e.suspendedLanes|=n,e.pingedLanes&=~n,r&&(e.warmLanes|=n),r=e.expirationTimes;for(var u=n;0<u;){var h=31-bt(u),b=1<<h;r[h]=-1,u&=~b}a!==0&&ao(e,a,n)}function is(){return(Oe&6)===0?(cr(0),!1):!0}function pd(){if(_e!==null){if(ke===0)var e=_e.return;else e=_e,Dn=Wa=null,Dc(e),Yi=null,Zl=0,e=_e;for(;e!==null;)Sg(e.alternate,e),e=e.return;_e=null}}function Fi(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Db(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),$n=0,pd(),Ve=e,_e=a=zn(e.current,null),Me=n,ke=0,kt=null,pa=!1,Qi=Ba(e,n),cd=!1,Wi=Bt=dd=ai=ya=Je=0,Tt=sr=null,fd=!1,(n&8)!==0&&(n|=n&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=n;0<r;){var u=31-bt(r),h=1<<u;n|=e[u],r&=~h}return Vn=n,jo(),a}function Zg(e,n){Se=null,A.H=er,n===Ui||n===Ro?(n=sm(),ke=3):n===bc?(n=sm(),ke=4):ke=n===Wc?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,kt=n,_e===null&&(Je=1,Qo(e,Xt(n,e.current)))}function Qg(){var e=Ot.current;return e===null?!0:(Me&4194048)===Me?Wt===null:(Me&62914560)===Me||(Me&536870912)!==0?e===Wt:!1}function Wg(){var e=A.H;return A.H=er,e===null?er:e}function Kg(){var e=A.A;return A.A=cb,e}function ls(){Je=4,pa||(Me&4194048)!==Me&&Ot.current!==null||(Qi=!0),(ya&134217727)===0&&(ai&134217727)===0||Ve===null||ba(Ve,Me,Bt,!1)}function yd(e,n,a){var r=Oe;Oe|=2;var u=Wg(),h=Kg();(Ve!==e||Me!==n)&&(as=null,Fi(e,n)),n=!1;var b=Je;e:do try{if(ke!==0&&_e!==null){var C=_e,H=kt;switch(ke){case 8:pd(),b=6;break e;case 3:case 2:case 9:case 6:Ot.current===null&&(n=!0);var W=ke;if(ke=0,kt=null,Ji(e,C,H,W),a&&Qi){b=0;break e}break;default:W=ke,ke=0,kt=null,Ji(e,C,H,W)}}hb(),b=Je;break}catch(ne){Zg(e,ne)}while(!0);return n&&e.shellSuspendCounter++,Dn=Wa=null,Oe=r,A.H=u,A.A=h,_e===null&&(Ve=null,Me=0,jo()),b}function hb(){for(;_e!==null;)Fg(_e)}function mb(e,n){var a=Oe;Oe|=2;var r=Wg(),u=Kg();Ve!==e||Me!==n?(as=null,ns=dt()+500,Fi(e,n)):Qi=Ba(e,n);e:do try{if(ke!==0&&_e!==null){n=_e;var h=kt;t:switch(ke){case 1:ke=0,kt=null,Ji(e,n,h,1);break;case 2:case 9:if(rm(h)){ke=0,kt=null,Jg(n);break}n=function(){ke!==2&&ke!==9||Ve!==e||(ke=7),gn(e)},h.then(n,n);break e;case 3:ke=7;break e;case 4:ke=5;break e;case 7:rm(h)?(ke=0,kt=null,Jg(n)):(ke=0,kt=null,Ji(e,n,h,7));break;case 5:var b=null;switch(_e.tag){case 26:b=_e.memoizedState;case 5:case 27:var C=_e;if(b?kp(b):C.stateNode.complete){ke=0,kt=null;var H=C.sibling;if(H!==null)_e=H;else{var W=C.return;W!==null?(_e=W,rs(W)):_e=null}break t}}ke=0,kt=null,Ji(e,n,h,5);break;case 6:ke=0,kt=null,Ji(e,n,h,6);break;case 8:pd(),Je=6;break e;default:throw Error(o(462))}}gb();break}catch(ne){Zg(e,ne)}while(!0);return Dn=Wa=null,A.H=r,A.A=u,Oe=a,_e!==null?0:(Ve=null,Me=0,jo(),Je)}function gb(){for(;_e!==null&&!Ra();)Fg(_e)}function Fg(e){var n=bg(e.alternate,e,Vn);e.memoizedProps=e.pendingProps,n===null?rs(e):_e=n}function Jg(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=mg(a,n,n.pendingProps,n.type,void 0,Me);break;case 11:n=mg(a,n,n.pendingProps,n.type.render,n.ref,Me);break;case 5:Dc(n);default:Sg(a,n),n=_e=Kh(n,Vn),n=bg(a,n,Vn)}e.memoizedProps=e.pendingProps,n===null?rs(e):_e=n}function Ji(e,n,a,r){Dn=Wa=null,Dc(n),Yi=null,Zl=0;var u=n.return;try{if(ab(e,u,n,a,Me)){Je=1,Qo(e,Xt(a,e.current)),_e=null;return}}catch(h){if(u!==null)throw _e=u,h;Je=1,Qo(e,Xt(a,e.current)),_e=null;return}n.flags&32768?(ze||r===1?e=!0:Qi||(Me&536870912)!==0?e=!1:(pa=e=!0,(r===2||r===9||r===3||r===6)&&(r=Ot.current,r!==null&&r.tag===13&&(r.flags|=16384))),Pg(n,e)):rs(n)}function rs(e){var n=e;do{if((n.flags&32768)!==0){Pg(n,pa);return}e=n.return;var a=rb(n.alternate,n,Vn);if(a!==null){_e=a;return}if(n=n.sibling,n!==null){_e=n;return}_e=n=e}while(n!==null);Je===0&&(Je=5)}function Pg(e,n){do{var a=ob(e.alternate,e);if(a!==null){a.flags&=32767,_e=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){_e=e;return}_e=e=a}while(e!==null);Je=6,_e=null}function Ig(e,n,a,r,u,h,b,C,H){e.cancelPendingCommit=null;do os();while(st!==0);if((Oe&6)!==0)throw Error(o(327));if(n!==null){if(n===e.current)throw Error(o(177));if(h=n.lanes|n.childLanes,h|=lc,Hu(e,a,h,b,C,H),e===Ve&&(_e=Ve=null,Me=0),Ki=n,va=e,$n=a,hd=h,md=u,Vg=r,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,vb(Ha,function(){return ip(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||r){r=A.T,A.T=null,u=O.p,O.p=2,b=Oe,Oe|=4;try{sb(e,n,a)}finally{Oe=b,O.p=u,A.T=r}}st=1,ep(),tp(),np()}}function ep(){if(st===1){st=0;var e=va,n=Ki,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=A.T,A.T=null;var r=O.p;O.p=2;var u=Oe;Oe|=4;try{Og(n,e);var h=Td,b=Yh(e.containerInfo),C=h.focusedElem,H=h.selectionRange;if(b!==C&&C&&C.ownerDocument&&Uh(C.ownerDocument.documentElement,C)){if(H!==null&&ec(C)){var W=H.start,ne=H.end;if(ne===void 0&&(ne=W),"selectionStart"in C)C.selectionStart=W,C.selectionEnd=Math.min(ne,C.value.length);else{var ie=C.ownerDocument||document,F=ie&&ie.defaultView||window;if(F.getSelection){var I=F.getSelection(),fe=C.textContent.length,ye=Math.min(H.start,fe),qe=H.end===void 0?ye:Math.min(H.end,fe);!I.extend&&ye>qe&&(b=qe,qe=ye,ye=b);var X=Lh(C,ye),q=Lh(C,qe);if(X&&q&&(I.rangeCount!==1||I.anchorNode!==X.node||I.anchorOffset!==X.offset||I.focusNode!==q.node||I.focusOffset!==q.offset)){var Z=ie.createRange();Z.setStart(X.node,X.offset),I.removeAllRanges(),ye>qe?(I.addRange(Z),I.extend(q.node,q.offset)):(Z.setEnd(q.node,q.offset),I.addRange(Z))}}}}for(ie=[],I=C;I=I.parentNode;)I.nodeType===1&&ie.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<ie.length;C++){var ae=ie[C];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}vs=!!Md,Td=Md=null}finally{Oe=u,O.p=r,A.T=a}}e.current=n,st=2}}function tp(){if(st===2){st=0;var e=va,n=Ki,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=A.T,A.T=null;var r=O.p;O.p=2;var u=Oe;Oe|=4;try{Tg(e,n.alternate,n)}finally{Oe=u,O.p=r,A.T=a}}st=3}}function np(){if(st===4||st===3){st=0,Oa();var e=va,n=Ki,a=$n,r=Vg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?st=5:(st=0,Ki=va=null,ap(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(xa=null),Tl(a),n=n.stateNode,vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(ka,n,void 0,(n.current.flags&128)===128)}catch{}if(r!==null){n=A.T,u=O.p,O.p=2,A.T=null;try{for(var h=e.onRecoverableError,b=0;b<r.length;b++){var C=r[b];h(C.value,{componentStack:C.stack})}}finally{A.T=n,O.p=u}}($n&3)!==0&&os(),gn(e),u=e.pendingLanes,(a&261930)!==0&&(u&42)!==0?e===gd?ur++:(ur=0,gd=e):ur=0,cr(0)}}function ap(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Xl(n)))}function os(){return ep(),tp(),np(),ip()}function ip(){if(st!==5)return!1;var e=va,n=hd;hd=0;var a=Tl($n),r=A.T,u=O.p;try{O.p=32>a?32:a,A.T=null,a=md,md=null;var h=va,b=$n;if(st=0,Ki=va=null,$n=0,(Oe&6)!==0)throw Error(o(331));var C=Oe;if(Oe|=4,Ug(h.current),kg(h,h.current,b,a),Oe=C,cr(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(ka,h)}catch{}return!0}finally{O.p=u,A.T=r,ap(e,n)}}function lp(e,n,a){n=Xt(a,n),n=Qc(e.stateNode,n,2),e=fa(e,n,2),e!==null&&(La(e,2),gn(e))}function Be(e,n,a){if(e.tag===3)lp(e,e,a);else for(;n!==null;){if(n.tag===3){lp(n,e,a);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xa===null||!xa.has(r))){e=Xt(a,e),a=rg(2),r=fa(n,a,2),r!==null&&(og(a,r,n,e),La(r,2),gn(r));break}}n=n.return}}function xd(e,n,a){var r=e.pingCache;if(r===null){r=e.pingCache=new db;var u=new Set;r.set(n,u)}else u=r.get(n),u===void 0&&(u=new Set,r.set(n,u));u.has(a)||(cd=!0,u.add(a),e=pb.bind(null,e,n,a),n.then(e,e))}function pb(e,n,a){var r=e.pingCache;r!==null&&r.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ve===e&&(Me&a)===a&&(Je===4||Je===3&&(Me&62914560)===Me&&300>dt()-ts?(Oe&2)===0&&Fi(e,0):dd|=a,Wi===Me&&(Wi=0)),gn(e)}function rp(e,n){n===0&&(n=no()),e=Ga(e,n),e!==null&&(La(e,n),gn(e))}function yb(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),rp(e,a)}function xb(e,n){var a=0;switch(e.tag){case 31:case 13:var r=e.stateNode,u=e.memoizedState;u!==null&&(a=u.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(o(314))}r!==null&&r.delete(n),rp(e,a)}function vb(e,n){return Jt(e,n)}var ss=null,Pi=null,vd=!1,us=!1,bd=!1,wa=0;function gn(e){e!==Pi&&e.next===null&&(Pi===null?ss=Pi=e:Pi=Pi.next=e),us=!0,vd||(vd=!0,wb())}function cr(e,n){if(!bd&&us){bd=!0;do for(var a=!1,r=ss;r!==null;){if(e!==0){var u=r.pendingLanes;if(u===0)var h=0;else{var b=r.suspendedLanes,C=r.pingedLanes;h=(1<<31-bt(42|e)+1)-1,h&=u&~(b&~C),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,cp(r,h))}else h=Me,h=bi(r,r===Ve?h:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(h&3)===0||Ba(r,h)||(a=!0,cp(r,h));r=r.next}while(a);bd=!1}}function bb(){op()}function op(){us=vd=!1;var e=0;wa!==0&&Ab()&&(e=wa);for(var n=dt(),a=null,r=ss;r!==null;){var u=r.next,h=sp(r,n);h===0?(r.next=null,a===null?ss=u:a.next=u,u===null&&(Pi=a)):(a=r,(e!==0||(h&3)!==0)&&(us=!0)),r=u}st!==0&&st!==5||cr(e),wa!==0&&(wa=0)}function sp(e,n){for(var a=e.suspendedLanes,r=e.pingedLanes,u=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var b=31-bt(h),C=1<<b,H=u[b];H===-1?((C&a)===0||(C&r)!==0)&&(u[b]=Ou(C,n)):H<=n&&(e.expiredLanes|=C),h&=~C}if(n=Ve,a=Me,a=bi(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,a===0||e===n&&(ke===2||ke===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Sn(r),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ba(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(r!==null&&Sn(r),Tl(a)){case 2:case 8:a=In;break;case 32:a=Ha;break;case 268435456:a=pi;break;default:a=Ha}return r=up.bind(null,e),a=Jt(a,r),e.callbackPriority=n,e.callbackNode=a,n}return r!==null&&r!==null&&Sn(r),e.callbackPriority=2,e.callbackNode=null,2}function up(e,n){if(st!==0&&st!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(os()&&e.callbackNode!==a)return null;var r=Me;return r=bi(e,e===Ve?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(Xg(e,r,n),sp(e,dt()),e.callbackNode!=null&&e.callbackNode===a?up.bind(null,e):null)}function cp(e,n){if(os())return null;Xg(e,n,!0)}function wb(){Rb(function(){(Oe&6)!==0?Jt(En,bb):op()})}function wd(){if(wa===0){var e=Bi;e===0&&(e=yi,yi<<=1,(yi&261888)===0&&(yi=256)),wa=e}return wa}function dp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:yo(""+e)}function fp(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function Sb(e,n,a,r,u){if(n==="submit"&&a&&a.stateNode===u){var h=dp((u[yt]||null).action),b=r.submitter;b&&(n=(n=b[yt]||null)?dp(n.formAction):b.getAttribute("formAction"),n!==null&&(h=n,b=null));var C=new wo("action","action",null,r,u);e.push({event:C,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(wa!==0){var H=b?fp(u,b):new FormData(u);qc(a,{pending:!0,data:H,method:u.method,action:h},null,H)}}else typeof h=="function"&&(C.preventDefault(),H=b?fp(u,b):new FormData(u),qc(a,{pending:!0,data:H,method:u.method,action:h},h,H))},currentTarget:u}]})}}for(var Sd=0;Sd<ic.length;Sd++){var Ed=ic[Sd],Eb=Ed.toLowerCase(),Nb=Ed[0].toUpperCase()+Ed.slice(1);It(Eb,"on"+Nb)}It($h,"onAnimationEnd"),It(Xh,"onAnimationIteration"),It(Gh,"onAnimationStart"),It("dblclick","onDoubleClick"),It("focusin","onFocus"),It("focusout","onBlur"),It(Y1,"onTransitionRun"),It(q1,"onTransitionStart"),It(V1,"onTransitionCancel"),It(Zh,"onTransitionEnd"),ia("onMouseEnter",["mouseout","mouseover"]),ia("onMouseLeave",["mouseout","mouseover"]),ia("onPointerEnter",["pointerout","pointerover"]),ia("onPointerLeave",["pointerout","pointerover"]),_n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_n("onBeforeInput",["compositionend","keypress","textInput","paste"]),_n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dr));function hp(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var r=e[a],u=r.event;r=r.listeners;e:{var h=void 0;if(n)for(var b=r.length-1;0<=b;b--){var C=r[b],H=C.instance,W=C.currentTarget;if(C=C.listener,H!==h&&u.isPropagationStopped())break e;h=C,u.currentTarget=W;try{h(u)}catch(ne){No(ne)}u.currentTarget=null,h=H}else for(b=0;b<r.length;b++){if(C=r[b],H=C.instance,W=C.currentTarget,C=C.listener,H!==h&&u.isPropagationStopped())break e;h=C,u.currentTarget=W;try{h(u)}catch(ne){No(ne)}u.currentTarget=null,h=H}}}}function Ce(e,n){var a=n[wi];a===void 0&&(a=n[wi]=new Set);var r=e+"__bubble";a.has(r)||(mp(n,e,2,!1),a.add(r))}function Nd(e,n,a){var r=0;n&&(r|=4),mp(a,e,r,n)}var cs="_reactListening"+Math.random().toString(36).slice(2);function jd(e){if(!e[cs]){e[cs]=!0,co.forEach(function(a){a!=="selectionchange"&&(jb.has(a)||Nd(a,!1,e),Nd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[cs]||(n[cs]=!0,Nd("selectionchange",!1,n))}}function mp(e,n,a,r){switch($p(n)){case 2:var u=Ib;break;case 8:u=e2;break;default:u=Yd}a=u.bind(null,n,a,e),u=void 0,!Gu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),r?u!==void 0?e.addEventListener(n,a,{capture:!0,passive:u}):e.addEventListener(n,a,!0):u!==void 0?e.addEventListener(n,a,{passive:u}):e.addEventListener(n,a,!1)}function _d(e,n,a,r,u){var h=r;if((n&1)===0&&(n&2)===0&&r!==null)e:for(;;){if(r===null)return;var b=r.tag;if(b===3||b===4){var C=r.stateNode.containerInfo;if(C===u)break;if(b===4)for(b=r.return;b!==null;){var H=b.tag;if((H===3||H===4)&&b.stateNode.containerInfo===u)return;b=b.return}for(;C!==null;){if(b=ea(C),b===null)return;if(H=b.tag,H===5||H===6||H===26||H===27){r=h=b;continue e}C=C.parentNode}}r=r.return}vh(function(){var W=h,ne=$u(a),ie=[];e:{var F=Qh.get(e);if(F!==void 0){var I=wo,fe=e;switch(e){case"keypress":if(vo(a)===0)break e;case"keydown":case"keyup":I=x1;break;case"focusin":fe="focus",I=Ku;break;case"focusout":fe="blur",I=Ku;break;case"beforeblur":case"afterblur":I=Ku;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=Sh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=r1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=w1;break;case $h:case Xh:case Gh:I=u1;break;case Zh:I=E1;break;case"scroll":case"scrollend":I=i1;break;case"wheel":I=j1;break;case"copy":case"cut":case"paste":I=d1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=Nh;break;case"toggle":case"beforetoggle":I=C1}var ye=(n&4)!==0,qe=!ye&&(e==="scroll"||e==="scrollend"),X=ye?F!==null?F+"Capture":null:F;ye=[];for(var q=W,Z;q!==null;){var ae=q;if(Z=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||Z===null||X===null||(ae=Rl(q,X),ae!=null&&ye.push(fr(q,ae,Z))),qe)break;q=q.return}0<ye.length&&(F=new I(F,fe,null,a,ne),ie.push({event:F,listeners:ye}))}}if((n&7)===0){e:{if(F=e==="mouseover"||e==="pointerover",I=e==="mouseout"||e==="pointerout",F&&a!==Vu&&(fe=a.relatedTarget||a.fromElement)&&(ea(fe)||fe[jn]))break e;if((I||F)&&(F=ne.window===ne?ne:(F=ne.ownerDocument)?F.defaultView||F.parentWindow:window,I?(fe=a.relatedTarget||a.toElement,I=W,fe=fe?ea(fe):null,fe!==null&&(qe=c(fe),ye=fe.tag,fe!==qe||ye!==5&&ye!==27&&ye!==6)&&(fe=null)):(I=null,fe=W),I!==fe)){if(ye=Sh,ae="onMouseLeave",X="onMouseEnter",q="mouse",(e==="pointerout"||e==="pointerover")&&(ye=Nh,ae="onPointerLeave",X="onPointerEnter",q="pointer"),qe=I==null?F:na(I),Z=fe==null?F:na(fe),F=new ye(ae,q+"leave",I,a,ne),F.target=qe,F.relatedTarget=Z,ae=null,ea(ne)===W&&(ye=new ye(X,q+"enter",fe,a,ne),ye.target=Z,ye.relatedTarget=qe,ae=ye),qe=ae,I&&fe)t:{for(ye=_b,X=I,q=fe,Z=0,ae=X;ae;ae=ye(ae))Z++;ae=0;for(var pe=q;pe;pe=ye(pe))ae++;for(;0<Z-ae;)X=ye(X),Z--;for(;0<ae-Z;)q=ye(q),ae--;for(;Z--;){if(X===q||q!==null&&X===q.alternate){ye=X;break t}X=ye(X),q=ye(q)}ye=null}else ye=null;I!==null&&gp(ie,F,I,ye,!1),fe!==null&&qe!==null&&gp(ie,qe,fe,ye,!0)}}e:{if(F=W?na(W):window,I=F.nodeName&&F.nodeName.toLowerCase(),I==="select"||I==="input"&&F.type==="file")var De=Dh;else if(zh(F))if(Rh)De=B1;else{De=H1;var he=O1}else I=F.nodeName,!I||I.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?W&&qu(W.elementType)&&(De=Dh):De=k1;if(De&&(De=De(e,W))){Ah(ie,De,a,ne);break e}he&&he(e,F,W),e==="focusout"&&W&&F.type==="number"&&W.memoizedProps.value!=null&&Dl(F,"number",F.value)}switch(he=W?na(W):window,e){case"focusin":(zh(he)||he.contentEditable==="true")&&(Ti=he,tc=W,ql=null);break;case"focusout":ql=tc=Ti=null;break;case"mousedown":nc=!0;break;case"contextmenu":case"mouseup":case"dragend":nc=!1,qh(ie,a,ne);break;case"selectionchange":if(U1)break;case"keydown":case"keyup":qh(ie,a,ne)}var Ee;if(Ju)e:{switch(e){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Mi?Mh(e,a)&&(Te="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(jh&&a.locale!=="ko"&&(Mi||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Mi&&(Ee=bh()):(la=ne,Zu="value"in la?la.value:la.textContent,Mi=!0)),he=ds(W,Te),0<he.length&&(Te=new Eh(Te,e,null,a,ne),ie.push({event:Te,listeners:he}),Ee?Te.data=Ee:(Ee=Th(a),Ee!==null&&(Te.data=Ee)))),(Ee=T1?z1(e,a):A1(e,a))&&(Te=ds(W,"onBeforeInput"),0<Te.length&&(he=new Eh("onBeforeInput","beforeinput",null,a,ne),ie.push({event:he,listeners:Te}),he.data=Ee)),Sb(ie,e,W,a,ne)}hp(ie,n)})}function fr(e,n,a){return{instance:e,listener:n,currentTarget:a}}function ds(e,n){for(var a=n+"Capture",r=[];e!==null;){var u=e,h=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||h===null||(u=Rl(e,a),u!=null&&r.unshift(fr(e,u,h)),u=Rl(e,n),u!=null&&r.push(fr(e,u,h))),e.tag===3)return r;e=e.return}return[]}function _b(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function gp(e,n,a,r,u){for(var h=n._reactName,b=[];a!==null&&a!==r;){var C=a,H=C.alternate,W=C.stateNode;if(C=C.tag,H!==null&&H===r)break;C!==5&&C!==26&&C!==27||W===null||(H=W,u?(W=Rl(a,h),W!=null&&b.unshift(fr(a,W,H))):u||(W=Rl(a,h),W!=null&&b.push(fr(a,W,H)))),a=a.return}b.length!==0&&e.push({event:n,listeners:b})}var Cb=/\r\n?/g,Mb=/\u0000|\uFFFD/g;function pp(e){return(typeof e=="string"?e:""+e).replace(Cb,`
`).replace(Mb,"")}function yp(e,n){return n=pp(n),pp(e)===n}function Ye(e,n,a,r,u,h){switch(a){case"children":typeof r=="string"?n==="body"||n==="textarea"&&r===""||ji(e,r):(typeof r=="number"||typeof r=="bigint")&&n!=="body"&&ji(e,""+r);break;case"className":Ei(e,"class",r);break;case"tabIndex":Ei(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Ei(e,a,r);break;case"style":yh(e,r,h);break;case"data":if(n!=="object"){Ei(e,"data",r);break}case"src":case"href":if(r===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(a);break}r=yo(""+r),e.setAttribute(a,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(n!=="input"&&Ye(e,n,"name",u.name,u,null),Ye(e,n,"formEncType",u.formEncType,u,null),Ye(e,n,"formMethod",u.formMethod,u,null),Ye(e,n,"formTarget",u.formTarget,u,null)):(Ye(e,n,"encType",u.encType,u,null),Ye(e,n,"method",u.method,u,null),Ye(e,n,"target",u.target,u,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(a);break}r=yo(""+r),e.setAttribute(a,r);break;case"onClick":r!=null&&(e.onclick=Mn);break;case"onScroll":r!=null&&Ce("scroll",e);break;case"onScrollEnd":r!=null&&Ce("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(o(61));if(a=r.__html,a!=null){if(u.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}a=yo(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,""+r):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":r===!0?e.setAttribute(a,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,r):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(a,r):e.removeAttribute(a);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(a):e.setAttribute(a,r);break;case"popover":Ce("beforetoggle",e),Ce("toggle",e),Si(e,"popover",r);break;case"xlinkActuate":Pt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Pt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Pt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Pt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Pt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Pt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Pt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Pt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Pt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Si(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=n1.get(a)||a,Si(e,a,r))}}function Cd(e,n,a,r,u,h){switch(a){case"style":yh(e,r,h);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(o(61));if(a=r.__html,a!=null){if(u.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"children":typeof r=="string"?ji(e,r):(typeof r=="number"||typeof r=="bigint")&&ji(e,""+r);break;case"onScroll":r!=null&&Ce("scroll",e);break;case"onScrollEnd":r!=null&&Ce("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Mn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),n=a.slice(2,u?a.length-7:void 0),h=e[yt]||null,h=h!=null?h[a]:null,typeof h=="function"&&e.removeEventListener(n,h,u),typeof r=="function")){typeof h!="function"&&h!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,r,u);break e}a in e?e[a]=r:r===!0?e.setAttribute(a,""):Si(e,a,r)}}}function gt(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",e),Ce("load",e);var r=!1,u=!1,h;for(h in a)if(a.hasOwnProperty(h)){var b=a[h];if(b!=null)switch(h){case"src":r=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:Ye(e,n,h,b,a,null)}}u&&Ye(e,n,"srcSet",a.srcSet,a,null),r&&Ye(e,n,"src",a.src,a,null);return;case"input":Ce("invalid",e);var C=h=b=u=null,H=null,W=null;for(r in a)if(a.hasOwnProperty(r)){var ne=a[r];if(ne!=null)switch(r){case"name":u=ne;break;case"type":b=ne;break;case"checked":H=ne;break;case"defaultChecked":W=ne;break;case"value":h=ne;break;case"defaultValue":C=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(o(137,n));break;default:Ye(e,n,r,ne,a,null)}}po(e,h,C,H,W,b,u,!1);return;case"select":Ce("invalid",e),r=b=h=null;for(u in a)if(a.hasOwnProperty(u)&&(C=a[u],C!=null))switch(u){case"value":h=C;break;case"defaultValue":b=C;break;case"multiple":r=C;default:Ye(e,n,u,C,a,null)}n=h,a=b,e.multiple=!!r,n!=null?Cn(e,!!r,n,!1):a!=null&&Cn(e,!!r,a,!0);return;case"textarea":Ce("invalid",e),h=u=r=null;for(b in a)if(a.hasOwnProperty(b)&&(C=a[b],C!=null))switch(b){case"value":r=C;break;case"defaultValue":u=C;break;case"children":h=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(o(91));break;default:Ye(e,n,b,C,a,null)}gh(e,r,u,h);return;case"option":for(H in a)a.hasOwnProperty(H)&&(r=a[H],r!=null)&&(H==="selected"?e.selected=r&&typeof r!="function"&&typeof r!="symbol":Ye(e,n,H,r,a,null));return;case"dialog":Ce("beforetoggle",e),Ce("toggle",e),Ce("cancel",e),Ce("close",e);break;case"iframe":case"object":Ce("load",e);break;case"video":case"audio":for(r=0;r<dr.length;r++)Ce(dr[r],e);break;case"image":Ce("error",e),Ce("load",e);break;case"details":Ce("toggle",e);break;case"embed":case"source":case"link":Ce("error",e),Ce("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in a)if(a.hasOwnProperty(W)&&(r=a[W],r!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:Ye(e,n,W,r,a,null)}return;default:if(qu(n)){for(ne in a)a.hasOwnProperty(ne)&&(r=a[ne],r!==void 0&&Cd(e,n,ne,r,a,void 0));return}}for(C in a)a.hasOwnProperty(C)&&(r=a[C],r!=null&&Ye(e,n,C,r,a,null))}function Tb(e,n,a,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,h=null,b=null,C=null,H=null,W=null,ne=null;for(I in a){var ie=a[I];if(a.hasOwnProperty(I)&&ie!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":H=ie;default:r.hasOwnProperty(I)||Ye(e,n,I,null,r,ie)}}for(var F in r){var I=r[F];if(ie=a[F],r.hasOwnProperty(F)&&(I!=null||ie!=null))switch(F){case"type":h=I;break;case"name":u=I;break;case"checked":W=I;break;case"defaultChecked":ne=I;break;case"value":b=I;break;case"defaultValue":C=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(o(137,n));break;default:I!==ie&&Ye(e,n,F,I,r,ie)}}qa(e,b,C,H,W,ne,h,u);return;case"select":I=b=C=F=null;for(h in a)if(H=a[h],a.hasOwnProperty(h)&&H!=null)switch(h){case"value":break;case"multiple":I=H;default:r.hasOwnProperty(h)||Ye(e,n,h,null,r,H)}for(u in r)if(h=r[u],H=a[u],r.hasOwnProperty(u)&&(h!=null||H!=null))switch(u){case"value":F=h;break;case"defaultValue":C=h;break;case"multiple":b=h;default:h!==H&&Ye(e,n,u,h,r,H)}n=C,a=b,r=I,F!=null?Cn(e,!!a,F,!1):!!r!=!!a&&(n!=null?Cn(e,!!a,n,!0):Cn(e,!!a,a?[]:"",!1));return;case"textarea":I=F=null;for(C in a)if(u=a[C],a.hasOwnProperty(C)&&u!=null&&!r.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Ye(e,n,C,null,r,u)}for(b in r)if(u=r[b],h=a[b],r.hasOwnProperty(b)&&(u!=null||h!=null))switch(b){case"value":F=u;break;case"defaultValue":I=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(o(91));break;default:u!==h&&Ye(e,n,b,u,r,h)}mh(e,F,I);return;case"option":for(var fe in a)F=a[fe],a.hasOwnProperty(fe)&&F!=null&&!r.hasOwnProperty(fe)&&(fe==="selected"?e.selected=!1:Ye(e,n,fe,null,r,F));for(H in r)F=r[H],I=a[H],r.hasOwnProperty(H)&&F!==I&&(F!=null||I!=null)&&(H==="selected"?e.selected=F&&typeof F!="function"&&typeof F!="symbol":Ye(e,n,H,F,r,I));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)F=a[ye],a.hasOwnProperty(ye)&&F!=null&&!r.hasOwnProperty(ye)&&Ye(e,n,ye,null,r,F);for(W in r)if(F=r[W],I=a[W],r.hasOwnProperty(W)&&F!==I&&(F!=null||I!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(o(137,n));break;default:Ye(e,n,W,F,r,I)}return;default:if(qu(n)){for(var qe in a)F=a[qe],a.hasOwnProperty(qe)&&F!==void 0&&!r.hasOwnProperty(qe)&&Cd(e,n,qe,void 0,r,F);for(ne in r)F=r[ne],I=a[ne],!r.hasOwnProperty(ne)||F===I||F===void 0&&I===void 0||Cd(e,n,ne,F,r,I);return}}for(var X in a)F=a[X],a.hasOwnProperty(X)&&F!=null&&!r.hasOwnProperty(X)&&Ye(e,n,X,null,r,F);for(ie in r)F=r[ie],I=a[ie],!r.hasOwnProperty(ie)||F===I||F==null&&I==null||Ye(e,n,ie,F,r,I)}function xp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function zb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),r=0;r<a.length;r++){var u=a[r],h=u.transferSize,b=u.initiatorType,C=u.duration;if(h&&C&&xp(b)){for(b=0,C=u.responseEnd,r+=1;r<a.length;r++){var H=a[r],W=H.startTime;if(W>C)break;var ne=H.transferSize,ie=H.initiatorType;ne&&xp(ie)&&(H=H.responseEnd,b+=ne*(H<C?1:(C-W)/(H-W)))}if(--r,n+=8*(h+b)/(u.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Md=null,Td=null;function fs(e){return e.nodeType===9?e:e.ownerDocument}function vp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bp(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function zd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ad=null;function Ab(){var e=window.event;return e&&e.type==="popstate"?e===Ad?!1:(Ad=e,!0):(Ad=null,!1)}var wp=typeof setTimeout=="function"?setTimeout:void 0,Db=typeof clearTimeout=="function"?clearTimeout:void 0,Sp=typeof Promise=="function"?Promise:void 0,Rb=typeof queueMicrotask=="function"?queueMicrotask:typeof Sp<"u"?function(e){return Sp.resolve(null).then(e).catch(Ob)}:wp;function Ob(e){setTimeout(function(){throw e})}function Sa(e){return e==="head"}function Ep(e,n){var a=n,r=0;do{var u=a.nextSibling;if(e.removeChild(a),u&&u.nodeType===8)if(a=u.data,a==="/$"||a==="/&"){if(r===0){e.removeChild(u),nl(n);return}r--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")r++;else if(a==="html")hr(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,hr(a);for(var h=a.firstChild;h;){var b=h.nextSibling,C=h.nodeName;h[Ua]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&h.rel.toLowerCase()==="stylesheet"||a.removeChild(h),h=b}}else a==="body"&&hr(e.ownerDocument.body);a=u}while(a);nl(n)}function Np(e,n){var a=e;e=0;do{var r=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),r&&r.nodeType===8)if(a=r.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=r}while(a)}function Dd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Dd(a),zl(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Hb(e,n,a,r){for(;e.nodeType===1;){var u=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Ua])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var h=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Kt(e.nextSibling),e===null)break}return null}function kb(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Kt(e.nextSibling),e===null))return null;return e}function jp(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Kt(e.nextSibling),e===null))return null;return e}function Rd(e){return e.data==="$?"||e.data==="$~"}function Od(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Bb(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var r=function(){n(),a.removeEventListener("DOMContentLoaded",r)};a.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Kt(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Hd=null;function _p(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Kt(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function Cp(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function Mp(e,n,a){switch(n=fs(a),e){case"html":if(e=n.documentElement,!e)throw Error(o(452));return e;case"head":if(e=n.head,!e)throw Error(o(453));return e;case"body":if(e=n.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function hr(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);zl(e)}var Ft=new Map,Tp=new Set;function hs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Xn=O.d;O.d={f:Lb,r:Ub,D:Yb,C:qb,L:Vb,m:$b,X:Gb,S:Xb,M:Zb};function Lb(){var e=Xn.f(),n=is();return e||n}function Ub(e){var n=ta(e);n!==null&&n.tag===5&&n.type==="form"?Zm(n):Xn.r(e)}var Ii=typeof document>"u"?null:document;function zp(e,n,a){var r=Ii;if(r&&typeof n=="string"&&n){var u=Nt(n);u='link[rel="'+e+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),Tp.has(u)||(Tp.add(u),e={rel:e,crossOrigin:a,href:n},r.querySelector(u)===null&&(n=r.createElement("link"),gt(n,"link",e),tt(n),r.head.appendChild(n)))}}function Yb(e){Xn.D(e),zp("dns-prefetch",e,null)}function qb(e,n){Xn.C(e,n),zp("preconnect",e,n)}function Vb(e,n,a){Xn.L(e,n,a);var r=Ii;if(r&&e&&n){var u='link[rel="preload"][as="'+Nt(n)+'"]';n==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+Nt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+Nt(a.imageSizes)+'"]')):u+='[href="'+Nt(e)+'"]';var h=u;switch(n){case"style":h=el(e);break;case"script":h=tl(e)}Ft.has(h)||(e=y({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Ft.set(h,e),r.querySelector(u)!==null||n==="style"&&r.querySelector(mr(h))||n==="script"&&r.querySelector(gr(h))||(n=r.createElement("link"),gt(n,"link",e),tt(n),r.head.appendChild(n)))}}function $b(e,n){Xn.m(e,n);var a=Ii;if(a&&e){var r=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+Nt(r)+'"][href="'+Nt(e)+'"]',h=u;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=tl(e)}if(!Ft.has(h)&&(e=y({rel:"modulepreload",href:e},n),Ft.set(h,e),a.querySelector(u)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(gr(h)))return}r=a.createElement("link"),gt(r,"link",e),tt(r),a.head.appendChild(r)}}}function Xb(e,n,a){Xn.S(e,n,a);var r=Ii;if(r&&e){var u=aa(r).hoistableStyles,h=el(e);n=n||"default";var b=u.get(h);if(!b){var C={loading:0,preload:null};if(b=r.querySelector(mr(h)))C.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Ft.get(h))&&kd(e,a);var H=b=r.createElement("link");tt(H),gt(H,"link",e),H._p=new Promise(function(W,ne){H.onload=W,H.onerror=ne}),H.addEventListener("load",function(){C.loading|=1}),H.addEventListener("error",function(){C.loading|=2}),C.loading|=4,ms(b,n,r)}b={type:"stylesheet",instance:b,count:1,state:C},u.set(h,b)}}}function Gb(e,n){Xn.X(e,n);var a=Ii;if(a&&e){var r=aa(a).hoistableScripts,u=tl(e),h=r.get(u);h||(h=a.querySelector(gr(u)),h||(e=y({src:e,async:!0},n),(n=Ft.get(u))&&Bd(e,n),h=a.createElement("script"),tt(h),gt(h,"link",e),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},r.set(u,h))}}function Zb(e,n){Xn.M(e,n);var a=Ii;if(a&&e){var r=aa(a).hoistableScripts,u=tl(e),h=r.get(u);h||(h=a.querySelector(gr(u)),h||(e=y({src:e,async:!0,type:"module"},n),(n=Ft.get(u))&&Bd(e,n),h=a.createElement("script"),tt(h),gt(h,"link",e),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},r.set(u,h))}}function Ap(e,n,a,r){var u=(u=ce.current)?hs(u):null;if(!u)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=el(a.href),a=aa(u).hoistableStyles,r=a.get(n),r||(r={type:"style",instance:null,count:0,state:null},a.set(n,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=el(a.href);var h=aa(u).hoistableStyles,b=h.get(e);if(b||(u=u.ownerDocument||u,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,b),(h=u.querySelector(mr(e)))&&!h._p&&(b.instance=h,b.state.loading=5),Ft.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ft.set(e,a),h||Qb(u,e,a,b.state))),n&&r===null)throw Error(o(528,""));return b}if(n&&r!==null)throw Error(o(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=tl(a),a=aa(u).hoistableScripts,r=a.get(n),r||(r={type:"script",instance:null,count:0,state:null},a.set(n,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function el(e){return'href="'+Nt(e)+'"'}function mr(e){return'link[rel="stylesheet"]['+e+"]"}function Dp(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function Qb(e,n,a,r){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?r.loading=1:(n=e.createElement("link"),r.preload=n,n.addEventListener("load",function(){return r.loading|=1}),n.addEventListener("error",function(){return r.loading|=2}),gt(n,"link",a),tt(n),e.head.appendChild(n))}function tl(e){return'[src="'+Nt(e)+'"]'}function gr(e){return"script[async]"+e}function Rp(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var r=e.querySelector('style[data-href~="'+Nt(a.href)+'"]');if(r)return n.instance=r,tt(r),r;var u=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),tt(r),gt(r,"style",u),ms(r,a.precedence,e),n.instance=r;case"stylesheet":u=el(a.href);var h=e.querySelector(mr(u));if(h)return n.state.loading|=4,n.instance=h,tt(h),h;r=Dp(a),(u=Ft.get(u))&&kd(r,u),h=(e.ownerDocument||e).createElement("link"),tt(h);var b=h;return b._p=new Promise(function(C,H){b.onload=C,b.onerror=H}),gt(h,"link",r),n.state.loading|=4,ms(h,a.precedence,e),n.instance=h;case"script":return h=tl(a.src),(u=e.querySelector(gr(h)))?(n.instance=u,tt(u),u):(r=a,(u=Ft.get(h))&&(r=y({},a),Bd(r,u)),e=e.ownerDocument||e,u=e.createElement("script"),tt(u),gt(u,"link",r),e.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(o(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(r=n.instance,n.state.loading|=4,ms(r,a.precedence,e));return n.instance}function ms(e,n,a){for(var r=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=r.length?r[r.length-1]:null,h=u,b=0;b<r.length;b++){var C=r[b];if(C.dataset.precedence===n)h=C;else if(h!==u)break}h?h.parentNode.insertBefore(e,h.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function kd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Bd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var gs=null;function Op(e,n,a){if(gs===null){var r=new Map,u=gs=new Map;u.set(a,r)}else u=gs,r=u.get(a),r||(r=new Map,u.set(a,r));if(r.has(e))return r;for(r.set(e,null),a=a.getElementsByTagName(e),u=0;u<a.length;u++){var h=a[u];if(!(h[Ua]||h[ot]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var b=h.getAttribute(n)||"";b=e+b;var C=r.get(b);C?C.push(h):r.set(b,[h])}}return r}function Hp(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function Wb(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function kp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Kb(e,n,a,r){if(a.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var u=el(r.href),h=n.querySelector(mr(u));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=ps.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=h,tt(h);return}h=n.ownerDocument||n,r=Dp(r),(u=Ft.get(u))&&kd(r,u),h=h.createElement("link"),tt(h);var b=h;b._p=new Promise(function(C,H){b.onload=C,b.onerror=H}),gt(h,"link",r),a.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=ps.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Ld=0;function Fb(e,n){return e.stylesheets&&e.count===0&&xs(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var r=setTimeout(function(){if(e.stylesheets&&xs(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+n);0<e.imgBytes&&Ld===0&&(Ld=62500*zb());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&xs(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>Ld?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(u)}}:null}function ps(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xs(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ys=null;function xs(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ys=new Map,n.forEach(Jb,e),ys=null,ps.call(e))}function Jb(e,n){if(!(n.state.loading&4)){var a=ys.get(e);if(a)var r=a.get(null);else{a=new Map,ys.set(e,a);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<u.length;h++){var b=u[h];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),r=b)}r&&a.set(null,r)}u=n.instance,b=u.getAttribute("data-precedence"),h=a.get(b)||r,h===r&&a.set(null,u),a.set(b,u),this.count++,r=ps.bind(this),u.addEventListener("load",r),u.addEventListener("error",r),h?h.parentNode.insertBefore(u,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),n.state.loading|=4}}var pr={$$typeof:S,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function Pb(e,n,a,r,u,h,b,C,H){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cl(0),this.hiddenUpdates=Cl(null),this.identifierPrefix=r,this.onUncaughtError=u,this.onCaughtError=h,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function Bp(e,n,a,r,u,h,b,C,H,W,ne,ie){return e=new Pb(e,n,a,b,H,W,ne,ie,C),n=1,h===!0&&(n|=24),h=Rt(3,null,null,n),e.current=h,h.stateNode=e,n=yc(),n.refCount++,e.pooledCache=n,n.refCount++,h.memoizedState={element:r,isDehydrated:a,cache:n},wc(h),e}function Lp(e){return e?(e=Di,e):Di}function Up(e,n,a,r,u,h){u=Lp(u),r.context===null?r.context=u:r.pendingContext=u,r=da(n),r.payload={element:a},h=h===void 0?null:h,h!==null&&(r.callback=h),a=fa(e,r,n),a!==null&&(zt(a,e,n),Wl(a,e,n))}function Yp(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Ud(e,n){Yp(e,n),(e=e.alternate)&&Yp(e,n)}function qp(e){if(e.tag===13||e.tag===31){var n=Ga(e,67108864);n!==null&&zt(n,e,67108864),Ud(e,67108864)}}function Vp(e){if(e.tag===13||e.tag===31){var n=Lt();n=Ml(n);var a=Ga(e,n);a!==null&&zt(a,e,n),Ud(e,n)}}var vs=!0;function Ib(e,n,a,r){var u=A.T;A.T=null;var h=O.p;try{O.p=2,Yd(e,n,a,r)}finally{O.p=h,A.T=u}}function e2(e,n,a,r){var u=A.T;A.T=null;var h=O.p;try{O.p=8,Yd(e,n,a,r)}finally{O.p=h,A.T=u}}function Yd(e,n,a,r){if(vs){var u=qd(r);if(u===null)_d(e,n,r,bs,a),Xp(e,r);else if(n2(u,e,n,a,r))r.stopPropagation();else if(Xp(e,r),n&4&&-1<t2.indexOf(e)){for(;u!==null;){var h=ta(u);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var b=Nn(h.pendingLanes);if(b!==0){var C=h;for(C.pendingLanes|=2,C.entangledLanes|=2;b;){var H=1<<31-bt(b);C.entanglements[1]|=H,b&=~H}gn(h),(Oe&6)===0&&(ns=dt()+500,cr(0))}}break;case 31:case 13:C=Ga(h,2),C!==null&&zt(C,h,2),is(),Ud(h,2)}if(h=qd(r),h===null&&_d(e,n,r,bs,a),h===u)break;u=h}u!==null&&r.stopPropagation()}else _d(e,n,r,null,a)}}function qd(e){return e=$u(e),Vd(e)}var bs=null;function Vd(e){if(bs=null,e=ea(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=m(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return bs=e,null}function $p(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gi()){case En:return 2;case In:return 8;case Ha:case Mu:return 32;case pi:return 268435456;default:return 32}default:return 32}}var $d=!1,Ea=null,Na=null,ja=null,yr=new Map,xr=new Map,_a=[],t2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xp(e,n){switch(e){case"focusin":case"focusout":Ea=null;break;case"dragenter":case"dragleave":Na=null;break;case"mouseover":case"mouseout":ja=null;break;case"pointerover":case"pointerout":yr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":xr.delete(n.pointerId)}}function vr(e,n,a,r,u,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:a,eventSystemFlags:r,nativeEvent:h,targetContainers:[u]},n!==null&&(n=ta(n),n!==null&&qp(n)),e):(e.eventSystemFlags|=r,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function n2(e,n,a,r,u){switch(n){case"focusin":return Ea=vr(Ea,e,n,a,r,u),!0;case"dragenter":return Na=vr(Na,e,n,a,r,u),!0;case"mouseover":return ja=vr(ja,e,n,a,r,u),!0;case"pointerover":var h=u.pointerId;return yr.set(h,vr(yr.get(h)||null,e,n,a,r,u)),!0;case"gotpointercapture":return h=u.pointerId,xr.set(h,vr(xr.get(h)||null,e,n,a,r,u)),!0}return!1}function Gp(e){var n=ea(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,oo(e.priority,function(){Vp(a)});return}}else if(n===31){if(n=m(a),n!==null){e.blockedOn=n,oo(e.priority,function(){Vp(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ws(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=qd(e.nativeEvent);if(a===null){a=e.nativeEvent;var r=new a.constructor(a.type,a);Vu=r,a.target.dispatchEvent(r),Vu=null}else return n=ta(a),n!==null&&qp(n),e.blockedOn=a,!1;n.shift()}return!0}function Zp(e,n,a){ws(e)&&a.delete(n)}function a2(){$d=!1,Ea!==null&&ws(Ea)&&(Ea=null),Na!==null&&ws(Na)&&(Na=null),ja!==null&&ws(ja)&&(ja=null),yr.forEach(Zp),xr.forEach(Zp)}function Ss(e,n){e.blockedOn===n&&(e.blockedOn=null,$d||($d=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,a2)))}var Es=null;function Qp(e){Es!==e&&(Es=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Es===e&&(Es=null);for(var n=0;n<e.length;n+=3){var a=e[n],r=e[n+1],u=e[n+2];if(typeof r!="function"){if(Vd(r||a)===null)continue;break}var h=ta(a);h!==null&&(e.splice(n,3),n-=3,qc(h,{pending:!0,data:u,method:a.method,action:r},r,u))}}))}function nl(e){function n(H){return Ss(H,e)}Ea!==null&&Ss(Ea,e),Na!==null&&Ss(Na,e),ja!==null&&Ss(ja,e),yr.forEach(n),xr.forEach(n);for(var a=0;a<_a.length;a++){var r=_a[a];r.blockedOn===e&&(r.blockedOn=null)}for(;0<_a.length&&(a=_a[0],a.blockedOn===null);)Gp(a),a.blockedOn===null&&_a.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(r=0;r<a.length;r+=3){var u=a[r],h=a[r+1],b=u[yt]||null;if(typeof h=="function")b||Qp(a);else if(b){var C=null;if(h&&h.hasAttribute("formAction")){if(u=h,b=h[yt]||null)C=b.formAction;else if(Vd(u)!==null)continue}else C=b.action;typeof C=="function"?a[r+1]=C:(a.splice(r,3),r-=3),Qp(a)}}}function Wp(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(b){return u=b})},focusReset:"manual",scroll:"manual"})}function n(){u!==null&&(u(),u=null),r||setTimeout(a,20)}function a(){if(!r&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),u!==null&&(u(),u=null)}}}function Xd(e){this._internalRoot=e}Ns.prototype.render=Xd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(o(409));var a=n.current,r=Lt();Up(a,r,e,n,null,null)},Ns.prototype.unmount=Xd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Up(e.current,2,null,e,null,null),is(),n[jn]=null}};function Ns(e){this._internalRoot=e}Ns.prototype.unstable_scheduleHydration=function(e){if(e){var n=ro();e={blockedOn:null,target:e,priority:n};for(var a=0;a<_a.length&&n!==0&&n<_a[a].priority;a++);_a.splice(a,0,e),a===0&&Gp(e)}};var Kp=i.version;if(Kp!=="19.2.3")throw Error(o(527,Kp,"19.2.3"));O.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=g(n),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var i2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var js=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!js.isDisabled&&js.supportsFiber)try{ka=js.inject(i2),vt=js}catch{}}return wr.createRoot=function(e,n){if(!s(e))throw Error(o(299));var a=!1,r="",u=ng,h=ag,b=ig;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError)),n=Bp(e,1,!1,null,null,a,r,null,u,h,b,Wp),e[jn]=n.current,jd(e),new Xd(n)},wr.hydrateRoot=function(e,n,a){if(!s(e))throw Error(o(299));var r=!1,u="",h=ng,b=ag,C=ig,H=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError),a.formState!==void 0&&(H=a.formState)),n=Bp(e,1,!0,n,a??null,r,u,H,h,b,C,Wp),n.context=Lp(null),a=n.current,r=Lt(),r=Ml(r),u=da(r),u.callback=null,fa(a,u,r),a=r,n.current.lanes=a,La(n,a),gn(n),e[jn]=n.current,jd(e),new Ns(n)},wr.version="19.2.3",wr}var l0;function h2(){if(l0)return Qd.exports;l0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(i){console.error(i)}}return t(),Qd.exports=f2(),Qd.exports}var m2=h2();const g2=Hf(m2);var r0="popstate";function p2(t={}){function i(o,s){let{pathname:c,search:d,hash:m}=o.location;return pf("",{pathname:c,search:d,hash:m},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function l(o,s){return typeof s=="string"?s:zr(s)}return x2(i,l,null,t)}function Ze(t,i){if(t===!1||t===null||typeof t>"u")throw new Error(i)}function Yt(t,i){if(!t){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function y2(){return Math.random().toString(36).substring(2,10)}function o0(t,i){return{usr:t.state,key:t.key,idx:i}}function pf(t,i,l=null,o){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof i=="string"?bl(i):i,state:l,key:i&&i.key||o||y2()}}function zr({pathname:t="/",search:i="",hash:l=""}){return i&&i!=="?"&&(t+=i.charAt(0)==="?"?i:"?"+i),l&&l!=="#"&&(t+=l.charAt(0)==="#"?l:"#"+l),t}function bl(t){let i={};if(t){let l=t.indexOf("#");l>=0&&(i.hash=t.substring(l),t=t.substring(0,l));let o=t.indexOf("?");o>=0&&(i.search=t.substring(o),t=t.substring(0,o)),t&&(i.pathname=t)}return i}function x2(t,i,l,o={}){let{window:s=document.defaultView,v5Compat:c=!1}=o,d=s.history,m="POP",p=null,g=x();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function x(){return(d.state||{idx:null}).idx}function y(){m="POP";let w=x(),N=w==null?null:w-g;g=w,p&&p({action:m,location:T.location,delta:N})}function v(w,N){m="PUSH";let j=pf(T.location,w,N);g=x()+1;let S=o0(j,g),z=T.createHref(j);try{d.pushState(S,"",z)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(z)}c&&p&&p({action:m,location:T.location,delta:1})}function E(w,N){m="REPLACE";let j=pf(T.location,w,N);g=x();let S=o0(j,g),z=T.createHref(j);d.replaceState(S,"",z),c&&p&&p({action:m,location:T.location,delta:0})}function _(w){return v2(w)}let T={get action(){return m},get location(){return t(s,d)},listen(w){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(r0,y),p=w,()=>{s.removeEventListener(r0,y),p=null}},createHref(w){return i(s,w)},createURL:_,encodeLocation(w){let N=_(w);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:v,replace:E,go(w){return d.go(w)}};return T}function v2(t,i=!1){let l="http://localhost";typeof window<"u"&&(l=window.location.origin!=="null"?window.location.origin:window.location.href),Ze(l,"No window.location.(origin|href) available to create URL");let o=typeof t=="string"?t:zr(t);return o=o.replace(/ $/,"%20"),!i&&o.startsWith("//")&&(o=l+o),new URL(o,l)}function Dy(t,i,l="/"){return b2(t,i,l,!1)}function b2(t,i,l,o){let s=typeof i=="string"?bl(i):i,c=Wn(s.pathname||"/",l);if(c==null)return null;let d=Ry(t);w2(d);let m=null;for(let p=0;m==null&&p<d.length;++p){let g=D2(c);m=z2(d[p],g,o)}return m}function Ry(t,i=[],l=[],o="",s=!1){let c=(d,m,p=s,g)=>{let x={relativePath:g===void 0?d.path||"":g,caseSensitive:d.caseSensitive===!0,childrenIndex:m,route:d};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(o)&&p)return;Ze(x.relativePath.startsWith(o),`Absolute route path "${x.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(o.length)}let y=Qn([o,x.relativePath]),v=l.concat(x);d.children&&d.children.length>0&&(Ze(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Ry(d.children,i,v,y,p)),!(d.path==null&&!d.index)&&i.push({path:y,score:M2(y,d.index),routesMeta:v})};return t.forEach((d,m)=>{if(d.path===""||!d.path?.includes("?"))c(d,m);else for(let p of Oy(d.path))c(d,m,!0,p)}),i}function Oy(t){let i=t.split("/");if(i.length===0)return[];let[l,...o]=i,s=l.endsWith("?"),c=l.replace(/\?$/,"");if(o.length===0)return s?[c,""]:[c];let d=Oy(o.join("/")),m=[];return m.push(...d.map(p=>p===""?c:[c,p].join("/"))),s&&m.push(...d),m.map(p=>t.startsWith("/")&&p===""?"/":p)}function w2(t){t.sort((i,l)=>i.score!==l.score?l.score-i.score:T2(i.routesMeta.map(o=>o.childrenIndex),l.routesMeta.map(o=>o.childrenIndex)))}var S2=/^:[\w-]+$/,E2=3,N2=2,j2=1,_2=10,C2=-2,s0=t=>t==="*";function M2(t,i){let l=t.split("/"),o=l.length;return l.some(s0)&&(o+=C2),i&&(o+=N2),l.filter(s=>!s0(s)).reduce((s,c)=>s+(S2.test(c)?E2:c===""?j2:_2),o)}function T2(t,i){return t.length===i.length&&t.slice(0,-1).every((o,s)=>o===i[s])?t[t.length-1]-i[i.length-1]:0}function z2(t,i,l=!1){let{routesMeta:o}=t,s={},c="/",d=[];for(let m=0;m<o.length;++m){let p=o[m],g=m===o.length-1,x=c==="/"?i:i.slice(c.length)||"/",y=Ws({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},x),v=p.route;if(!y&&g&&l&&!o[o.length-1].route.index&&(y=Ws({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},x)),!y)return null;Object.assign(s,y.params),d.push({params:s,pathname:Qn([c,y.pathname]),pathnameBase:k2(Qn([c,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(c=Qn([c,y.pathnameBase]))}return d}function Ws(t,i){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[l,o]=A2(t.path,t.caseSensitive,t.end),s=i.match(l);if(!s)return null;let c=s[0],d=c.replace(/(.)\/+$/,"$1"),m=s.slice(1);return{params:o.reduce((g,{paramName:x,isOptional:y},v)=>{if(x==="*"){let _=m[v]||"";d=c.slice(0,c.length-_.length).replace(/(.)\/+$/,"$1")}const E=m[v];return y&&!E?g[x]=void 0:g[x]=(E||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:d,pattern:t}}function A2(t,i=!1,l=!0){Yt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let o=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,p)=>(o.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(o.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):l?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,i?void 0:"i"),o]}function D2(t){try{return t.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return Yt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${i}).`),t}}function Wn(t,i){if(i==="/")return t;if(!t.toLowerCase().startsWith(i.toLowerCase()))return null;let l=i.endsWith("/")?i.length-1:i.length,o=t.charAt(l);return o&&o!=="/"?null:t.slice(l)||"/"}var Hy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,R2=t=>Hy.test(t);function O2(t,i="/"){let{pathname:l,search:o="",hash:s=""}=typeof t=="string"?bl(t):t,c;if(l)if(R2(l))c=l;else{if(l.includes("//")){let d=l;l=l.replace(/\/\/+/g,"/"),Yt(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${l}`)}l.startsWith("/")?c=u0(l.substring(1),"/"):c=u0(l,i)}else c=i;return{pathname:c,search:B2(o),hash:L2(s)}}function u0(t,i){let l=i.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?l.length>1&&l.pop():s!=="."&&l.push(s)}),l.length>1?l.join("/"):"/"}function Jd(t,i,l,o){return`Cannot include a '${t}' character in a manually specified \`to.${i}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${l}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function H2(t){return t.filter((i,l)=>l===0||i.route.path&&i.route.path.length>0)}function kf(t){let i=H2(t);return i.map((l,o)=>o===i.length-1?l.pathname:l.pathnameBase)}function Bf(t,i,l,o=!1){let s;typeof t=="string"?s=bl(t):(s={...t},Ze(!s.pathname||!s.pathname.includes("?"),Jd("?","pathname","search",s)),Ze(!s.pathname||!s.pathname.includes("#"),Jd("#","pathname","hash",s)),Ze(!s.search||!s.search.includes("#"),Jd("#","search","hash",s)));let c=t===""||s.pathname==="",d=c?"/":s.pathname,m;if(d==null)m=l;else{let y=i.length-1;if(!o&&d.startsWith("..")){let v=d.split("/");for(;v[0]==="..";)v.shift(),y-=1;s.pathname=v.join("/")}m=y>=0?i[y]:"/"}let p=O2(s,m),g=d&&d!=="/"&&d.endsWith("/"),x=(c||d===".")&&l.endsWith("/");return!p.pathname.endsWith("/")&&(g||x)&&(p.pathname+="/"),p}var Qn=t=>t.join("/").replace(/\/\/+/g,"/"),k2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),B2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,L2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,U2=class{constructor(t,i,l,o=!1){this.status=t,this.statusText=i||"",this.internal=o,l instanceof Error?(this.data=l.toString(),this.error=l):this.data=l}};function Y2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function q2(t){return t.map(i=>i.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var ky=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function By(t,i){let l=t;if(typeof l!="string"||!Hy.test(l))return{absoluteURL:void 0,isExternal:!1,to:l};let o=l,s=!1;if(ky)try{let c=new URL(window.location.href),d=l.startsWith("//")?new URL(c.protocol+l):new URL(l),m=Wn(d.pathname,i);d.origin===c.origin&&m!=null?l=m+d.search+d.hash:s=!0}catch{Yt(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:o,isExternal:s,to:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Ly=["POST","PUT","PATCH","DELETE"];new Set(Ly);var V2=["GET",...Ly];new Set(V2);var wl=M.createContext(null);wl.displayName="DataRouter";var uu=M.createContext(null);uu.displayName="DataRouterState";var $2=M.createContext(!1),Uy=M.createContext({isTransitioning:!1});Uy.displayName="ViewTransition";var X2=M.createContext(new Map);X2.displayName="Fetchers";var G2=M.createContext(null);G2.displayName="Await";var Vt=M.createContext(null);Vt.displayName="Navigation";var $r=M.createContext(null);$r.displayName="Location";var sn=M.createContext({outlet:null,matches:[],isDataRoute:!1});sn.displayName="Route";var Lf=M.createContext(null);Lf.displayName="RouteError";var Yy="REACT_ROUTER_ERROR",Z2="REDIRECT",Q2="ROUTE_ERROR_RESPONSE";function W2(t){if(t.startsWith(`${Yy}:${Z2}:{`))try{let i=JSON.parse(t.slice(28));if(typeof i=="object"&&i&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.location=="string"&&typeof i.reloadDocument=="boolean"&&typeof i.replace=="boolean")return i}catch{}}function K2(t){if(t.startsWith(`${Yy}:${Q2}:{`))try{let i=JSON.parse(t.slice(40));if(typeof i=="object"&&i&&typeof i.status=="number"&&typeof i.statusText=="string")return new U2(i.status,i.statusText,i.data)}catch{}}function F2(t,{relative:i}={}){Ze(Sl(),"useHref() may be used only in the context of a <Router> component.");let{basename:l,navigator:o}=M.useContext(Vt),{hash:s,pathname:c,search:d}=Xr(t,{relative:i}),m=c;return l!=="/"&&(m=c==="/"?l:Qn([l,c])),o.createHref({pathname:m,search:d,hash:s})}function Sl(){return M.useContext($r)!=null}function Jn(){return Ze(Sl(),"useLocation() may be used only in the context of a <Router> component."),M.useContext($r).location}var qy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Vy(t){M.useContext(Vt).static||M.useLayoutEffect(t)}function El(){let{isDataRoute:t}=M.useContext(sn);return t?dw():J2()}function J2(){Ze(Sl(),"useNavigate() may be used only in the context of a <Router> component.");let t=M.useContext(wl),{basename:i,navigator:l}=M.useContext(Vt),{matches:o}=M.useContext(sn),{pathname:s}=Jn(),c=JSON.stringify(kf(o)),d=M.useRef(!1);return Vy(()=>{d.current=!0}),M.useCallback((p,g={})=>{if(Yt(d.current,qy),!d.current)return;if(typeof p=="number"){l.go(p);return}let x=Bf(p,JSON.parse(c),s,g.relative==="path");t==null&&i!=="/"&&(x.pathname=x.pathname==="/"?i:Qn([i,x.pathname])),(g.replace?l.replace:l.push)(x,g.state,g)},[i,l,c,s,t])}var P2=M.createContext(null);function I2(t){let i=M.useContext(sn).outlet;return M.useMemo(()=>i&&M.createElement(P2.Provider,{value:t},i),[i,t])}function Xr(t,{relative:i}={}){let{matches:l}=M.useContext(sn),{pathname:o}=Jn(),s=JSON.stringify(kf(l));return M.useMemo(()=>Bf(t,JSON.parse(s),o,i==="path"),[t,s,o,i])}function ew(t,i){return $y(t,i)}function $y(t,i,l,o,s){Ze(Sl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=M.useContext(Vt),{matches:d}=M.useContext(sn),m=d[d.length-1],p=m?m.params:{},g=m?m.pathname:"/",x=m?m.pathnameBase:"/",y=m&&m.route;{let j=y&&y.path||"";Gy(g,!y||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let v=Jn(),E;if(i){let j=typeof i=="string"?bl(i):i;Ze(x==="/"||j.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${j.pathname}" was given in the \`location\` prop.`),E=j}else E=v;let _=E.pathname||"/",T=_;if(x!=="/"){let j=x.replace(/^\//,"").split("/");T="/"+_.replace(/^\//,"").split("/").slice(j.length).join("/")}let w=Dy(t,{pathname:T});Yt(y||w!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Yt(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=lw(w&&w.map(j=>Object.assign({},j,{params:Object.assign({},p,j.params),pathname:Qn([x,c.encodeLocation?c.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?x:Qn([x,c.encodeLocation?c.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),d,l,o,s);return i&&N?M.createElement($r.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},N):N}function tw(){let t=cw(),i=Y2(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),l=t instanceof Error?t.stack:null,o="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:o},c={padding:"2px 4px",backgroundColor:o},d=null;return console.error("Error handled by React Router default ErrorBoundary:",t),d=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:c},"ErrorBoundary")," or"," ",M.createElement("code",{style:c},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},i),l?M.createElement("pre",{style:s},l):null,d)}var nw=M.createElement(tw,null),Xy=class extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,i){return i.location!==t.location||i.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:i.error,location:i.location,revalidation:t.revalidation||i.revalidation}}componentDidCatch(t,i){this.props.onError?this.props.onError(t,i):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const l=K2(t.digest);l&&(t=l)}let i=t!==void 0?M.createElement(sn.Provider,{value:this.props.routeContext},M.createElement(Lf.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?M.createElement(aw,{error:t},i):i}};Xy.contextType=$2;var Pd=new WeakMap;function aw({children:t,error:i}){let{basename:l}=M.useContext(Vt);if(typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){let o=W2(i.digest);if(o){let s=Pd.get(i);if(s)throw s;let c=By(o.location,l);if(ky&&!Pd.get(i))if(c.isExternal||o.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:o.replace}));throw Pd.set(i,d),d}return M.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return t}function iw({routeContext:t,match:i,children:l}){let o=M.useContext(wl);return o&&o.static&&o.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=i.route.id),M.createElement(sn.Provider,{value:t},l)}function lw(t,i=[],l=null,o=null,s=null){if(t==null){if(!l)return null;if(l.errors)t=l.matches;else if(i.length===0&&!l.initialized&&l.matches.length>0)t=l.matches;else return null}let c=t,d=l?.errors;if(d!=null){let x=c.findIndex(y=>y.route.id&&d?.[y.route.id]!==void 0);Ze(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,x+1))}let m=!1,p=-1;if(l)for(let x=0;x<c.length;x++){let y=c[x];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=x),y.route.id){let{loaderData:v,errors:E}=l,_=y.route.loader&&!v.hasOwnProperty(y.route.id)&&(!E||E[y.route.id]===void 0);if(y.route.lazy||_){m=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}let g=l&&o?(x,y)=>{o(x,{location:l.location,params:l.matches?.[0]?.params??{},unstable_pattern:q2(l.matches),errorInfo:y})}:void 0;return c.reduceRight((x,y,v)=>{let E,_=!1,T=null,w=null;l&&(E=d&&y.route.id?d[y.route.id]:void 0,T=y.route.errorElement||nw,m&&(p<0&&v===0?(Gy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,w=null):p===v&&(_=!0,w=y.route.hydrateFallbackElement||null)));let N=i.concat(c.slice(0,v+1)),j=()=>{let S;return E?S=T:_?S=w:y.route.Component?S=M.createElement(y.route.Component,null):y.route.element?S=y.route.element:S=x,M.createElement(iw,{match:y,routeContext:{outlet:x,matches:N,isDataRoute:l!=null},children:S})};return l&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?M.createElement(Xy,{location:l.location,revalidation:l.revalidation,component:T,error:E,children:j(),routeContext:{outlet:null,matches:N,isDataRoute:!0},onError:g}):j()},null)}function Uf(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rw(t){let i=M.useContext(wl);return Ze(i,Uf(t)),i}function ow(t){let i=M.useContext(uu);return Ze(i,Uf(t)),i}function sw(t){let i=M.useContext(sn);return Ze(i,Uf(t)),i}function Yf(t){let i=sw(t),l=i.matches[i.matches.length-1];return Ze(l.route.id,`${t} can only be used on routes that contain a unique "id"`),l.route.id}function uw(){return Yf("useRouteId")}function cw(){let t=M.useContext(Lf),i=ow("useRouteError"),l=Yf("useRouteError");return t!==void 0?t:i.errors?.[l]}function dw(){let{router:t}=rw("useNavigate"),i=Yf("useNavigate"),l=M.useRef(!1);return Vy(()=>{l.current=!0}),M.useCallback(async(s,c={})=>{Yt(l.current,qy),l.current&&(typeof s=="number"?await t.navigate(s):await t.navigate(s,{fromRouteId:i,...c}))},[t,i])}var c0={};function Gy(t,i,l){!i&&!c0[t]&&(c0[t]=!0,Yt(!1,l))}M.memo(fw);function fw({routes:t,future:i,state:l,onError:o}){return $y(t,void 0,l,o,i)}function yf({to:t,replace:i,state:l,relative:o}){Ze(Sl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=M.useContext(Vt);Yt(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=M.useContext(sn),{pathname:d}=Jn(),m=El(),p=Bf(t,kf(c),d,o==="path"),g=JSON.stringify(p);return M.useEffect(()=>{m(JSON.parse(g),{replace:i,state:l,relative:o})},[m,g,o,i,l]),null}function hw(t){return I2(t.context)}function nn(t){Ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function mw({basename:t="/",children:i=null,location:l,navigationType:o="POP",navigator:s,static:c=!1,unstable_useTransitions:d}){Ze(!Sl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=t.replace(/^\/*/,"/"),p=M.useMemo(()=>({basename:m,navigator:s,static:c,unstable_useTransitions:d,future:{}}),[m,s,c,d]);typeof l=="string"&&(l=bl(l));let{pathname:g="/",search:x="",hash:y="",state:v=null,key:E="default"}=l,_=M.useMemo(()=>{let T=Wn(g,m);return T==null?null:{location:{pathname:T,search:x,hash:y,state:v,key:E},navigationType:o}},[m,g,x,y,v,E,o]);return Yt(_!=null,`<Router basename="${m}"> is not able to match the URL "${g}${x}${y}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:M.createElement(Vt.Provider,{value:p},M.createElement($r.Provider,{children:i,value:_}))}function gw({children:t,location:i}){return ew(xf(t),i)}function xf(t,i=[]){let l=[];return M.Children.forEach(t,(o,s)=>{if(!M.isValidElement(o))return;let c=[...i,s];if(o.type===M.Fragment){l.push.apply(l,xf(o.props.children,c));return}Ze(o.type===nn,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ze(!o.props.index||!o.props.children,"An index route cannot have child routes.");let d={id:o.props.id||c.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(d.children=xf(o.props.children,c)),l.push(d)}),l}var Ys="get",qs="application/x-www-form-urlencoded";function cu(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function pw(t){return cu(t)&&t.tagName.toLowerCase()==="button"}function yw(t){return cu(t)&&t.tagName.toLowerCase()==="form"}function xw(t){return cu(t)&&t.tagName.toLowerCase()==="input"}function vw(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function bw(t,i){return t.button===0&&(!i||i==="_self")&&!vw(t)}function vf(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((i,l)=>{let o=t[l];return i.concat(Array.isArray(o)?o.map(s=>[l,s]):[[l,o]])},[]))}function ww(t,i){let l=vf(t);return i&&i.forEach((o,s)=>{l.has(s)||i.getAll(s).forEach(c=>{l.append(s,c)})}),l}var _s=null;function Sw(){if(_s===null)try{new FormData(document.createElement("form"),0),_s=!1}catch{_s=!0}return _s}var Ew=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Id(t){return t!=null&&!Ew.has(t)?(Yt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qs}"`),null):t}function Nw(t,i){let l,o,s,c,d;if(yw(t)){let m=t.getAttribute("action");o=m?Wn(m,i):null,l=t.getAttribute("method")||Ys,s=Id(t.getAttribute("enctype"))||qs,c=new FormData(t)}else if(pw(t)||xw(t)&&(t.type==="submit"||t.type==="image")){let m=t.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||m.getAttribute("action");if(o=p?Wn(p,i):null,l=t.getAttribute("formmethod")||m.getAttribute("method")||Ys,s=Id(t.getAttribute("formenctype"))||Id(m.getAttribute("enctype"))||qs,c=new FormData(m,t),!Sw()){let{name:g,type:x,value:y}=t;if(x==="image"){let v=g?`${g}.`:"";c.append(`${v}x`,"0"),c.append(`${v}y`,"0")}else g&&c.append(g,y)}}else{if(cu(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');l=Ys,o=null,s=qs,d=t}return c&&s==="text/plain"&&(d=c,c=void 0),{action:o,method:l.toLowerCase(),encType:s,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function qf(t,i){if(t===!1||t===null||typeof t>"u")throw new Error(i)}function jw(t,i,l,o){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return l?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${o}`:s.pathname=`${s.pathname}.${o}`:s.pathname==="/"?s.pathname=`_root.${o}`:i&&Wn(s.pathname,i)==="/"?s.pathname=`${i.replace(/\/$/,"")}/_root.${o}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${o}`,s}async function _w(t,i){if(t.id in i)return i[t.id];try{let l=await import(t.module);return i[t.id]=l,l}catch(l){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(l),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Cw(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Mw(t,i,l){let o=await Promise.all(t.map(async s=>{let c=i.routes[s.route.id];if(c){let d=await _w(c,l);return d.links?d.links():[]}return[]}));return Dw(o.flat(1).filter(Cw).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function d0(t,i,l,o,s,c){let d=(p,g)=>l[g]?p.route.id!==l[g].route.id:!0,m=(p,g)=>l[g].pathname!==p.pathname||l[g].route.path?.endsWith("*")&&l[g].params["*"]!==p.params["*"];return c==="assets"?i.filter((p,g)=>d(p,g)||m(p,g)):c==="data"?i.filter((p,g)=>{let x=o.routes[p.route.id];if(!x||!x.hasLoader)return!1;if(d(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let y=p.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:l[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function Tw(t,i,{includeHydrateFallback:l}={}){return zw(t.map(o=>{let s=i.routes[o.route.id];if(!s)return[];let c=[s.module];return s.clientActionModule&&(c=c.concat(s.clientActionModule)),s.clientLoaderModule&&(c=c.concat(s.clientLoaderModule)),l&&s.hydrateFallbackModule&&(c=c.concat(s.hydrateFallbackModule)),s.imports&&(c=c.concat(s.imports)),c}).flat(1))}function zw(t){return[...new Set(t)]}function Aw(t){let i={},l=Object.keys(t).sort();for(let o of l)i[o]=t[o];return i}function Dw(t,i){let l=new Set;return new Set(i),t.reduce((o,s)=>{let c=JSON.stringify(Aw(s));return l.has(c)||(l.add(c),o.push({key:c,link:s})),o},[])}function Zy(){let t=M.useContext(wl);return qf(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Rw(){let t=M.useContext(uu);return qf(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Vf=M.createContext(void 0);Vf.displayName="FrameworkContext";function Qy(){let t=M.useContext(Vf);return qf(t,"You must render this element inside a <HydratedRouter> element"),t}function Ow(t,i){let l=M.useContext(Vf),[o,s]=M.useState(!1),[c,d]=M.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:x,onTouchStart:y}=i,v=M.useRef(null);M.useEffect(()=>{if(t==="render"&&d(!0),t==="viewport"){let T=N=>{N.forEach(j=>{d(j.isIntersecting)})},w=new IntersectionObserver(T,{threshold:.5});return v.current&&w.observe(v.current),()=>{w.disconnect()}}},[t]),M.useEffect(()=>{if(o){let T=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(T)}}},[o]);let E=()=>{s(!0)},_=()=>{s(!1),d(!1)};return l?t!=="intent"?[c,v,{}]:[c,v,{onFocus:Sr(m,E),onBlur:Sr(p,_),onMouseEnter:Sr(g,E),onMouseLeave:Sr(x,_),onTouchStart:Sr(y,E)}]:[!1,v,{}]}function Sr(t,i){return l=>{t&&t(l),l.defaultPrevented||i(l)}}function Hw({page:t,...i}){let{router:l}=Zy(),o=M.useMemo(()=>Dy(l.routes,t,l.basename),[l.routes,t,l.basename]);return o?M.createElement(Bw,{page:t,matches:o,...i}):null}function kw(t){let{manifest:i,routeModules:l}=Qy(),[o,s]=M.useState([]);return M.useEffect(()=>{let c=!1;return Mw(t,i,l).then(d=>{c||s(d)}),()=>{c=!0}},[t,i,l]),o}function Bw({page:t,matches:i,...l}){let o=Jn(),{future:s,manifest:c,routeModules:d}=Qy(),{basename:m}=Zy(),{loaderData:p,matches:g}=Rw(),x=M.useMemo(()=>d0(t,i,g,c,o,"data"),[t,i,g,c,o]),y=M.useMemo(()=>d0(t,i,g,c,o,"assets"),[t,i,g,c,o]),v=M.useMemo(()=>{if(t===o.pathname+o.search+o.hash)return[];let T=new Set,w=!1;if(i.forEach(j=>{let S=c.routes[j.route.id];!S||!S.hasLoader||(!x.some(z=>z.route.id===j.route.id)&&j.route.id in p&&d[j.route.id]?.shouldRevalidate||S.hasClientLoader?w=!0:T.add(j.route.id))}),T.size===0)return[];let N=jw(t,m,s.unstable_trailingSlashAwareDataRequests,"data");return w&&T.size>0&&N.searchParams.set("_routes",i.filter(j=>T.has(j.route.id)).map(j=>j.route.id).join(",")),[N.pathname+N.search]},[m,s.unstable_trailingSlashAwareDataRequests,p,o,c,x,i,t,d]),E=M.useMemo(()=>Tw(y,c),[y,c]),_=kw(y);return M.createElement(M.Fragment,null,v.map(T=>M.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...l})),E.map(T=>M.createElement("link",{key:T,rel:"modulepreload",href:T,...l})),_.map(({key:T,link:w})=>M.createElement("link",{key:T,nonce:l.nonce,...w})))}function Lw(...t){return i=>{t.forEach(l=>{typeof l=="function"?l(i):l!=null&&(l.current=i)})}}var Uw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Uw&&(window.__reactRouterVersion="7.12.0")}catch{}function Yw({basename:t,children:i,unstable_useTransitions:l,window:o}){let s=M.useRef();s.current==null&&(s.current=p2({window:o,v5Compat:!0}));let c=s.current,[d,m]=M.useState({action:c.action,location:c.location}),p=M.useCallback(g=>{l===!1?m(g):M.startTransition(()=>m(g))},[l]);return M.useLayoutEffect(()=>c.listen(p),[c,p]),M.createElement(mw,{basename:t,children:i,location:d.location,navigationType:d.action,navigator:c,unstable_useTransitions:l})}var Wy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oi=M.forwardRef(function({onClick:i,discover:l="render",prefetch:o="none",relative:s,reloadDocument:c,replace:d,state:m,target:p,to:g,preventScrollReset:x,viewTransition:y,unstable_defaultShouldRevalidate:v,...E},_){let{basename:T,unstable_useTransitions:w}=M.useContext(Vt),N=typeof g=="string"&&Wy.test(g),j=By(g,T);g=j.to;let S=F2(g,{relative:s}),[z,k,U]=Ow(o,E),R=$w(g,{replace:d,state:m,target:p,preventScrollReset:x,relative:s,viewTransition:y,unstable_defaultShouldRevalidate:v,unstable_useTransitions:w});function V(re){i&&i(re),re.defaultPrevented||R(re)}let J=M.createElement("a",{...E,...U,href:j.absoluteURL||S,onClick:j.isExternal||c?i:V,ref:Lw(_,k),target:p,"data-discover":!N&&l==="render"?"true":void 0});return z&&!N?M.createElement(M.Fragment,null,J,M.createElement(Hw,{page:S})):J});oi.displayName="Link";var Ky=M.forwardRef(function({"aria-current":i="page",caseSensitive:l=!1,className:o="",end:s=!1,style:c,to:d,viewTransition:m,children:p,...g},x){let y=Xr(d,{relative:g.relative}),v=Jn(),E=M.useContext(uu),{navigator:_,basename:T}=M.useContext(Vt),w=E!=null&&Kw(y)&&m===!0,N=_.encodeLocation?_.encodeLocation(y).pathname:y.pathname,j=v.pathname,S=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;l||(j=j.toLowerCase(),S=S?S.toLowerCase():null,N=N.toLowerCase()),S&&T&&(S=Wn(S,T)||S);const z=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let k=j===N||!s&&j.startsWith(N)&&j.charAt(z)==="/",U=S!=null&&(S===N||!s&&S.startsWith(N)&&S.charAt(N.length)==="/"),R={isActive:k,isPending:U,isTransitioning:w},V=k?i:void 0,J;typeof o=="function"?J=o(R):J=[o,k?"active":null,U?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let re=typeof c=="function"?c(R):c;return M.createElement(oi,{...g,"aria-current":V,className:J,ref:x,style:re,to:d,viewTransition:m},typeof p=="function"?p(R):p)});Ky.displayName="NavLink";var qw=M.forwardRef(({discover:t="render",fetcherKey:i,navigate:l,reloadDocument:o,replace:s,state:c,method:d=Ys,action:m,onSubmit:p,relative:g,preventScrollReset:x,viewTransition:y,unstable_defaultShouldRevalidate:v,...E},_)=>{let{unstable_useTransitions:T}=M.useContext(Vt),w=Qw(),N=Ww(m,{relative:g}),j=d.toLowerCase()==="get"?"get":"post",S=typeof m=="string"&&Wy.test(m),z=k=>{if(p&&p(k),k.defaultPrevented)return;k.preventDefault();let U=k.nativeEvent.submitter,R=U?.getAttribute("formmethod")||d,V=()=>w(U||k.currentTarget,{fetcherKey:i,method:R,navigate:l,replace:s,state:c,relative:g,preventScrollReset:x,viewTransition:y,unstable_defaultShouldRevalidate:v});T&&l!==!1?M.startTransition(()=>V()):V()};return M.createElement("form",{ref:_,method:j,action:N,onSubmit:o?p:z,...E,"data-discover":!S&&t==="render"?"true":void 0})});qw.displayName="Form";function Vw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Fy(t){let i=M.useContext(wl);return Ze(i,Vw(t)),i}function $w(t,{target:i,replace:l,state:o,preventScrollReset:s,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=El(),x=Jn(),y=Xr(t,{relative:c});return M.useCallback(v=>{if(bw(v,i)){v.preventDefault();let E=l!==void 0?l:zr(x)===zr(y),_=()=>g(t,{replace:E,state:o,preventScrollReset:s,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:m});p?M.startTransition(()=>_()):_()}},[x,g,y,l,o,i,t,s,c,d,m,p])}function Xw(t){Yt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let i=M.useRef(vf(t)),l=M.useRef(!1),o=Jn(),s=M.useMemo(()=>ww(o.search,l.current?null:i.current),[o.search]),c=El(),d=M.useCallback((m,p)=>{const g=vf(typeof m=="function"?m(new URLSearchParams(s)):m);l.current=!0,c("?"+g,p)},[c,s]);return[s,d]}var Gw=0,Zw=()=>`__${String(++Gw)}__`;function Qw(){let{router:t}=Fy("useSubmit"),{basename:i}=M.useContext(Vt),l=uw(),o=t.fetch,s=t.navigate;return M.useCallback(async(c,d={})=>{let{action:m,method:p,encType:g,formData:x,body:y}=Nw(c,i);if(d.navigate===!1){let v=d.fetcherKey||Zw();await o(v,l,d.action||m,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:x,body:y,formMethod:d.method||p,formEncType:d.encType||g,flushSync:d.flushSync})}else await s(d.action||m,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:x,body:y,formMethod:d.method||p,formEncType:d.encType||g,replace:d.replace,state:d.state,fromRouteId:l,flushSync:d.flushSync,viewTransition:d.viewTransition})},[o,s,i,l])}function Ww(t,{relative:i}={}){let{basename:l}=M.useContext(Vt),o=M.useContext(sn);Ze(o,"useFormAction must be used inside a RouteContext");let[s]=o.matches.slice(-1),c={...Xr(t||".",{relative:i})},d=Jn();if(t==null){c.search=d.search;let m=new URLSearchParams(c.search),p=m.getAll("index");if(p.some(x=>x==="")){m.delete("index"),p.filter(y=>y).forEach(y=>m.append("index",y));let x=m.toString();c.search=x?`?${x}`:""}}return(!t||t===".")&&s.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),l!=="/"&&(c.pathname=c.pathname==="/"?l:Qn([l,c.pathname])),zr(c)}function Kw(t,{relative:i}={}){let l=M.useContext(Uy);Ze(l!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=Fy("useViewTransitionState"),s=Xr(t,{relative:i});if(!l.isTransitioning)return!1;let c=Wn(l.currentLocation.pathname,o)||l.currentLocation.pathname,d=Wn(l.nextLocation.pathname,o)||l.nextLocation.pathname;return Ws(s.pathname,d)!=null||Ws(s.pathname,c)!=null}Ay();const f0=t=>{let i;const l=new Set,o=(g,x)=>{const y=typeof g=="function"?g(i):g;if(!Object.is(y,i)){const v=i;i=x??(typeof y!="object"||y===null)?y:Object.assign({},i,y),l.forEach(E=>E(i,v))}},s=()=>i,m={setState:o,getState:s,getInitialState:()=>p,subscribe:g=>(l.add(g),()=>l.delete(g))},p=i=t(o,s,m);return m},Fw=(t=>t?f0(t):f0),Jw=t=>t;function Pw(t,i=Jw){const l=ll.useSyncExternalStore(t.subscribe,ll.useCallback(()=>i(t.getState()),[t,i]),ll.useCallback(()=>i(t.getInitialState()),[t,i]));return ll.useDebugValue(l),l}const h0=t=>{const i=Fw(t),l=o=>Pw(i,o);return Object.assign(l,i),l},Jy=(t=>t?h0(t):h0);function Iw(t,i){let l;try{l=t()}catch{return}return{getItem:s=>{var c;const d=p=>p===null?null:JSON.parse(p,void 0),m=(c=l.getItem(s))!=null?c:null;return m instanceof Promise?m.then(d):d(m)},setItem:(s,c)=>l.setItem(s,JSON.stringify(c,void 0)),removeItem:s=>l.removeItem(s)}}const bf=t=>i=>{try{const l=t(i);return l instanceof Promise?l:{then(o){return bf(o)(l)},catch(o){return this}}}catch(l){return{then(o){return this},catch(o){return bf(o)(l)}}}},eS=(t,i)=>(l,o,s)=>{let c={storage:Iw(()=>localStorage),partialize:w=>w,version:0,merge:(w,N)=>({...N,...w}),...i},d=!1,m=0;const p=new Set,g=new Set;let x=c.storage;if(!x)return t((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),l(...w)},o,s);const y=()=>{const w=c.partialize({...o()});return x.setItem(c.name,{state:w,version:c.version})},v=s.setState;s.setState=(w,N)=>(v(w,N),y());const E=t((...w)=>(l(...w),y()),o,s);s.getInitialState=()=>E;let _;const T=()=>{var w,N;if(!x)return;const j=++m;d=!1,p.forEach(z=>{var k;return z((k=o())!=null?k:E)});const S=((N=c.onRehydrateStorage)==null?void 0:N.call(c,(w=o())!=null?w:E))||void 0;return bf(x.getItem.bind(x))(c.name).then(z=>{if(z)if(typeof z.version=="number"&&z.version!==c.version){if(c.migrate){const k=c.migrate(z.state,z.version);return k instanceof Promise?k.then(U=>[!0,U]):[!0,k]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,z.state];return[!1,void 0]}).then(z=>{var k;if(j!==m)return;const[U,R]=z;if(_=c.merge(R,(k=o())!=null?k:E),l(_,!0),U)return y()}).then(()=>{j===m&&(S?.(_,void 0),_=o(),d=!0,g.forEach(z=>z(_)))}).catch(z=>{j===m&&S?.(void 0,z)})};return s.persist={setOptions:w=>{c={...c,...w},w.storage&&(x=w.storage)},clearStorage:()=>{x?.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>T(),hasHydrated:()=>d,onHydrate:w=>(p.add(w),()=>{p.delete(w)}),onFinishHydration:w=>(g.add(w),()=>{g.delete(w)})},c.skipHydration||T(),_||E},tS=eS,Gr=Jy(tS(t=>({user:null,token:null,isAuthenticated:!1,login:(i,l)=>{t({user:i,token:l,isAuthenticated:!0})},logout:()=>{t({user:null,token:null,isAuthenticated:!1})},getAuthHeader:()=>{const i=Gr.getState();return i.token?{Authorization:`Basic ${i.token}`}:{}}}),{name:"auth-storage"}));const nS=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aS=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(i,l,o)=>o?o.toUpperCase():l.toLowerCase()),m0=t=>{const i=aS(t);return i.charAt(0).toUpperCase()+i.slice(1)},Py=(...t)=>t.filter((i,l,o)=>!!i&&i.trim()!==""&&o.indexOf(i)===l).join(" ").trim(),iS=t=>{for(const i in t)if(i.startsWith("aria-")||i==="role"||i==="title")return!0};var lS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const rS=M.forwardRef(({color:t="currentColor",size:i=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:s="",children:c,iconNode:d,...m},p)=>M.createElement("svg",{ref:p,...lS,width:i,height:i,stroke:t,strokeWidth:o?Number(l)*24/Number(i):l,className:Py("lucide",s),...!c&&!iS(m)&&{"aria-hidden":"true"},...m},[...d.map(([g,x])=>M.createElement(g,x)),...Array.isArray(c)?c:[c]]));const We=(t,i)=>{const l=M.forwardRef(({className:o,...s},c)=>M.createElement(rS,{ref:c,iconNode:i,className:Py(`lucide-${nS(m0(t))}`,`lucide-${t}`,o),...s}));return l.displayName=m0(t),l};const oS=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],du=We("activity",oS);const sS=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],uS=We("arrow-right-left",sS);const cS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],dS=We("arrow-right",cS);const fS=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],$f=We("bot",fS);const hS=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Iy=We("chart-column",hS);const mS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ex=We("chevron-right",mS);const gS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],tx=We("circle-check-big",gS);const pS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],nx=We("circle-x",pS);const yS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ks=We("clock",yS);const xS=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],ax=We("funnel",xS);const vS=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],ix=We("git-branch",vS);const bS=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],wS=We("layout-dashboard",bS);const SS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ES=We("log-out",SS);const NS=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],dl=We("message-square",NS);const jS=[["path",{d:"M5 12h14",key:"1ays0h"}]],_S=We("minus",jS);const CS=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Xf=We("phone",CS);const MS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],TS=We("plus",MS);const zS=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Gf=We("refresh-cw",zS);const AS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],lx=We("search",AS);const DS=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],RS=We("send",DS);const OS=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],HS=We("trending-up",OS);const kS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],g0=We("user",kS);const BS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Zf=We("users",BS);const LS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],US=We("x",LS),YS=[{to:"/dashboard",icon:wS,label:"Dashboard"},{to:"/conversations",icon:dl,label:"Conversaciones"},{to:"/flows",icon:ix,label:"Flujos"},{to:"/logs",icon:du,label:"Logs"},{to:"/leads",icon:Zf,label:"Leads"},{to:"/analytics",icon:Iy,label:"Analytics"}];function qS(){const t=El(),{user:i,logout:l}=Gr(),o=()=>{l(),t("/login")};return f.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[f.jsxs("aside",{className:"w-64 bg-white border-r border-gray-200 flex flex-col",children:[f.jsxs("div",{className:"h-16 flex items-center gap-3 px-6 border-b border-gray-200",children:[f.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-green-700 rounded-xl flex items-center justify-center",children:f.jsx($f,{className:"w-6 h-6 text-white"})}),f.jsxs("div",{children:[f.jsx("h1",{className:"font-bold text-gray-800",children:"WhatsApp Bot"}),f.jsx("p",{className:"text-xs text-gray-400",children:"Platform"})]})]}),f.jsx("nav",{className:"flex-1 p-4 space-y-1",children:YS.map(({to:s,icon:c,label:d})=>f.jsxs(Ky,{to:s,className:({isActive:m})=>`flex items-center gap-3 px-4 py-3 rounded-lg transition ${m?"bg-green-50 text-green-600 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:[f.jsx(c,{className:"w-5 h-5"}),f.jsx("span",{children:d})]},s))}),f.jsx("div",{className:"p-4 border-t border-gray-200",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:f.jsx("span",{className:"text-gray-600 font-medium",children:i?.username?.[0]?.toUpperCase()||"A"})}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-gray-800",children:i?.username||"Admin"}),f.jsx("p",{className:"text-xs text-gray-400",children:"Administrador"})]})]}),f.jsx("button",{onClick:o,className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition",title:"Cerrar sesin",children:f.jsx(ES,{className:"w-5 h-5"})})]})})]}),f.jsx("main",{className:"flex-1 overflow-auto",children:f.jsx(hw,{})})]})}async function VS(t,i){const l=btoa(`${t}:${i}`);if(!(await fetch("/api/chatbot/stats",{headers:{Authorization:`Basic ${l}`}})).ok)throw new Error("Credenciales invlidas");return{user:{username:t},token:l}}function $S(){const[t,i]=M.useState(""),[l,o]=M.useState(""),[s,c]=M.useState(""),[d,m]=M.useState(!1),p=El(),g=Gr(y=>y.login),x=async y=>{y.preventDefault(),c(""),m(!0);try{const{user:v,token:E}=await VS(t,l);g(v,E),p("/dashboard")}catch(v){c(v.message||"Error al iniciar sesin")}finally{m(!1)}};return f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-green-100 flex items-center justify-center p-5",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md p-10",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"w-18 h-18 bg-gradient-to-br from-green-500 to-green-700 rounded-2xl flex items-center justify-center mx-auto mb-5 p-4",children:f.jsx("svg",{className:"w-11 h-11 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})})}),f.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"WhatsApp Bot Platform"}),f.jsx("p",{className:"text-gray-500 text-sm",children:"Ingresa tus credenciales para continuar"})]}),f.jsxs("form",{onSubmit:x,children:[s&&f.jsx("div",{className:"bg-red-50 text-red-600 px-4 py-3 rounded-xl text-sm mb-5 border border-red-200",children:s}),f.jsxs("div",{className:"mb-5",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Usuario"}),f.jsx("input",{type:"text",value:t,onChange:y=>i(y.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-base outline-none transition-colors focus:border-green-500",placeholder:"admin",required:!0})]}),f.jsxs("div",{className:"mb-6",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrasea"}),f.jsx("input",{type:"password",value:l,onChange:y=>o(y.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-base outline-none transition-colors focus:border-green-500",placeholder:"",required:!0})]}),f.jsx("button",{type:"submit",disabled:d,className:"w-full bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-semibold py-3.5 px-5 rounded-xl text-base transition-all shadow-lg shadow-green-500/30 disabled:opacity-60 disabled:cursor-not-allowed",children:d?"Ingresando...":"Ingresar"})]}),f.jsx("p",{className:"text-center text-gray-400 text-xs mt-8",children:"Respaldos Chile  2025"})]})})}const Zr=()=>{const t=Gr.getState().token;return{"Content-Type":"application/json",...t?{Authorization:`Basic ${t}`}:{}}};async function rx(){const t=await fetch("/api/chat/conversations",{headers:Zr()});if(!t.ok)throw new Error("Error loading conversations");return t.json()}async function XS(t){const i=await fetch(`/api/chat/conversations/${encodeURIComponent(t)}`,{headers:Zr()});if(!i.ok)throw new Error("Error loading conversation");return i.json()}async function GS(t,i){const l=await fetch("/api/chat/send",{method:"POST",headers:Zr(),body:JSON.stringify({to:t,message:i})});if(!l.ok)throw new Error("Error sending message");return l.json()}async function ZS(t){const i=await fetch("/api/chat/mark-read",{method:"POST",headers:Zr(),body:JSON.stringify({phone:t})});if(!i.ok)throw new Error("Error marking as read");return i.json()}async function QS(){const t=await fetch("/api/chatbot/stats",{headers:Zr()});if(!t.ok)throw new Error("Error loading stats");return t.json()}function Cs({title:t,value:i,icon:l,color:o="green",subtitle:s}){const c={green:"bg-green-50 text-green-600",blue:"bg-blue-50 text-blue-600",yellow:"bg-yellow-50 text-yellow-600",purple:"bg-purple-50 text-purple-600",red:"bg-red-50 text-red-600"};return f.jsx("div",{className:"bg-white rounded-xl p-6 border border-gray-100 shadow-sm",children:f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-500 font-medium",children:t}),f.jsx("p",{className:"text-3xl font-bold text-gray-800 mt-2",children:i}),s&&f.jsx("p",{className:"text-xs text-gray-400 mt-1",children:s})]}),l&&f.jsx("div",{className:`p-3 rounded-xl ${c[o]}`,children:f.jsx(l,{className:"w-6 h-6"})})]})})}const ox=6048e5,WS=864e5,Ms=43200,p0=1440,y0=Symbol.for("constructDateFrom");function Kn(t,i){return typeof t=="function"?t(i):t&&typeof t=="object"&&y0 in t?t[y0](i):t instanceof Date?new t.constructor(i):new Date(i)}function ct(t,i){return Kn(i||t,t)}let KS={};function Qr(){return KS}function Ar(t,i){const l=Qr(),o=i?.weekStartsOn??i?.locale?.options?.weekStartsOn??l.weekStartsOn??l.locale?.options?.weekStartsOn??0,s=ct(t,i?.in),c=s.getDay(),d=(c<o?7:0)+c-o;return s.setDate(s.getDate()-d),s.setHours(0,0,0,0),s}function Fs(t,i){return Ar(t,{...i,weekStartsOn:1})}function sx(t,i){const l=ct(t,i?.in),o=l.getFullYear(),s=Kn(l,0);s.setFullYear(o+1,0,4),s.setHours(0,0,0,0);const c=Fs(s),d=Kn(l,0);d.setFullYear(o,0,4),d.setHours(0,0,0,0);const m=Fs(d);return l.getTime()>=c.getTime()?o+1:l.getTime()>=m.getTime()?o:o-1}function Js(t){const i=ct(t),l=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()));return l.setUTCFullYear(i.getFullYear()),+t-+l}function fu(t,...i){const l=Kn.bind(null,t||i.find(o=>typeof o=="object"));return i.map(l)}function x0(t,i){const l=ct(t,i?.in);return l.setHours(0,0,0,0),l}function FS(t,i,l){const[o,s]=fu(l?.in,t,i),c=x0(o),d=x0(s),m=+c-Js(c),p=+d-Js(d);return Math.round((m-p)/WS)}function JS(t,i){const l=sx(t,i),o=Kn(t,0);return o.setFullYear(l,0,4),o.setHours(0,0,0,0),Fs(o)}function Vs(t,i){const l=+ct(t)-+ct(i);return l<0?-1:l>0?1:l}function PS(t){return Kn(t,Date.now())}function IS(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function eE(t){return!(!IS(t)&&typeof t!="number"||isNaN(+ct(t)))}function tE(t,i,l){const[o,s]=fu(l?.in,t,i),c=o.getFullYear()-s.getFullYear(),d=o.getMonth()-s.getMonth();return c*12+d}function nE(t){return i=>{const o=(t?Math[t]:Math.trunc)(i);return o===0?0:o}}function aE(t,i){return+ct(t)-+ct(i)}function iE(t,i){const l=ct(t,i?.in);return l.setHours(23,59,59,999),l}function lE(t,i){const l=ct(t,i?.in),o=l.getMonth();return l.setFullYear(l.getFullYear(),o+1,0),l.setHours(23,59,59,999),l}function rE(t,i){const l=ct(t,i?.in);return+iE(l,i)==+lE(l,i)}function oE(t,i,l){const[o,s,c]=fu(l?.in,t,t,i),d=Vs(s,c),m=Math.abs(tE(s,c));if(m<1)return 0;s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-d*m);let p=Vs(s,c)===-d;rE(o)&&m===1&&Vs(o,c)===1&&(p=!1);const g=d*(m-+p);return g===0?0:g}function sE(t,i,l){const o=aE(t,i)/1e3;return nE(l?.roundingMethod)(o)}function uE(t,i){const l=ct(t,i?.in);return l.setFullYear(l.getFullYear(),0,1),l.setHours(0,0,0,0),l}const cE={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},dE=(t,i,l)=>{let o;const s=cE[t];return typeof s=="string"?o=s:i===1?o=s.one:o=s.other.replace("{{count}}",i.toString()),l?.addSuffix?l.comparison&&l.comparison>0?"in "+o:o+" ago":o};function sl(t){return(i={})=>{const l=i.width?String(i.width):t.defaultWidth;return t.formats[l]||t.formats[t.defaultWidth]}}const fE={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},hE={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},mE={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},gE={date:sl({formats:fE,defaultWidth:"full"}),time:sl({formats:hE,defaultWidth:"full"}),dateTime:sl({formats:mE,defaultWidth:"full"})},pE={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},yE=(t,i,l,o)=>pE[t];function yn(t){return(i,l)=>{const o=l?.context?String(l.context):"standalone";let s;if(o==="formatting"&&t.formattingValues){const d=t.defaultFormattingWidth||t.defaultWidth,m=l?.width?String(l.width):d;s=t.formattingValues[m]||t.formattingValues[d]}else{const d=t.defaultWidth,m=l?.width?String(l.width):t.defaultWidth;s=t.values[m]||t.values[d]}const c=t.argumentCallback?t.argumentCallback(i):i;return s[c]}}const xE={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},vE={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},bE={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},wE={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},SE={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},EE={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},NE=(t,i)=>{const l=Number(t),o=l%100;if(o>20||o<10)switch(o%10){case 1:return l+"st";case 2:return l+"nd";case 3:return l+"rd"}return l+"th"},jE={ordinalNumber:NE,era:yn({values:xE,defaultWidth:"wide"}),quarter:yn({values:vE,defaultWidth:"wide",argumentCallback:t=>t-1}),month:yn({values:bE,defaultWidth:"wide"}),day:yn({values:wE,defaultWidth:"wide"}),dayPeriod:yn({values:SE,defaultWidth:"wide",formattingValues:EE,defaultFormattingWidth:"wide"})};function xn(t){return(i,l={})=>{const o=l.width,s=o&&t.matchPatterns[o]||t.matchPatterns[t.defaultMatchWidth],c=i.match(s);if(!c)return null;const d=c[0],m=o&&t.parsePatterns[o]||t.parsePatterns[t.defaultParseWidth],p=Array.isArray(m)?CE(m,y=>y.test(d)):_E(m,y=>y.test(d));let g;g=t.valueCallback?t.valueCallback(p):p,g=l.valueCallback?l.valueCallback(g):g;const x=i.slice(d.length);return{value:g,rest:x}}}function _E(t,i){for(const l in t)if(Object.prototype.hasOwnProperty.call(t,l)&&i(t[l]))return l}function CE(t,i){for(let l=0;l<t.length;l++)if(i(t[l]))return l}function ux(t){return(i,l={})=>{const o=i.match(t.matchPattern);if(!o)return null;const s=o[0],c=i.match(t.parsePattern);if(!c)return null;let d=t.valueCallback?t.valueCallback(c[0]):c[0];d=l.valueCallback?l.valueCallback(d):d;const m=i.slice(s.length);return{value:d,rest:m}}}const ME=/^(\d+)(th|st|nd|rd)?/i,TE=/\d+/i,zE={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},AE={any:[/^b/i,/^(a|c)/i]},DE={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},RE={any:[/1/i,/2/i,/3/i,/4/i]},OE={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},HE={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},kE={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},BE={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},LE={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},UE={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},YE={ordinalNumber:ux({matchPattern:ME,parsePattern:TE,valueCallback:t=>parseInt(t,10)}),era:xn({matchPatterns:zE,defaultMatchWidth:"wide",parsePatterns:AE,defaultParseWidth:"any"}),quarter:xn({matchPatterns:DE,defaultMatchWidth:"wide",parsePatterns:RE,defaultParseWidth:"any",valueCallback:t=>t+1}),month:xn({matchPatterns:OE,defaultMatchWidth:"wide",parsePatterns:HE,defaultParseWidth:"any"}),day:xn({matchPatterns:kE,defaultMatchWidth:"wide",parsePatterns:BE,defaultParseWidth:"any"}),dayPeriod:xn({matchPatterns:LE,defaultMatchWidth:"any",parsePatterns:UE,defaultParseWidth:"any"})},cx={code:"en-US",formatDistance:dE,formatLong:gE,formatRelative:yE,localize:jE,match:YE,options:{weekStartsOn:0,firstWeekContainsDate:1}};function qE(t,i){const l=ct(t,i?.in);return FS(l,uE(l))+1}function VE(t,i){const l=ct(t,i?.in),o=+Fs(l)-+JS(l);return Math.round(o/ox)+1}function dx(t,i){const l=ct(t,i?.in),o=l.getFullYear(),s=Qr(),c=i?.firstWeekContainsDate??i?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,d=Kn(i?.in||t,0);d.setFullYear(o+1,0,c),d.setHours(0,0,0,0);const m=Ar(d,i),p=Kn(i?.in||t,0);p.setFullYear(o,0,c),p.setHours(0,0,0,0);const g=Ar(p,i);return+l>=+m?o+1:+l>=+g?o:o-1}function $E(t,i){const l=Qr(),o=i?.firstWeekContainsDate??i?.locale?.options?.firstWeekContainsDate??l.firstWeekContainsDate??l.locale?.options?.firstWeekContainsDate??1,s=dx(t,i),c=Kn(i?.in||t,0);return c.setFullYear(s,0,o),c.setHours(0,0,0,0),Ar(c,i)}function XE(t,i){const l=ct(t,i?.in),o=+Ar(l,i)-+$E(l,i);return Math.round(o/ox)+1}function Le(t,i){const l=t<0?"-":"",o=Math.abs(t).toString().padStart(i,"0");return l+o}const Ma={y(t,i){const l=t.getFullYear(),o=l>0?l:1-l;return Le(i==="yy"?o%100:o,i.length)},M(t,i){const l=t.getMonth();return i==="M"?String(l+1):Le(l+1,2)},d(t,i){return Le(t.getDate(),i.length)},a(t,i){const l=t.getHours()/12>=1?"pm":"am";switch(i){case"a":case"aa":return l.toUpperCase();case"aaa":return l;case"aaaaa":return l[0];default:return l==="am"?"a.m.":"p.m."}},h(t,i){return Le(t.getHours()%12||12,i.length)},H(t,i){return Le(t.getHours(),i.length)},m(t,i){return Le(t.getMinutes(),i.length)},s(t,i){return Le(t.getSeconds(),i.length)},S(t,i){const l=i.length,o=t.getMilliseconds(),s=Math.trunc(o*Math.pow(10,l-3));return Le(s,i.length)}},al={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},v0={G:function(t,i,l){const o=t.getFullYear()>0?1:0;switch(i){case"G":case"GG":case"GGG":return l.era(o,{width:"abbreviated"});case"GGGGG":return l.era(o,{width:"narrow"});default:return l.era(o,{width:"wide"})}},y:function(t,i,l){if(i==="yo"){const o=t.getFullYear(),s=o>0?o:1-o;return l.ordinalNumber(s,{unit:"year"})}return Ma.y(t,i)},Y:function(t,i,l,o){const s=dx(t,o),c=s>0?s:1-s;if(i==="YY"){const d=c%100;return Le(d,2)}return i==="Yo"?l.ordinalNumber(c,{unit:"year"}):Le(c,i.length)},R:function(t,i){const l=sx(t);return Le(l,i.length)},u:function(t,i){const l=t.getFullYear();return Le(l,i.length)},Q:function(t,i,l){const o=Math.ceil((t.getMonth()+1)/3);switch(i){case"Q":return String(o);case"QQ":return Le(o,2);case"Qo":return l.ordinalNumber(o,{unit:"quarter"});case"QQQ":return l.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return l.quarter(o,{width:"narrow",context:"formatting"});default:return l.quarter(o,{width:"wide",context:"formatting"})}},q:function(t,i,l){const o=Math.ceil((t.getMonth()+1)/3);switch(i){case"q":return String(o);case"qq":return Le(o,2);case"qo":return l.ordinalNumber(o,{unit:"quarter"});case"qqq":return l.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return l.quarter(o,{width:"narrow",context:"standalone"});default:return l.quarter(o,{width:"wide",context:"standalone"})}},M:function(t,i,l){const o=t.getMonth();switch(i){case"M":case"MM":return Ma.M(t,i);case"Mo":return l.ordinalNumber(o+1,{unit:"month"});case"MMM":return l.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return l.month(o,{width:"narrow",context:"formatting"});default:return l.month(o,{width:"wide",context:"formatting"})}},L:function(t,i,l){const o=t.getMonth();switch(i){case"L":return String(o+1);case"LL":return Le(o+1,2);case"Lo":return l.ordinalNumber(o+1,{unit:"month"});case"LLL":return l.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return l.month(o,{width:"narrow",context:"standalone"});default:return l.month(o,{width:"wide",context:"standalone"})}},w:function(t,i,l,o){const s=XE(t,o);return i==="wo"?l.ordinalNumber(s,{unit:"week"}):Le(s,i.length)},I:function(t,i,l){const o=VE(t);return i==="Io"?l.ordinalNumber(o,{unit:"week"}):Le(o,i.length)},d:function(t,i,l){return i==="do"?l.ordinalNumber(t.getDate(),{unit:"date"}):Ma.d(t,i)},D:function(t,i,l){const o=qE(t);return i==="Do"?l.ordinalNumber(o,{unit:"dayOfYear"}):Le(o,i.length)},E:function(t,i,l){const o=t.getDay();switch(i){case"E":case"EE":case"EEE":return l.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return l.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return l.day(o,{width:"short",context:"formatting"});default:return l.day(o,{width:"wide",context:"formatting"})}},e:function(t,i,l,o){const s=t.getDay(),c=(s-o.weekStartsOn+8)%7||7;switch(i){case"e":return String(c);case"ee":return Le(c,2);case"eo":return l.ordinalNumber(c,{unit:"day"});case"eee":return l.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return l.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return l.day(s,{width:"short",context:"formatting"});default:return l.day(s,{width:"wide",context:"formatting"})}},c:function(t,i,l,o){const s=t.getDay(),c=(s-o.weekStartsOn+8)%7||7;switch(i){case"c":return String(c);case"cc":return Le(c,i.length);case"co":return l.ordinalNumber(c,{unit:"day"});case"ccc":return l.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return l.day(s,{width:"narrow",context:"standalone"});case"cccccc":return l.day(s,{width:"short",context:"standalone"});default:return l.day(s,{width:"wide",context:"standalone"})}},i:function(t,i,l){const o=t.getDay(),s=o===0?7:o;switch(i){case"i":return String(s);case"ii":return Le(s,i.length);case"io":return l.ordinalNumber(s,{unit:"day"});case"iii":return l.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return l.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return l.day(o,{width:"short",context:"formatting"});default:return l.day(o,{width:"wide",context:"formatting"})}},a:function(t,i,l){const s=t.getHours()/12>=1?"pm":"am";switch(i){case"a":case"aa":return l.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return l.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return l.dayPeriod(s,{width:"narrow",context:"formatting"});default:return l.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,i,l){const o=t.getHours();let s;switch(o===12?s=al.noon:o===0?s=al.midnight:s=o/12>=1?"pm":"am",i){case"b":case"bb":return l.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return l.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return l.dayPeriod(s,{width:"narrow",context:"formatting"});default:return l.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,i,l){const o=t.getHours();let s;switch(o>=17?s=al.evening:o>=12?s=al.afternoon:o>=4?s=al.morning:s=al.night,i){case"B":case"BB":case"BBB":return l.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return l.dayPeriod(s,{width:"narrow",context:"formatting"});default:return l.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,i,l){if(i==="ho"){let o=t.getHours()%12;return o===0&&(o=12),l.ordinalNumber(o,{unit:"hour"})}return Ma.h(t,i)},H:function(t,i,l){return i==="Ho"?l.ordinalNumber(t.getHours(),{unit:"hour"}):Ma.H(t,i)},K:function(t,i,l){const o=t.getHours()%12;return i==="Ko"?l.ordinalNumber(o,{unit:"hour"}):Le(o,i.length)},k:function(t,i,l){let o=t.getHours();return o===0&&(o=24),i==="ko"?l.ordinalNumber(o,{unit:"hour"}):Le(o,i.length)},m:function(t,i,l){return i==="mo"?l.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ma.m(t,i)},s:function(t,i,l){return i==="so"?l.ordinalNumber(t.getSeconds(),{unit:"second"}):Ma.s(t,i)},S:function(t,i){return Ma.S(t,i)},X:function(t,i,l){const o=t.getTimezoneOffset();if(o===0)return"Z";switch(i){case"X":return w0(o);case"XXXX":case"XX":return li(o);default:return li(o,":")}},x:function(t,i,l){const o=t.getTimezoneOffset();switch(i){case"x":return w0(o);case"xxxx":case"xx":return li(o);default:return li(o,":")}},O:function(t,i,l){const o=t.getTimezoneOffset();switch(i){case"O":case"OO":case"OOO":return"GMT"+b0(o,":");default:return"GMT"+li(o,":")}},z:function(t,i,l){const o=t.getTimezoneOffset();switch(i){case"z":case"zz":case"zzz":return"GMT"+b0(o,":");default:return"GMT"+li(o,":")}},t:function(t,i,l){const o=Math.trunc(+t/1e3);return Le(o,i.length)},T:function(t,i,l){return Le(+t,i.length)}};function b0(t,i=""){const l=t>0?"-":"+",o=Math.abs(t),s=Math.trunc(o/60),c=o%60;return c===0?l+String(s):l+String(s)+i+Le(c,2)}function w0(t,i){return t%60===0?(t>0?"-":"+")+Le(Math.abs(t)/60,2):li(t,i)}function li(t,i=""){const l=t>0?"-":"+",o=Math.abs(t),s=Le(Math.trunc(o/60),2),c=Le(o%60,2);return l+s+i+c}const S0=(t,i)=>{switch(t){case"P":return i.date({width:"short"});case"PP":return i.date({width:"medium"});case"PPP":return i.date({width:"long"});default:return i.date({width:"full"})}},fx=(t,i)=>{switch(t){case"p":return i.time({width:"short"});case"pp":return i.time({width:"medium"});case"ppp":return i.time({width:"long"});default:return i.time({width:"full"})}},GE=(t,i)=>{const l=t.match(/(P+)(p+)?/)||[],o=l[1],s=l[2];if(!s)return S0(t,i);let c;switch(o){case"P":c=i.dateTime({width:"short"});break;case"PP":c=i.dateTime({width:"medium"});break;case"PPP":c=i.dateTime({width:"long"});break;default:c=i.dateTime({width:"full"});break}return c.replace("{{date}}",S0(o,i)).replace("{{time}}",fx(s,i))},ZE={p:fx,P:GE},QE=/^D+$/,WE=/^Y+$/,KE=["D","DD","YY","YYYY"];function FE(t){return QE.test(t)}function JE(t){return WE.test(t)}function PE(t,i,l){const o=IE(t,i,l);if(console.warn(o),KE.includes(t))throw new RangeError(o)}function IE(t,i,l){const o=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${i}\`) for formatting ${o} to the input \`${l}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const eN=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,tN=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,nN=/^'([^]*?)'?$/,aN=/''/g,iN=/[a-zA-Z]/;function Qf(t,i,l){const o=Qr(),s=l?.locale??o.locale??cx,c=l?.firstWeekContainsDate??l?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,d=l?.weekStartsOn??l?.locale?.options?.weekStartsOn??o.weekStartsOn??o.locale?.options?.weekStartsOn??0,m=ct(t,l?.in);if(!eE(m))throw new RangeError("Invalid time value");let p=i.match(tN).map(x=>{const y=x[0];if(y==="p"||y==="P"){const v=ZE[y];return v(x,s.formatLong)}return x}).join("").match(eN).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const y=x[0];if(y==="'")return{isToken:!1,value:lN(x)};if(v0[y])return{isToken:!0,value:x};if(y.match(iN))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:x}});s.localize.preprocessor&&(p=s.localize.preprocessor(m,p));const g={firstWeekContainsDate:c,weekStartsOn:d,locale:s};return p.map(x=>{if(!x.isToken)return x.value;const y=x.value;(!l?.useAdditionalWeekYearTokens&&JE(y)||!l?.useAdditionalDayOfYearTokens&&FE(y))&&PE(y,i,String(t));const v=v0[y[0]];return v(m,y,s.localize,g)}).join("")}function lN(t){const i=t.match(nN);return i?i[1].replace(aN,"'"):t}function rN(t,i,l){const o=Qr(),s=l?.locale??o.locale??cx,c=2520,d=Vs(t,i);if(isNaN(d))throw new RangeError("Invalid time value");const m=Object.assign({},l,{addSuffix:l?.addSuffix,comparison:d}),[p,g]=fu(l?.in,...d>0?[i,t]:[t,i]),x=sE(g,p),y=(Js(g)-Js(p))/1e3,v=Math.round((x-y)/60);let E;if(v<2)return l?.includeSeconds?x<5?s.formatDistance("lessThanXSeconds",5,m):x<10?s.formatDistance("lessThanXSeconds",10,m):x<20?s.formatDistance("lessThanXSeconds",20,m):x<40?s.formatDistance("halfAMinute",0,m):x<60?s.formatDistance("lessThanXMinutes",1,m):s.formatDistance("xMinutes",1,m):v===0?s.formatDistance("lessThanXMinutes",1,m):s.formatDistance("xMinutes",v,m);if(v<45)return s.formatDistance("xMinutes",v,m);if(v<90)return s.formatDistance("aboutXHours",1,m);if(v<p0){const _=Math.round(v/60);return s.formatDistance("aboutXHours",_,m)}else{if(v<c)return s.formatDistance("xDays",1,m);if(v<Ms){const _=Math.round(v/p0);return s.formatDistance("xDays",_,m)}else if(v<Ms*2)return E=Math.round(v/Ms),s.formatDistance("aboutXMonths",E,m)}if(E=oE(g,p),E<12){const _=Math.round(v/Ms);return s.formatDistance("xMonths",_,m)}else{const _=E%12,T=Math.trunc(E/12);return _<3?s.formatDistance("aboutXYears",T,m):_<9?s.formatDistance("overXYears",T,m):s.formatDistance("almostXYears",T+1,m)}}function hu(t,i){return rN(t,PS(t),i)}const oN={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},sN=(t,i,l)=>{let o;const s=oN[t];return typeof s=="string"?o=s:i===1?o=s.one:o=s.other.replace("{{count}}",i.toString()),l?.addSuffix?l.comparison&&l.comparison>0?"en "+o:"hace "+o:o},uN={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},cN={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},dN={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},fN={date:sl({formats:uN,defaultWidth:"full"}),time:sl({formats:cN,defaultWidth:"full"}),dateTime:sl({formats:dN,defaultWidth:"full"})},hN={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},mN={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},gN=(t,i,l,o)=>i.getHours()!==1?mN[t]:hN[t],pN={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},yN={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},xN={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},vN={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},bN={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},wN={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},SN=(t,i)=>Number(t)+"",EN={ordinalNumber:SN,era:yn({values:pN,defaultWidth:"wide"}),quarter:yn({values:yN,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:yn({values:xN,defaultWidth:"wide"}),day:yn({values:vN,defaultWidth:"wide"}),dayPeriod:yn({values:bN,defaultWidth:"wide",formattingValues:wN,defaultFormattingWidth:"wide"})},NN=/^(\d+)()?/i,jN=/\d+/i,_N={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},CN={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},MN={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},TN={any:[/1/i,/2/i,/3/i,/4/i]},zN={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},AN={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},DN={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},RN={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},ON={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},HN={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},kN={ordinalNumber:ux({matchPattern:NN,parsePattern:jN,valueCallback:function(t){return parseInt(t,10)}}),era:xn({matchPatterns:_N,defaultMatchWidth:"wide",parsePatterns:CN,defaultParseWidth:"any"}),quarter:xn({matchPatterns:MN,defaultMatchWidth:"wide",parsePatterns:TN,defaultParseWidth:"any",valueCallback:t=>t+1}),month:xn({matchPatterns:zN,defaultMatchWidth:"wide",parsePatterns:AN,defaultParseWidth:"any"}),day:xn({matchPatterns:DN,defaultMatchWidth:"wide",parsePatterns:RN,defaultParseWidth:"any"}),dayPeriod:xn({matchPatterns:ON,defaultMatchWidth:"any",parsePatterns:HN,defaultParseWidth:"any"})},Dr={code:"es",formatDistance:sN,formatLong:fN,formatRelative:gN,localize:EN,match:kN,options:{weekStartsOn:1,firstWeekContainsDate:1}};function BN(){const[t,i]=M.useState(null),[l,o]=M.useState([]),[s,c]=M.useState(!0);M.useEffect(()=>{d()},[]);const d=async()=>{try{const[p,g]=await Promise.all([QS(),rx()]);i(p),o(g.conversations||[])}catch(p){console.error("Error loading dashboard:",p)}finally{c(!1)}};if(s)return f.jsx("div",{className:"p-8 flex items-center justify-center h-full",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-500"})});const m=l.slice(0,5);return f.jsxs("div",{className:"p-8",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Dashboard"}),f.jsx("p",{className:"text-gray-500 mt-1",children:"Resumen de tu chatbot de WhatsApp"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[f.jsx(Cs,{title:"Conversaciones",value:l.length,icon:dl,color:"green",subtitle:"Total activas"}),f.jsx(Cs,{title:"Usuarios nicos",value:t?.unique_users||0,icon:Zf,color:"blue",subtitle:"ltimos 30 das"}),f.jsx(Cs,{title:"Interacciones",value:t?.interactions||0,icon:$f,color:"purple",subtitle:"Procesadas por el bot"}),f.jsx(Cs,{title:"Confianza",value:`${Math.round((t?.avg_confidence||0)*100)}%`,icon:Ks,color:"yellow",subtitle:"Promedio clasificacin"})]}),f.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 shadow-sm",children:[f.jsxs("div",{className:"p-6 border-b border-gray-100 flex items-center justify-between",children:[f.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Conversaciones Recientes"}),f.jsxs(oi,{to:"/conversations",className:"text-green-600 hover:text-green-700 text-sm font-medium flex items-center gap-1",children:["Ver todas ",f.jsx(dS,{className:"w-4 h-4"})]})]}),m.length===0?f.jsxs("div",{className:"p-12 text-center text-gray-400",children:[f.jsx(dl,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),f.jsx("p",{children:"No hay conversaciones todava"})]}):f.jsx("div",{className:"divide-y divide-gray-100",children:m.map(p=>f.jsxs(oi,{to:`/conversations?phone=${encodeURIComponent(p.phone)}`,className:"flex items-center gap-4 p-4 hover:bg-gray-50 transition",children:[f.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:f.jsx("span",{className:"text-green-600 font-medium",children:p.contact_name?.[0]?.toUpperCase()||p.phone.slice(-2)})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("p",{className:"font-medium text-gray-800 truncate",children:p.contact_name||p.phone}),f.jsx("span",{className:"text-xs text-gray-400",children:p.last_message_time?hu(new Date(p.last_message_time),{addSuffix:!0,locale:Dr}):""})]}),f.jsx("p",{className:"text-sm text-gray-500 truncate mt-1",children:p.last_message||"Sin mensajes"})]}),p.unread_count>0&&f.jsx("span",{className:"bg-green-500 text-white text-xs font-medium px-2 py-1 rounded-full",children:p.unread_count})]},p.phone))})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-8",children:[f.jsxs(oi,{to:"/flows",className:"bg-gradient-to-r from-green-500 to-green-600 rounded-xl p-6 text-white hover:from-green-600 hover:to-green-700 transition",children:[f.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Editor de Flujos"}),f.jsx("p",{className:"text-green-100 text-sm",children:"Crea y edita flujos conversacionales de forma visual"})]}),f.jsxs(oi,{to:"/conversations",className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl p-6 text-white hover:from-blue-600 hover:to-blue-700 transition",children:[f.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Ver Conversaciones"}),f.jsx("p",{className:"text-blue-100 text-sm",children:"Responde a tus clientes en tiempo real"})]})]})]})}function LN(){const[t,i]=Xw(),[l,o]=M.useState([]),[s,c]=M.useState(t.get("phone")||null),[d,m]=M.useState([]),[p,g]=M.useState(""),[x,y]=M.useState(!0),[v,E]=M.useState(!1),[_,T]=M.useState(""),w=M.useRef(null);M.useEffect(()=>{N();const R=setInterval(N,1e4);return()=>clearInterval(R)},[]),M.useEffect(()=>{s&&(j(s),i({phone:s}))},[s]),M.useEffect(()=>{w.current?.scrollIntoView({behavior:"smooth"})},[d]);const N=async()=>{try{const R=await rx();o(R.conversations||[])}catch(R){console.error("Error loading conversations:",R)}finally{y(!1)}},j=async R=>{try{const V=await XS(R);m(V.messages||[]),await ZS(R)}catch(V){console.error("Error loading messages:",V)}},S=async()=>{if(!(!p.trim()||!s||v)){E(!0);try{await GS(s,p),g(""),await j(s)}catch(R){console.error("Error sending message:",R),alert("Error al enviar mensaje")}finally{E(!1)}}},z=R=>{R.key==="Enter"&&!R.shiftKey&&(R.preventDefault(),S())},k=l.filter(R=>(R.contact_name?.toLowerCase()||"").includes(_.toLowerCase())||R.phone.includes(_)),U=l.find(R=>R.phone===s);return x?f.jsx("div",{className:"h-full flex items-center justify-center",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-500"})}):f.jsxs("div",{className:"h-screen flex",children:[f.jsxs("div",{className:"w-96 bg-white border-r border-gray-200 flex flex-col",children:[f.jsxs("div",{className:"p-4 border-b border-gray-200",children:[f.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Conversaciones"}),f.jsxs("div",{className:"relative",children:[f.jsx(lx,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),f.jsx("input",{type:"text",value:_,onChange:R=>T(R.target.value),placeholder:"Buscar conversacin...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none"})]})]}),f.jsx("div",{className:"flex-1 overflow-y-auto",children:k.length===0?f.jsxs("div",{className:"p-8 text-center text-gray-400",children:[f.jsx(dl,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),f.jsx("p",{children:"No hay conversaciones"})]}):k.map(R=>f.jsxs("button",{onClick:()=>c(R.phone),className:`w-full flex items-center gap-3 p-4 border-b border-gray-100 hover:bg-gray-50 transition text-left ${s===R.phone?"bg-green-50":""}`,children:[f.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:f.jsx("span",{className:"text-green-600 font-medium",children:R.contact_name?.[0]?.toUpperCase()||R.phone.slice(-2)})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("p",{className:"font-medium text-gray-800 truncate",children:R.contact_name||R.phone}),R.unread_count>0&&f.jsx("span",{className:"bg-green-500 text-white text-xs font-medium px-2 py-0.5 rounded-full",children:R.unread_count})]}),f.jsx("p",{className:"text-sm text-gray-500 truncate",children:R.last_message||"Sin mensajes"}),f.jsx("p",{className:"text-xs text-gray-400 mt-1",children:R.last_message_time?hu(new Date(R.last_message_time),{addSuffix:!0,locale:Dr}):""})]})]},R.phone))})]}),f.jsx("div",{className:"flex-1 flex flex-col bg-gray-50",children:s?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"bg-white border-b border-gray-200 p-4 flex items-center gap-4",children:[f.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:f.jsx(g0,{className:"w-5 h-5 text-green-600"})}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-gray-800",children:U?.contact_name||s}),f.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-1",children:[f.jsx(Xf,{className:"w-3 h-3"}),s]})]})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[d.map((R,V)=>f.jsx("div",{className:`flex ${R.direction==="outgoing"?"justify-end":"justify-start"}`,children:f.jsxs("div",{className:`max-w-md px-4 py-2 rounded-2xl ${R.direction==="outgoing"?"bg-green-500 text-white rounded-br-md":"bg-white text-gray-800 rounded-bl-md shadow-sm"}`,children:[R.direction==="incoming"&&f.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400 mb-1",children:[f.jsx(g0,{className:"w-3 h-3"}),"Cliente"]}),R.direction==="outgoing"&&R.is_bot&&f.jsxs("div",{className:"flex items-center gap-1 text-xs text-green-100 mb-1",children:[f.jsx($f,{className:"w-3 h-3"}),"Bot"]}),f.jsx("p",{className:"whitespace-pre-wrap",children:R.body||R.content}),f.jsx("p",{className:`text-xs mt-1 ${R.direction==="outgoing"?"text-green-100":"text-gray-400"}`,children:R.created_at?Qf(new Date(R.created_at),"HH:mm",{locale:Dr}):""})]})},V)),f.jsx("div",{ref:w})]}),f.jsx("div",{className:"bg-white border-t border-gray-200 p-4",children:f.jsxs("div",{className:"flex gap-3",children:[f.jsx("input",{type:"text",value:p,onChange:R=>g(R.target.value),onKeyPress:z,placeholder:"Escribe un mensaje...",className:"flex-1 px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none"}),f.jsxs("button",{onClick:S,disabled:!p.trim()||v,className:"bg-green-500 hover:bg-green-600 text-white px-6 py-3 rounded-xl transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[f.jsx(RS,{className:"w-5 h-5"}),v?"Enviando...":"Enviar"]})]})})]}):f.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-400",children:f.jsxs("div",{className:"text-center",children:[f.jsx(dl,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),f.jsx("p",{className:"text-lg",children:"Selecciona una conversacin"})]})})})]})}function rt(t){if(typeof t=="string"||typeof t=="number")return""+t;let i="";if(Array.isArray(t))for(let l=0,o;l<t.length;l++)(o=rt(t[l]))!==""&&(i+=(i&&" ")+o);else for(let l in t)t[l]&&(i+=(i&&" ")+l);return i}var UN={value:()=>{}};function mu(){for(var t=0,i=arguments.length,l={},o;t<i;++t){if(!(o=arguments[t]+"")||o in l||/[\s.]/.test(o))throw new Error("illegal type: "+o);l[o]=[]}return new $s(l)}function $s(t){this._=t}function YN(t,i){return t.trim().split(/^|\s+/).map(function(l){var o="",s=l.indexOf(".");if(s>=0&&(o=l.slice(s+1),l=l.slice(0,s)),l&&!i.hasOwnProperty(l))throw new Error("unknown type: "+l);return{type:l,name:o}})}$s.prototype=mu.prototype={constructor:$s,on:function(t,i){var l=this._,o=YN(t+"",l),s,c=-1,d=o.length;if(arguments.length<2){for(;++c<d;)if((s=(t=o[c]).type)&&(s=qN(l[s],t.name)))return s;return}if(i!=null&&typeof i!="function")throw new Error("invalid callback: "+i);for(;++c<d;)if(s=(t=o[c]).type)l[s]=E0(l[s],t.name,i);else if(i==null)for(s in l)l[s]=E0(l[s],t.name,null);return this},copy:function(){var t={},i=this._;for(var l in i)t[l]=i[l].slice();return new $s(t)},call:function(t,i){if((s=arguments.length-2)>0)for(var l=new Array(s),o=0,s,c;o<s;++o)l[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(c=this._[t],o=0,s=c.length;o<s;++o)c[o].value.apply(i,l)},apply:function(t,i,l){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var o=this._[t],s=0,c=o.length;s<c;++s)o[s].value.apply(i,l)}};function qN(t,i){for(var l=0,o=t.length,s;l<o;++l)if((s=t[l]).name===i)return s.value}function E0(t,i,l){for(var o=0,s=t.length;o<s;++o)if(t[o].name===i){t[o]=UN,t=t.slice(0,o).concat(t.slice(o+1));break}return l!=null&&t.push({name:i,value:l}),t}var wf="http://www.w3.org/1999/xhtml";const N0={svg:"http://www.w3.org/2000/svg",xhtml:wf,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function gu(t){var i=t+="",l=i.indexOf(":");return l>=0&&(i=t.slice(0,l))!=="xmlns"&&(t=t.slice(l+1)),N0.hasOwnProperty(i)?{space:N0[i],local:t}:t}function VN(t){return function(){var i=this.ownerDocument,l=this.namespaceURI;return l===wf&&i.documentElement.namespaceURI===wf?i.createElement(t):i.createElementNS(l,t)}}function $N(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function hx(t){var i=gu(t);return(i.local?$N:VN)(i)}function XN(){}function Wf(t){return t==null?XN:function(){return this.querySelector(t)}}function GN(t){typeof t!="function"&&(t=Wf(t));for(var i=this._groups,l=i.length,o=new Array(l),s=0;s<l;++s)for(var c=i[s],d=c.length,m=o[s]=new Array(d),p,g,x=0;x<d;++x)(p=c[x])&&(g=t.call(p,p.__data__,x,c))&&("__data__"in p&&(g.__data__=p.__data__),m[x]=g);return new qt(o,this._parents)}function ZN(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function QN(){return[]}function mx(t){return t==null?QN:function(){return this.querySelectorAll(t)}}function WN(t){return function(){return ZN(t.apply(this,arguments))}}function KN(t){typeof t=="function"?t=WN(t):t=mx(t);for(var i=this._groups,l=i.length,o=[],s=[],c=0;c<l;++c)for(var d=i[c],m=d.length,p,g=0;g<m;++g)(p=d[g])&&(o.push(t.call(p,p.__data__,g,d)),s.push(p));return new qt(o,s)}function gx(t){return function(){return this.matches(t)}}function px(t){return function(i){return i.matches(t)}}var FN=Array.prototype.find;function JN(t){return function(){return FN.call(this.children,t)}}function PN(){return this.firstElementChild}function IN(t){return this.select(t==null?PN:JN(typeof t=="function"?t:px(t)))}var ej=Array.prototype.filter;function tj(){return Array.from(this.children)}function nj(t){return function(){return ej.call(this.children,t)}}function aj(t){return this.selectAll(t==null?tj:nj(typeof t=="function"?t:px(t)))}function ij(t){typeof t!="function"&&(t=gx(t));for(var i=this._groups,l=i.length,o=new Array(l),s=0;s<l;++s)for(var c=i[s],d=c.length,m=o[s]=[],p,g=0;g<d;++g)(p=c[g])&&t.call(p,p.__data__,g,c)&&m.push(p);return new qt(o,this._parents)}function yx(t){return new Array(t.length)}function lj(){return new qt(this._enter||this._groups.map(yx),this._parents)}function Ps(t,i){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=i}Ps.prototype={constructor:Ps,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,i){return this._parent.insertBefore(t,i)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function rj(t){return function(){return t}}function oj(t,i,l,o,s,c){for(var d=0,m,p=i.length,g=c.length;d<g;++d)(m=i[d])?(m.__data__=c[d],o[d]=m):l[d]=new Ps(t,c[d]);for(;d<p;++d)(m=i[d])&&(s[d]=m)}function sj(t,i,l,o,s,c,d){var m,p,g=new Map,x=i.length,y=c.length,v=new Array(x),E;for(m=0;m<x;++m)(p=i[m])&&(v[m]=E=d.call(p,p.__data__,m,i)+"",g.has(E)?s[m]=p:g.set(E,p));for(m=0;m<y;++m)E=d.call(t,c[m],m,c)+"",(p=g.get(E))?(o[m]=p,p.__data__=c[m],g.delete(E)):l[m]=new Ps(t,c[m]);for(m=0;m<x;++m)(p=i[m])&&g.get(v[m])===p&&(s[m]=p)}function uj(t){return t.__data__}function cj(t,i){if(!arguments.length)return Array.from(this,uj);var l=i?sj:oj,o=this._parents,s=this._groups;typeof t!="function"&&(t=rj(t));for(var c=s.length,d=new Array(c),m=new Array(c),p=new Array(c),g=0;g<c;++g){var x=o[g],y=s[g],v=y.length,E=dj(t.call(x,x&&x.__data__,g,o)),_=E.length,T=m[g]=new Array(_),w=d[g]=new Array(_),N=p[g]=new Array(v);l(x,y,T,w,N,E,i);for(var j=0,S=0,z,k;j<_;++j)if(z=T[j]){for(j>=S&&(S=j+1);!(k=w[S])&&++S<_;);z._next=k||null}}return d=new qt(d,o),d._enter=m,d._exit=p,d}function dj(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function fj(){return new qt(this._exit||this._groups.map(yx),this._parents)}function hj(t,i,l){var o=this.enter(),s=this,c=this.exit();return typeof t=="function"?(o=t(o),o&&(o=o.selection())):o=o.append(t+""),i!=null&&(s=i(s),s&&(s=s.selection())),l==null?c.remove():l(c),o&&s?o.merge(s).order():s}function mj(t){for(var i=t.selection?t.selection():t,l=this._groups,o=i._groups,s=l.length,c=o.length,d=Math.min(s,c),m=new Array(s),p=0;p<d;++p)for(var g=l[p],x=o[p],y=g.length,v=m[p]=new Array(y),E,_=0;_<y;++_)(E=g[_]||x[_])&&(v[_]=E);for(;p<s;++p)m[p]=l[p];return new qt(m,this._parents)}function gj(){for(var t=this._groups,i=-1,l=t.length;++i<l;)for(var o=t[i],s=o.length-1,c=o[s],d;--s>=0;)(d=o[s])&&(c&&d.compareDocumentPosition(c)^4&&c.parentNode.insertBefore(d,c),c=d);return this}function pj(t){t||(t=yj);function i(y,v){return y&&v?t(y.__data__,v.__data__):!y-!v}for(var l=this._groups,o=l.length,s=new Array(o),c=0;c<o;++c){for(var d=l[c],m=d.length,p=s[c]=new Array(m),g,x=0;x<m;++x)(g=d[x])&&(p[x]=g);p.sort(i)}return new qt(s,this._parents).order()}function yj(t,i){return t<i?-1:t>i?1:t>=i?0:NaN}function xj(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function vj(){return Array.from(this)}function bj(){for(var t=this._groups,i=0,l=t.length;i<l;++i)for(var o=t[i],s=0,c=o.length;s<c;++s){var d=o[s];if(d)return d}return null}function wj(){let t=0;for(const i of this)++t;return t}function Sj(){return!this.node()}function Ej(t){for(var i=this._groups,l=0,o=i.length;l<o;++l)for(var s=i[l],c=0,d=s.length,m;c<d;++c)(m=s[c])&&t.call(m,m.__data__,c,s);return this}function Nj(t){return function(){this.removeAttribute(t)}}function jj(t){return function(){this.removeAttributeNS(t.space,t.local)}}function _j(t,i){return function(){this.setAttribute(t,i)}}function Cj(t,i){return function(){this.setAttributeNS(t.space,t.local,i)}}function Mj(t,i){return function(){var l=i.apply(this,arguments);l==null?this.removeAttribute(t):this.setAttribute(t,l)}}function Tj(t,i){return function(){var l=i.apply(this,arguments);l==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,l)}}function zj(t,i){var l=gu(t);if(arguments.length<2){var o=this.node();return l.local?o.getAttributeNS(l.space,l.local):o.getAttribute(l)}return this.each((i==null?l.local?jj:Nj:typeof i=="function"?l.local?Tj:Mj:l.local?Cj:_j)(l,i))}function xx(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Aj(t){return function(){this.style.removeProperty(t)}}function Dj(t,i,l){return function(){this.style.setProperty(t,i,l)}}function Rj(t,i,l){return function(){var o=i.apply(this,arguments);o==null?this.style.removeProperty(t):this.style.setProperty(t,o,l)}}function Oj(t,i,l){return arguments.length>1?this.each((i==null?Aj:typeof i=="function"?Rj:Dj)(t,i,l??"")):fl(this.node(),t)}function fl(t,i){return t.style.getPropertyValue(i)||xx(t).getComputedStyle(t,null).getPropertyValue(i)}function Hj(t){return function(){delete this[t]}}function kj(t,i){return function(){this[t]=i}}function Bj(t,i){return function(){var l=i.apply(this,arguments);l==null?delete this[t]:this[t]=l}}function Lj(t,i){return arguments.length>1?this.each((i==null?Hj:typeof i=="function"?Bj:kj)(t,i)):this.node()[t]}function vx(t){return t.trim().split(/^|\s+/)}function Kf(t){return t.classList||new bx(t)}function bx(t){this._node=t,this._names=vx(t.getAttribute("class")||"")}bx.prototype={add:function(t){var i=this._names.indexOf(t);i<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var i=this._names.indexOf(t);i>=0&&(this._names.splice(i,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function wx(t,i){for(var l=Kf(t),o=-1,s=i.length;++o<s;)l.add(i[o])}function Sx(t,i){for(var l=Kf(t),o=-1,s=i.length;++o<s;)l.remove(i[o])}function Uj(t){return function(){wx(this,t)}}function Yj(t){return function(){Sx(this,t)}}function qj(t,i){return function(){(i.apply(this,arguments)?wx:Sx)(this,t)}}function Vj(t,i){var l=vx(t+"");if(arguments.length<2){for(var o=Kf(this.node()),s=-1,c=l.length;++s<c;)if(!o.contains(l[s]))return!1;return!0}return this.each((typeof i=="function"?qj:i?Uj:Yj)(l,i))}function $j(){this.textContent=""}function Xj(t){return function(){this.textContent=t}}function Gj(t){return function(){var i=t.apply(this,arguments);this.textContent=i??""}}function Zj(t){return arguments.length?this.each(t==null?$j:(typeof t=="function"?Gj:Xj)(t)):this.node().textContent}function Qj(){this.innerHTML=""}function Wj(t){return function(){this.innerHTML=t}}function Kj(t){return function(){var i=t.apply(this,arguments);this.innerHTML=i??""}}function Fj(t){return arguments.length?this.each(t==null?Qj:(typeof t=="function"?Kj:Wj)(t)):this.node().innerHTML}function Jj(){this.nextSibling&&this.parentNode.appendChild(this)}function Pj(){return this.each(Jj)}function Ij(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function e4(){return this.each(Ij)}function t4(t){var i=typeof t=="function"?t:hx(t);return this.select(function(){return this.appendChild(i.apply(this,arguments))})}function n4(){return null}function a4(t,i){var l=typeof t=="function"?t:hx(t),o=i==null?n4:typeof i=="function"?i:Wf(i);return this.select(function(){return this.insertBefore(l.apply(this,arguments),o.apply(this,arguments)||null)})}function i4(){var t=this.parentNode;t&&t.removeChild(this)}function l4(){return this.each(i4)}function r4(){var t=this.cloneNode(!1),i=this.parentNode;return i?i.insertBefore(t,this.nextSibling):t}function o4(){var t=this.cloneNode(!0),i=this.parentNode;return i?i.insertBefore(t,this.nextSibling):t}function s4(t){return this.select(t?o4:r4)}function u4(t){return arguments.length?this.property("__data__",t):this.node().__data__}function c4(t){return function(i){t.call(this,i,this.__data__)}}function d4(t){return t.trim().split(/^|\s+/).map(function(i){var l="",o=i.indexOf(".");return o>=0&&(l=i.slice(o+1),i=i.slice(0,o)),{type:i,name:l}})}function f4(t){return function(){var i=this.__on;if(i){for(var l=0,o=-1,s=i.length,c;l<s;++l)c=i[l],(!t.type||c.type===t.type)&&c.name===t.name?this.removeEventListener(c.type,c.listener,c.options):i[++o]=c;++o?i.length=o:delete this.__on}}}function h4(t,i,l){return function(){var o=this.__on,s,c=c4(i);if(o){for(var d=0,m=o.length;d<m;++d)if((s=o[d]).type===t.type&&s.name===t.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=c,s.options=l),s.value=i;return}}this.addEventListener(t.type,c,l),s={type:t.type,name:t.name,value:i,listener:c,options:l},o?o.push(s):this.__on=[s]}}function m4(t,i,l){var o=d4(t+""),s,c=o.length,d;if(arguments.length<2){var m=this.node().__on;if(m){for(var p=0,g=m.length,x;p<g;++p)for(s=0,x=m[p];s<c;++s)if((d=o[s]).type===x.type&&d.name===x.name)return x.value}return}for(m=i?h4:f4,s=0;s<c;++s)this.each(m(o[s],i,l));return this}function Ex(t,i,l){var o=xx(t),s=o.CustomEvent;typeof s=="function"?s=new s(i,l):(s=o.document.createEvent("Event"),l?(s.initEvent(i,l.bubbles,l.cancelable),s.detail=l.detail):s.initEvent(i,!1,!1)),t.dispatchEvent(s)}function g4(t,i){return function(){return Ex(this,t,i)}}function p4(t,i){return function(){return Ex(this,t,i.apply(this,arguments))}}function y4(t,i){return this.each((typeof i=="function"?p4:g4)(t,i))}function*x4(){for(var t=this._groups,i=0,l=t.length;i<l;++i)for(var o=t[i],s=0,c=o.length,d;s<c;++s)(d=o[s])&&(yield d)}var Nx=[null];function qt(t,i){this._groups=t,this._parents=i}function Wr(){return new qt([[document.documentElement]],Nx)}function v4(){return this}qt.prototype=Wr.prototype={constructor:qt,select:GN,selectAll:KN,selectChild:IN,selectChildren:aj,filter:ij,data:cj,enter:lj,exit:fj,join:hj,merge:mj,selection:v4,order:gj,sort:pj,call:xj,nodes:vj,node:bj,size:wj,empty:Sj,each:Ej,attr:zj,style:Oj,property:Lj,classed:Vj,text:Zj,html:Fj,raise:Pj,lower:e4,append:t4,insert:a4,remove:l4,clone:s4,datum:u4,on:m4,dispatch:y4,[Symbol.iterator]:x4};function Ut(t){return typeof t=="string"?new qt([[document.querySelector(t)]],[document.documentElement]):new qt([[t]],Nx)}function b4(t){let i;for(;i=t.sourceEvent;)t=i;return t}function an(t,i){if(t=b4(t),i===void 0&&(i=t.currentTarget),i){var l=i.ownerSVGElement||i;if(l.createSVGPoint){var o=l.createSVGPoint();return o.x=t.clientX,o.y=t.clientY,o=o.matrixTransform(i.getScreenCTM().inverse()),[o.x,o.y]}if(i.getBoundingClientRect){var s=i.getBoundingClientRect();return[t.clientX-s.left-i.clientLeft,t.clientY-s.top-i.clientTop]}}return[t.pageX,t.pageY]}const w4={passive:!1},Rr={capture:!0,passive:!1};function ef(t){t.stopImmediatePropagation()}function ul(t){t.preventDefault(),t.stopImmediatePropagation()}function jx(t){var i=t.document.documentElement,l=Ut(t).on("dragstart.drag",ul,Rr);"onselectstart"in i?l.on("selectstart.drag",ul,Rr):(i.__noselect=i.style.MozUserSelect,i.style.MozUserSelect="none")}function _x(t,i){var l=t.document.documentElement,o=Ut(t).on("dragstart.drag",null);i&&(o.on("click.drag",ul,Rr),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in l?o.on("selectstart.drag",null):(l.style.MozUserSelect=l.__noselect,delete l.__noselect)}const Ts=t=>()=>t;function Sf(t,{sourceEvent:i,subject:l,target:o,identifier:s,active:c,x:d,y:m,dx:p,dy:g,dispatch:x}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:i,enumerable:!0,configurable:!0},subject:{value:l,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:c,enumerable:!0,configurable:!0},x:{value:d,enumerable:!0,configurable:!0},y:{value:m,enumerable:!0,configurable:!0},dx:{value:p,enumerable:!0,configurable:!0},dy:{value:g,enumerable:!0,configurable:!0},_:{value:x}})}Sf.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function S4(t){return!t.ctrlKey&&!t.button}function E4(){return this.parentNode}function N4(t,i){return i??{x:t.x,y:t.y}}function j4(){return navigator.maxTouchPoints||"ontouchstart"in this}function Cx(){var t=S4,i=E4,l=N4,o=j4,s={},c=mu("start","drag","end"),d=0,m,p,g,x,y=0;function v(z){z.on("mousedown.drag",E).filter(o).on("touchstart.drag",w).on("touchmove.drag",N,w4).on("touchend.drag touchcancel.drag",j).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function E(z,k){if(!(x||!t.call(this,z,k))){var U=S(this,i.call(this,z,k),z,k,"mouse");U&&(Ut(z.view).on("mousemove.drag",_,Rr).on("mouseup.drag",T,Rr),jx(z.view),ef(z),g=!1,m=z.clientX,p=z.clientY,U("start",z))}}function _(z){if(ul(z),!g){var k=z.clientX-m,U=z.clientY-p;g=k*k+U*U>y}s.mouse("drag",z)}function T(z){Ut(z.view).on("mousemove.drag mouseup.drag",null),_x(z.view,g),ul(z),s.mouse("end",z)}function w(z,k){if(t.call(this,z,k)){var U=z.changedTouches,R=i.call(this,z,k),V=U.length,J,re;for(J=0;J<V;++J)(re=S(this,R,z,k,U[J].identifier,U[J]))&&(ef(z),re("start",z,U[J]))}}function N(z){var k=z.changedTouches,U=k.length,R,V;for(R=0;R<U;++R)(V=s[k[R].identifier])&&(ul(z),V("drag",z,k[R]))}function j(z){var k=z.changedTouches,U=k.length,R,V;for(x&&clearTimeout(x),x=setTimeout(function(){x=null},500),R=0;R<U;++R)(V=s[k[R].identifier])&&(ef(z),V("end",z,k[R]))}function S(z,k,U,R,V,J){var re=c.copy(),K=an(J||U,k),Q,le,B;if((B=l.call(z,new Sf("beforestart",{sourceEvent:U,target:v,identifier:V,active:d,x:K[0],y:K[1],dx:0,dy:0,dispatch:re}),R))!=null)return Q=B.x-K[0]||0,le=B.y-K[1]||0,function G(A,O,L){var $=K,ee;switch(A){case"start":s[V]=G,ee=d++;break;case"end":delete s[V],--d;case"drag":K=an(L||O,k),ee=d;break}re.call(A,z,new Sf(A,{sourceEvent:O,subject:B,target:v,identifier:V,active:ee,x:K[0]+Q,y:K[1]+le,dx:K[0]-$[0],dy:K[1]-$[1],dispatch:re}),R)}}return v.filter=function(z){return arguments.length?(t=typeof z=="function"?z:Ts(!!z),v):t},v.container=function(z){return arguments.length?(i=typeof z=="function"?z:Ts(z),v):i},v.subject=function(z){return arguments.length?(l=typeof z=="function"?z:Ts(z),v):l},v.touchable=function(z){return arguments.length?(o=typeof z=="function"?z:Ts(!!z),v):o},v.on=function(){var z=c.on.apply(c,arguments);return z===c?v:z},v.clickDistance=function(z){return arguments.length?(y=(z=+z)*z,v):Math.sqrt(y)},v}function Ff(t,i,l){t.prototype=i.prototype=l,l.constructor=t}function Mx(t,i){var l=Object.create(t.prototype);for(var o in i)l[o]=i[o];return l}function Kr(){}var Or=.7,Is=1/Or,cl="\\s*([+-]?\\d+)\\s*",Hr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_4=/^#([0-9a-f]{3,8})$/,C4=new RegExp(`^rgb\\(${cl},${cl},${cl}\\)$`),M4=new RegExp(`^rgb\\(${vn},${vn},${vn}\\)$`),T4=new RegExp(`^rgba\\(${cl},${cl},${cl},${Hr}\\)$`),z4=new RegExp(`^rgba\\(${vn},${vn},${vn},${Hr}\\)$`),A4=new RegExp(`^hsl\\(${Hr},${vn},${vn}\\)$`),D4=new RegExp(`^hsla\\(${Hr},${vn},${vn},${Hr}\\)$`),j0={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ff(Kr,di,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:_0,formatHex:_0,formatHex8:R4,formatHsl:O4,formatRgb:C0,toString:C0});function _0(){return this.rgb().formatHex()}function R4(){return this.rgb().formatHex8()}function O4(){return Tx(this).formatHsl()}function C0(){return this.rgb().formatRgb()}function di(t){var i,l;return t=(t+"").trim().toLowerCase(),(i=_4.exec(t))?(l=i[1].length,i=parseInt(i[1],16),l===6?M0(i):l===3?new At(i>>8&15|i>>4&240,i>>4&15|i&240,(i&15)<<4|i&15,1):l===8?zs(i>>24&255,i>>16&255,i>>8&255,(i&255)/255):l===4?zs(i>>12&15|i>>8&240,i>>8&15|i>>4&240,i>>4&15|i&240,((i&15)<<4|i&15)/255):null):(i=C4.exec(t))?new At(i[1],i[2],i[3],1):(i=M4.exec(t))?new At(i[1]*255/100,i[2]*255/100,i[3]*255/100,1):(i=T4.exec(t))?zs(i[1],i[2],i[3],i[4]):(i=z4.exec(t))?zs(i[1]*255/100,i[2]*255/100,i[3]*255/100,i[4]):(i=A4.exec(t))?A0(i[1],i[2]/100,i[3]/100,1):(i=D4.exec(t))?A0(i[1],i[2]/100,i[3]/100,i[4]):j0.hasOwnProperty(t)?M0(j0[t]):t==="transparent"?new At(NaN,NaN,NaN,0):null}function M0(t){return new At(t>>16&255,t>>8&255,t&255,1)}function zs(t,i,l,o){return o<=0&&(t=i=l=NaN),new At(t,i,l,o)}function H4(t){return t instanceof Kr||(t=di(t)),t?(t=t.rgb(),new At(t.r,t.g,t.b,t.opacity)):new At}function Ef(t,i,l,o){return arguments.length===1?H4(t):new At(t,i,l,o??1)}function At(t,i,l,o){this.r=+t,this.g=+i,this.b=+l,this.opacity=+o}Ff(At,Ef,Mx(Kr,{brighter(t){return t=t==null?Is:Math.pow(Is,t),new At(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Or:Math.pow(Or,t),new At(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new At(ui(this.r),ui(this.g),ui(this.b),eu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:T0,formatHex:T0,formatHex8:k4,formatRgb:z0,toString:z0}));function T0(){return`#${si(this.r)}${si(this.g)}${si(this.b)}`}function k4(){return`#${si(this.r)}${si(this.g)}${si(this.b)}${si((isNaN(this.opacity)?1:this.opacity)*255)}`}function z0(){const t=eu(this.opacity);return`${t===1?"rgb(":"rgba("}${ui(this.r)}, ${ui(this.g)}, ${ui(this.b)}${t===1?")":`, ${t})`}`}function eu(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ui(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function si(t){return t=ui(t),(t<16?"0":"")+t.toString(16)}function A0(t,i,l,o){return o<=0?t=i=l=NaN:l<=0||l>=1?t=i=NaN:i<=0&&(t=NaN),new ln(t,i,l,o)}function Tx(t){if(t instanceof ln)return new ln(t.h,t.s,t.l,t.opacity);if(t instanceof Kr||(t=di(t)),!t)return new ln;if(t instanceof ln)return t;t=t.rgb();var i=t.r/255,l=t.g/255,o=t.b/255,s=Math.min(i,l,o),c=Math.max(i,l,o),d=NaN,m=c-s,p=(c+s)/2;return m?(i===c?d=(l-o)/m+(l<o)*6:l===c?d=(o-i)/m+2:d=(i-l)/m+4,m/=p<.5?c+s:2-c-s,d*=60):m=p>0&&p<1?0:d,new ln(d,m,p,t.opacity)}function B4(t,i,l,o){return arguments.length===1?Tx(t):new ln(t,i,l,o??1)}function ln(t,i,l,o){this.h=+t,this.s=+i,this.l=+l,this.opacity=+o}Ff(ln,B4,Mx(Kr,{brighter(t){return t=t==null?Is:Math.pow(Is,t),new ln(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Or:Math.pow(Or,t),new ln(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,i=isNaN(t)||isNaN(this.s)?0:this.s,l=this.l,o=l+(l<.5?l:1-l)*i,s=2*l-o;return new At(tf(t>=240?t-240:t+120,s,o),tf(t,s,o),tf(t<120?t+240:t-120,s,o),this.opacity)},clamp(){return new ln(D0(this.h),As(this.s),As(this.l),eu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=eu(this.opacity);return`${t===1?"hsl(":"hsla("}${D0(this.h)}, ${As(this.s)*100}%, ${As(this.l)*100}%${t===1?")":`, ${t})`}`}}));function D0(t){return t=(t||0)%360,t<0?t+360:t}function As(t){return Math.max(0,Math.min(1,t||0))}function tf(t,i,l){return(t<60?i+(l-i)*t/60:t<180?l:t<240?i+(l-i)*(240-t)/60:i)*255}const Jf=t=>()=>t;function L4(t,i){return function(l){return t+l*i}}function U4(t,i,l){return t=Math.pow(t,l),i=Math.pow(i,l)-t,l=1/l,function(o){return Math.pow(t+o*i,l)}}function Y4(t){return(t=+t)==1?zx:function(i,l){return l-i?U4(i,l,t):Jf(isNaN(i)?l:i)}}function zx(t,i){var l=i-t;return l?L4(t,l):Jf(isNaN(t)?i:t)}const tu=(function t(i){var l=Y4(i);function o(s,c){var d=l((s=Ef(s)).r,(c=Ef(c)).r),m=l(s.g,c.g),p=l(s.b,c.b),g=zx(s.opacity,c.opacity);return function(x){return s.r=d(x),s.g=m(x),s.b=p(x),s.opacity=g(x),s+""}}return o.gamma=t,o})(1);function q4(t,i){i||(i=[]);var l=t?Math.min(i.length,t.length):0,o=i.slice(),s;return function(c){for(s=0;s<l;++s)o[s]=t[s]*(1-c)+i[s]*c;return o}}function V4(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function $4(t,i){var l=i?i.length:0,o=t?Math.min(l,t.length):0,s=new Array(o),c=new Array(l),d;for(d=0;d<o;++d)s[d]=Mr(t[d],i[d]);for(;d<l;++d)c[d]=i[d];return function(m){for(d=0;d<o;++d)c[d]=s[d](m);return c}}function X4(t,i){var l=new Date;return t=+t,i=+i,function(o){return l.setTime(t*(1-o)+i*o),l}}function pn(t,i){return t=+t,i=+i,function(l){return t*(1-l)+i*l}}function G4(t,i){var l={},o={},s;(t===null||typeof t!="object")&&(t={}),(i===null||typeof i!="object")&&(i={});for(s in i)s in t?l[s]=Mr(t[s],i[s]):o[s]=i[s];return function(c){for(s in l)o[s]=l[s](c);return o}}var Nf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,nf=new RegExp(Nf.source,"g");function Z4(t){return function(){return t}}function Q4(t){return function(i){return t(i)+""}}function Ax(t,i){var l=Nf.lastIndex=nf.lastIndex=0,o,s,c,d=-1,m=[],p=[];for(t=t+"",i=i+"";(o=Nf.exec(t))&&(s=nf.exec(i));)(c=s.index)>l&&(c=i.slice(l,c),m[d]?m[d]+=c:m[++d]=c),(o=o[0])===(s=s[0])?m[d]?m[d]+=s:m[++d]=s:(m[++d]=null,p.push({i:d,x:pn(o,s)})),l=nf.lastIndex;return l<i.length&&(c=i.slice(l),m[d]?m[d]+=c:m[++d]=c),m.length<2?p[0]?Q4(p[0].x):Z4(i):(i=p.length,function(g){for(var x=0,y;x<i;++x)m[(y=p[x]).i]=y.x(g);return m.join("")})}function Mr(t,i){var l=typeof i,o;return i==null||l==="boolean"?Jf(i):(l==="number"?pn:l==="string"?(o=di(i))?(i=o,tu):Ax:i instanceof di?tu:i instanceof Date?X4:V4(i)?q4:Array.isArray(i)?$4:typeof i.valueOf!="function"&&typeof i.toString!="function"||isNaN(i)?G4:pn)(t,i)}var R0=180/Math.PI,jf={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Dx(t,i,l,o,s,c){var d,m,p;return(d=Math.sqrt(t*t+i*i))&&(t/=d,i/=d),(p=t*l+i*o)&&(l-=t*p,o-=i*p),(m=Math.sqrt(l*l+o*o))&&(l/=m,o/=m,p/=m),t*o<i*l&&(t=-t,i=-i,p=-p,d=-d),{translateX:s,translateY:c,rotate:Math.atan2(i,t)*R0,skewX:Math.atan(p)*R0,scaleX:d,scaleY:m}}var Ds;function W4(t){const i=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return i.isIdentity?jf:Dx(i.a,i.b,i.c,i.d,i.e,i.f)}function K4(t){return t==null||(Ds||(Ds=document.createElementNS("http://www.w3.org/2000/svg","g")),Ds.setAttribute("transform",t),!(t=Ds.transform.baseVal.consolidate()))?jf:(t=t.matrix,Dx(t.a,t.b,t.c,t.d,t.e,t.f))}function Rx(t,i,l,o){function s(g){return g.length?g.pop()+" ":""}function c(g,x,y,v,E,_){if(g!==y||x!==v){var T=E.push("translate(",null,i,null,l);_.push({i:T-4,x:pn(g,y)},{i:T-2,x:pn(x,v)})}else(y||v)&&E.push("translate("+y+i+v+l)}function d(g,x,y,v){g!==x?(g-x>180?x+=360:x-g>180&&(g+=360),v.push({i:y.push(s(y)+"rotate(",null,o)-2,x:pn(g,x)})):x&&y.push(s(y)+"rotate("+x+o)}function m(g,x,y,v){g!==x?v.push({i:y.push(s(y)+"skewX(",null,o)-2,x:pn(g,x)}):x&&y.push(s(y)+"skewX("+x+o)}function p(g,x,y,v,E,_){if(g!==y||x!==v){var T=E.push(s(E)+"scale(",null,",",null,")");_.push({i:T-4,x:pn(g,y)},{i:T-2,x:pn(x,v)})}else(y!==1||v!==1)&&E.push(s(E)+"scale("+y+","+v+")")}return function(g,x){var y=[],v=[];return g=t(g),x=t(x),c(g.translateX,g.translateY,x.translateX,x.translateY,y,v),d(g.rotate,x.rotate,y,v),m(g.skewX,x.skewX,y,v),p(g.scaleX,g.scaleY,x.scaleX,x.scaleY,y,v),g=x=null,function(E){for(var _=-1,T=v.length,w;++_<T;)y[(w=v[_]).i]=w.x(E);return y.join("")}}}var F4=Rx(W4,"px, ","px)","deg)"),J4=Rx(K4,", ",")",")"),P4=1e-12;function O0(t){return((t=Math.exp(t))+1/t)/2}function I4(t){return((t=Math.exp(t))-1/t)/2}function e_(t){return((t=Math.exp(2*t))-1)/(t+1)}const Xs=(function t(i,l,o){function s(c,d){var m=c[0],p=c[1],g=c[2],x=d[0],y=d[1],v=d[2],E=x-m,_=y-p,T=E*E+_*_,w,N;if(T<P4)N=Math.log(v/g)/i,w=function(R){return[m+R*E,p+R*_,g*Math.exp(i*R*N)]};else{var j=Math.sqrt(T),S=(v*v-g*g+o*T)/(2*g*l*j),z=(v*v-g*g-o*T)/(2*v*l*j),k=Math.log(Math.sqrt(S*S+1)-S),U=Math.log(Math.sqrt(z*z+1)-z);N=(U-k)/i,w=function(R){var V=R*N,J=O0(k),re=g/(l*j)*(J*e_(i*V+k)-I4(k));return[m+re*E,p+re*_,g*J/O0(i*V+k)]}}return w.duration=N*1e3*i/Math.SQRT2,w}return s.rho=function(c){var d=Math.max(.001,+c),m=d*d,p=m*m;return t(d,m,p)},s})(Math.SQRT2,2,4);var hl=0,_r=0,Er=0,Ox=1e3,nu,Cr,au=0,fi=0,pu=0,kr=typeof performance=="object"&&performance.now?performance:Date,Hx=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Pf(){return fi||(Hx(t_),fi=kr.now()+pu)}function t_(){fi=0}function iu(){this._call=this._time=this._next=null}iu.prototype=kx.prototype={constructor:iu,restart:function(t,i,l){if(typeof t!="function")throw new TypeError("callback is not a function");l=(l==null?Pf():+l)+(i==null?0:+i),!this._next&&Cr!==this&&(Cr?Cr._next=this:nu=this,Cr=this),this._call=t,this._time=l,_f()},stop:function(){this._call&&(this._call=null,this._time=1/0,_f())}};function kx(t,i,l){var o=new iu;return o.restart(t,i,l),o}function n_(){Pf(),++hl;for(var t=nu,i;t;)(i=fi-t._time)>=0&&t._call.call(void 0,i),t=t._next;--hl}function H0(){fi=(au=kr.now())+pu,hl=_r=0;try{n_()}finally{hl=0,i_(),fi=0}}function a_(){var t=kr.now(),i=t-au;i>Ox&&(pu-=i,au=t)}function i_(){for(var t,i=nu,l,o=1/0;i;)i._call?(o>i._time&&(o=i._time),t=i,i=i._next):(l=i._next,i._next=null,i=t?t._next=l:nu=l);Cr=t,_f(o)}function _f(t){if(!hl){_r&&(_r=clearTimeout(_r));var i=t-fi;i>24?(t<1/0&&(_r=setTimeout(H0,t-kr.now()-pu)),Er&&(Er=clearInterval(Er))):(Er||(au=kr.now(),Er=setInterval(a_,Ox)),hl=1,Hx(H0))}}function k0(t,i,l){var o=new iu;return i=i==null?0:+i,o.restart(s=>{o.stop(),t(s+i)},i,l),o}var l_=mu("start","end","cancel","interrupt"),r_=[],Bx=0,B0=1,Cf=2,Gs=3,L0=4,Mf=5,Zs=6;function yu(t,i,l,o,s,c){var d=t.__transition;if(!d)t.__transition={};else if(l in d)return;o_(t,l,{name:i,index:o,group:s,on:l_,tween:r_,time:c.time,delay:c.delay,duration:c.duration,ease:c.ease,timer:null,state:Bx})}function If(t,i){var l=un(t,i);if(l.state>Bx)throw new Error("too late; already scheduled");return l}function wn(t,i){var l=un(t,i);if(l.state>Gs)throw new Error("too late; already running");return l}function un(t,i){var l=t.__transition;if(!l||!(l=l[i]))throw new Error("transition not found");return l}function o_(t,i,l){var o=t.__transition,s;o[i]=l,l.timer=kx(c,0,l.time);function c(g){l.state=B0,l.timer.restart(d,l.delay,l.time),l.delay<=g&&d(g-l.delay)}function d(g){var x,y,v,E;if(l.state!==B0)return p();for(x in o)if(E=o[x],E.name===l.name){if(E.state===Gs)return k0(d);E.state===L0?(E.state=Zs,E.timer.stop(),E.on.call("interrupt",t,t.__data__,E.index,E.group),delete o[x]):+x<i&&(E.state=Zs,E.timer.stop(),E.on.call("cancel",t,t.__data__,E.index,E.group),delete o[x])}if(k0(function(){l.state===Gs&&(l.state=L0,l.timer.restart(m,l.delay,l.time),m(g))}),l.state=Cf,l.on.call("start",t,t.__data__,l.index,l.group),l.state===Cf){for(l.state=Gs,s=new Array(v=l.tween.length),x=0,y=-1;x<v;++x)(E=l.tween[x].value.call(t,t.__data__,l.index,l.group))&&(s[++y]=E);s.length=y+1}}function m(g){for(var x=g<l.duration?l.ease.call(null,g/l.duration):(l.timer.restart(p),l.state=Mf,1),y=-1,v=s.length;++y<v;)s[y].call(t,x);l.state===Mf&&(l.on.call("end",t,t.__data__,l.index,l.group),p())}function p(){l.state=Zs,l.timer.stop(),delete o[i];for(var g in o)return;delete t.__transition}}function Qs(t,i){var l=t.__transition,o,s,c=!0,d;if(l){i=i==null?null:i+"";for(d in l){if((o=l[d]).name!==i){c=!1;continue}s=o.state>Cf&&o.state<Mf,o.state=Zs,o.timer.stop(),o.on.call(s?"interrupt":"cancel",t,t.__data__,o.index,o.group),delete l[d]}c&&delete t.__transition}}function s_(t){return this.each(function(){Qs(this,t)})}function u_(t,i){var l,o;return function(){var s=wn(this,t),c=s.tween;if(c!==l){o=l=c;for(var d=0,m=o.length;d<m;++d)if(o[d].name===i){o=o.slice(),o.splice(d,1);break}}s.tween=o}}function c_(t,i,l){var o,s;if(typeof l!="function")throw new Error;return function(){var c=wn(this,t),d=c.tween;if(d!==o){s=(o=d).slice();for(var m={name:i,value:l},p=0,g=s.length;p<g;++p)if(s[p].name===i){s[p]=m;break}p===g&&s.push(m)}c.tween=s}}function d_(t,i){var l=this._id;if(t+="",arguments.length<2){for(var o=un(this.node(),l).tween,s=0,c=o.length,d;s<c;++s)if((d=o[s]).name===t)return d.value;return null}return this.each((i==null?u_:c_)(l,t,i))}function eh(t,i,l){var o=t._id;return t.each(function(){var s=wn(this,o);(s.value||(s.value={}))[i]=l.apply(this,arguments)}),function(s){return un(s,o).value[i]}}function Lx(t,i){var l;return(typeof i=="number"?pn:i instanceof di?tu:(l=di(i))?(i=l,tu):Ax)(t,i)}function f_(t){return function(){this.removeAttribute(t)}}function h_(t){return function(){this.removeAttributeNS(t.space,t.local)}}function m_(t,i,l){var o,s=l+"",c;return function(){var d=this.getAttribute(t);return d===s?null:d===o?c:c=i(o=d,l)}}function g_(t,i,l){var o,s=l+"",c;return function(){var d=this.getAttributeNS(t.space,t.local);return d===s?null:d===o?c:c=i(o=d,l)}}function p_(t,i,l){var o,s,c;return function(){var d,m=l(this),p;return m==null?void this.removeAttribute(t):(d=this.getAttribute(t),p=m+"",d===p?null:d===o&&p===s?c:(s=p,c=i(o=d,m)))}}function y_(t,i,l){var o,s,c;return function(){var d,m=l(this),p;return m==null?void this.removeAttributeNS(t.space,t.local):(d=this.getAttributeNS(t.space,t.local),p=m+"",d===p?null:d===o&&p===s?c:(s=p,c=i(o=d,m)))}}function x_(t,i){var l=gu(t),o=l==="transform"?J4:Lx;return this.attrTween(t,typeof i=="function"?(l.local?y_:p_)(l,o,eh(this,"attr."+t,i)):i==null?(l.local?h_:f_)(l):(l.local?g_:m_)(l,o,i))}function v_(t,i){return function(l){this.setAttribute(t,i.call(this,l))}}function b_(t,i){return function(l){this.setAttributeNS(t.space,t.local,i.call(this,l))}}function w_(t,i){var l,o;function s(){var c=i.apply(this,arguments);return c!==o&&(l=(o=c)&&b_(t,c)),l}return s._value=i,s}function S_(t,i){var l,o;function s(){var c=i.apply(this,arguments);return c!==o&&(l=(o=c)&&v_(t,c)),l}return s._value=i,s}function E_(t,i){var l="attr."+t;if(arguments.length<2)return(l=this.tween(l))&&l._value;if(i==null)return this.tween(l,null);if(typeof i!="function")throw new Error;var o=gu(t);return this.tween(l,(o.local?w_:S_)(o,i))}function N_(t,i){return function(){If(this,t).delay=+i.apply(this,arguments)}}function j_(t,i){return i=+i,function(){If(this,t).delay=i}}function __(t){var i=this._id;return arguments.length?this.each((typeof t=="function"?N_:j_)(i,t)):un(this.node(),i).delay}function C_(t,i){return function(){wn(this,t).duration=+i.apply(this,arguments)}}function M_(t,i){return i=+i,function(){wn(this,t).duration=i}}function T_(t){var i=this._id;return arguments.length?this.each((typeof t=="function"?C_:M_)(i,t)):un(this.node(),i).duration}function z_(t,i){if(typeof i!="function")throw new Error;return function(){wn(this,t).ease=i}}function A_(t){var i=this._id;return arguments.length?this.each(z_(i,t)):un(this.node(),i).ease}function D_(t,i){return function(){var l=i.apply(this,arguments);if(typeof l!="function")throw new Error;wn(this,t).ease=l}}function R_(t){if(typeof t!="function")throw new Error;return this.each(D_(this._id,t))}function O_(t){typeof t!="function"&&(t=gx(t));for(var i=this._groups,l=i.length,o=new Array(l),s=0;s<l;++s)for(var c=i[s],d=c.length,m=o[s]=[],p,g=0;g<d;++g)(p=c[g])&&t.call(p,p.__data__,g,c)&&m.push(p);return new Fn(o,this._parents,this._name,this._id)}function H_(t){if(t._id!==this._id)throw new Error;for(var i=this._groups,l=t._groups,o=i.length,s=l.length,c=Math.min(o,s),d=new Array(o),m=0;m<c;++m)for(var p=i[m],g=l[m],x=p.length,y=d[m]=new Array(x),v,E=0;E<x;++E)(v=p[E]||g[E])&&(y[E]=v);for(;m<o;++m)d[m]=i[m];return new Fn(d,this._parents,this._name,this._id)}function k_(t){return(t+"").trim().split(/^|\s+/).every(function(i){var l=i.indexOf(".");return l>=0&&(i=i.slice(0,l)),!i||i==="start"})}function B_(t,i,l){var o,s,c=k_(i)?If:wn;return function(){var d=c(this,t),m=d.on;m!==o&&(s=(o=m).copy()).on(i,l),d.on=s}}function L_(t,i){var l=this._id;return arguments.length<2?un(this.node(),l).on.on(t):this.each(B_(l,t,i))}function U_(t){return function(){var i=this.parentNode;for(var l in this.__transition)if(+l!==t)return;i&&i.removeChild(this)}}function Y_(){return this.on("end.remove",U_(this._id))}function q_(t){var i=this._name,l=this._id;typeof t!="function"&&(t=Wf(t));for(var o=this._groups,s=o.length,c=new Array(s),d=0;d<s;++d)for(var m=o[d],p=m.length,g=c[d]=new Array(p),x,y,v=0;v<p;++v)(x=m[v])&&(y=t.call(x,x.__data__,v,m))&&("__data__"in x&&(y.__data__=x.__data__),g[v]=y,yu(g[v],i,l,v,g,un(x,l)));return new Fn(c,this._parents,i,l)}function V_(t){var i=this._name,l=this._id;typeof t!="function"&&(t=mx(t));for(var o=this._groups,s=o.length,c=[],d=[],m=0;m<s;++m)for(var p=o[m],g=p.length,x,y=0;y<g;++y)if(x=p[y]){for(var v=t.call(x,x.__data__,y,p),E,_=un(x,l),T=0,w=v.length;T<w;++T)(E=v[T])&&yu(E,i,l,T,v,_);c.push(v),d.push(x)}return new Fn(c,d,i,l)}var $_=Wr.prototype.constructor;function X_(){return new $_(this._groups,this._parents)}function G_(t,i){var l,o,s;return function(){var c=fl(this,t),d=(this.style.removeProperty(t),fl(this,t));return c===d?null:c===l&&d===o?s:s=i(l=c,o=d)}}function Ux(t){return function(){this.style.removeProperty(t)}}function Z_(t,i,l){var o,s=l+"",c;return function(){var d=fl(this,t);return d===s?null:d===o?c:c=i(o=d,l)}}function Q_(t,i,l){var o,s,c;return function(){var d=fl(this,t),m=l(this),p=m+"";return m==null&&(p=m=(this.style.removeProperty(t),fl(this,t))),d===p?null:d===o&&p===s?c:(s=p,c=i(o=d,m))}}function W_(t,i){var l,o,s,c="style."+i,d="end."+c,m;return function(){var p=wn(this,t),g=p.on,x=p.value[c]==null?m||(m=Ux(i)):void 0;(g!==l||s!==x)&&(o=(l=g).copy()).on(d,s=x),p.on=o}}function K_(t,i,l){var o=(t+="")=="transform"?F4:Lx;return i==null?this.styleTween(t,G_(t,o)).on("end.style."+t,Ux(t)):typeof i=="function"?this.styleTween(t,Q_(t,o,eh(this,"style."+t,i))).each(W_(this._id,t)):this.styleTween(t,Z_(t,o,i),l).on("end.style."+t,null)}function F_(t,i,l){return function(o){this.style.setProperty(t,i.call(this,o),l)}}function J_(t,i,l){var o,s;function c(){var d=i.apply(this,arguments);return d!==s&&(o=(s=d)&&F_(t,d,l)),o}return c._value=i,c}function P_(t,i,l){var o="style."+(t+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(i==null)return this.tween(o,null);if(typeof i!="function")throw new Error;return this.tween(o,J_(t,i,l??""))}function I_(t){return function(){this.textContent=t}}function e3(t){return function(){var i=t(this);this.textContent=i??""}}function t3(t){return this.tween("text",typeof t=="function"?e3(eh(this,"text",t)):I_(t==null?"":t+""))}function n3(t){return function(i){this.textContent=t.call(this,i)}}function a3(t){var i,l;function o(){var s=t.apply(this,arguments);return s!==l&&(i=(l=s)&&n3(s)),i}return o._value=t,o}function i3(t){var i="text";if(arguments.length<1)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,a3(t))}function l3(){for(var t=this._name,i=this._id,l=Yx(),o=this._groups,s=o.length,c=0;c<s;++c)for(var d=o[c],m=d.length,p,g=0;g<m;++g)if(p=d[g]){var x=un(p,i);yu(p,t,l,g,d,{time:x.time+x.delay+x.duration,delay:0,duration:x.duration,ease:x.ease})}return new Fn(o,this._parents,t,l)}function r3(){var t,i,l=this,o=l._id,s=l.size();return new Promise(function(c,d){var m={value:d},p={value:function(){--s===0&&c()}};l.each(function(){var g=wn(this,o),x=g.on;x!==t&&(i=(t=x).copy(),i._.cancel.push(m),i._.interrupt.push(m),i._.end.push(p)),g.on=i}),s===0&&c()})}var o3=0;function Fn(t,i,l,o){this._groups=t,this._parents=i,this._name=l,this._id=o}function Yx(){return++o3}var Gn=Wr.prototype;Fn.prototype={constructor:Fn,select:q_,selectAll:V_,selectChild:Gn.selectChild,selectChildren:Gn.selectChildren,filter:O_,merge:H_,selection:X_,transition:l3,call:Gn.call,nodes:Gn.nodes,node:Gn.node,size:Gn.size,empty:Gn.empty,each:Gn.each,on:L_,attr:x_,attrTween:E_,style:K_,styleTween:P_,text:t3,textTween:i3,remove:Y_,tween:d_,delay:__,duration:T_,ease:A_,easeVarying:R_,end:r3,[Symbol.iterator]:Gn[Symbol.iterator]};function s3(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var u3={time:null,delay:0,duration:250,ease:s3};function c3(t,i){for(var l;!(l=t.__transition)||!(l=l[i]);)if(!(t=t.parentNode))throw new Error(`transition ${i} not found`);return l}function d3(t){var i,l;t instanceof Fn?(i=t._id,t=t._name):(i=Yx(),(l=u3).time=Pf(),t=t==null?null:t+"");for(var o=this._groups,s=o.length,c=0;c<s;++c)for(var d=o[c],m=d.length,p,g=0;g<m;++g)(p=d[g])&&yu(p,t,i,g,d,l||c3(p,i));return new Fn(o,this._parents,t,i)}Wr.prototype.interrupt=s_;Wr.prototype.transition=d3;const Rs=t=>()=>t;function f3(t,{sourceEvent:i,target:l,transform:o,dispatch:s}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:i,enumerable:!0,configurable:!0},target:{value:l,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:s}})}function Zn(t,i,l){this.k=t,this.x=i,this.y=l}Zn.prototype={constructor:Zn,scale:function(t){return t===1?this:new Zn(this.k*t,this.x,this.y)},translate:function(t,i){return t===0&i===0?this:new Zn(this.k,this.x+this.k*t,this.y+this.k*i)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var xu=new Zn(1,0,0);qx.prototype=Zn.prototype;function qx(t){for(;!t.__zoom;)if(!(t=t.parentNode))return xu;return t.__zoom}function af(t){t.stopImmediatePropagation()}function Nr(t){t.preventDefault(),t.stopImmediatePropagation()}function h3(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function m3(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function U0(){return this.__zoom||xu}function g3(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function p3(){return navigator.maxTouchPoints||"ontouchstart"in this}function y3(t,i,l){var o=t.invertX(i[0][0])-l[0][0],s=t.invertX(i[1][0])-l[1][0],c=t.invertY(i[0][1])-l[0][1],d=t.invertY(i[1][1])-l[1][1];return t.translate(s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s),d>c?(c+d)/2:Math.min(0,c)||Math.max(0,d))}function Vx(){var t=h3,i=m3,l=y3,o=g3,s=p3,c=[0,1/0],d=[[-1/0,-1/0],[1/0,1/0]],m=250,p=Xs,g=mu("start","zoom","end"),x,y,v,E=500,_=150,T=0,w=10;function N(B){B.property("__zoom",U0).on("wheel.zoom",V,{passive:!1}).on("mousedown.zoom",J).on("dblclick.zoom",re).filter(s).on("touchstart.zoom",K).on("touchmove.zoom",Q).on("touchend.zoom touchcancel.zoom",le).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}N.transform=function(B,G,A,O){var L=B.selection?B.selection():B;L.property("__zoom",U0),B!==L?k(B,G,A,O):L.interrupt().each(function(){U(this,arguments).event(O).start().zoom(null,typeof G=="function"?G.apply(this,arguments):G).end()})},N.scaleBy=function(B,G,A,O){N.scaleTo(B,function(){var L=this.__zoom.k,$=typeof G=="function"?G.apply(this,arguments):G;return L*$},A,O)},N.scaleTo=function(B,G,A,O){N.transform(B,function(){var L=i.apply(this,arguments),$=this.__zoom,ee=A==null?z(L):typeof A=="function"?A.apply(this,arguments):A,D=$.invert(ee),Y=typeof G=="function"?G.apply(this,arguments):G;return l(S(j($,Y),ee,D),L,d)},A,O)},N.translateBy=function(B,G,A,O){N.transform(B,function(){return l(this.__zoom.translate(typeof G=="function"?G.apply(this,arguments):G,typeof A=="function"?A.apply(this,arguments):A),i.apply(this,arguments),d)},null,O)},N.translateTo=function(B,G,A,O,L){N.transform(B,function(){var $=i.apply(this,arguments),ee=this.__zoom,D=O==null?z($):typeof O=="function"?O.apply(this,arguments):O;return l(xu.translate(D[0],D[1]).scale(ee.k).translate(typeof G=="function"?-G.apply(this,arguments):-G,typeof A=="function"?-A.apply(this,arguments):-A),$,d)},O,L)};function j(B,G){return G=Math.max(c[0],Math.min(c[1],G)),G===B.k?B:new Zn(G,B.x,B.y)}function S(B,G,A){var O=G[0]-A[0]*B.k,L=G[1]-A[1]*B.k;return O===B.x&&L===B.y?B:new Zn(B.k,O,L)}function z(B){return[(+B[0][0]+ +B[1][0])/2,(+B[0][1]+ +B[1][1])/2]}function k(B,G,A,O){B.on("start.zoom",function(){U(this,arguments).event(O).start()}).on("interrupt.zoom end.zoom",function(){U(this,arguments).event(O).end()}).tween("zoom",function(){var L=this,$=arguments,ee=U(L,$).event(O),D=i.apply(L,$),Y=A==null?z(D):typeof A=="function"?A.apply(L,$):A,P=Math.max(D[1][0]-D[0][0],D[1][1]-D[0][1]),te=L.__zoom,se=typeof G=="function"?G.apply(L,$):G,ce=p(te.invert(Y).concat(P/te.k),se.invert(Y).concat(P/se.k));return function(ue){if(ue===1)ue=se;else{var oe=ce(ue),de=P/oe[2];ue=new Zn(de,Y[0]-oe[0]*de,Y[1]-oe[1]*de)}ee.zoom(null,ue)}})}function U(B,G,A){return!A&&B.__zooming||new R(B,G)}function R(B,G){this.that=B,this.args=G,this.active=0,this.sourceEvent=null,this.extent=i.apply(B,G),this.taps=0}R.prototype={event:function(B){return B&&(this.sourceEvent=B),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(B,G){return this.mouse&&B!=="mouse"&&(this.mouse[1]=G.invert(this.mouse[0])),this.touch0&&B!=="touch"&&(this.touch0[1]=G.invert(this.touch0[0])),this.touch1&&B!=="touch"&&(this.touch1[1]=G.invert(this.touch1[0])),this.that.__zoom=G,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(B){var G=Ut(this.that).datum();g.call(B,this.that,new f3(B,{sourceEvent:this.sourceEvent,target:N,transform:this.that.__zoom,dispatch:g}),G)}};function V(B,...G){if(!t.apply(this,arguments))return;var A=U(this,G).event(B),O=this.__zoom,L=Math.max(c[0],Math.min(c[1],O.k*Math.pow(2,o.apply(this,arguments)))),$=an(B);if(A.wheel)(A.mouse[0][0]!==$[0]||A.mouse[0][1]!==$[1])&&(A.mouse[1]=O.invert(A.mouse[0]=$)),clearTimeout(A.wheel);else{if(O.k===L)return;A.mouse=[$,O.invert($)],Qs(this),A.start()}Nr(B),A.wheel=setTimeout(ee,_),A.zoom("mouse",l(S(j(O,L),A.mouse[0],A.mouse[1]),A.extent,d));function ee(){A.wheel=null,A.end()}}function J(B,...G){if(v||!t.apply(this,arguments))return;var A=B.currentTarget,O=U(this,G,!0).event(B),L=Ut(B.view).on("mousemove.zoom",Y,!0).on("mouseup.zoom",P,!0),$=an(B,A),ee=B.clientX,D=B.clientY;jx(B.view),af(B),O.mouse=[$,this.__zoom.invert($)],Qs(this),O.start();function Y(te){if(Nr(te),!O.moved){var se=te.clientX-ee,ce=te.clientY-D;O.moved=se*se+ce*ce>T}O.event(te).zoom("mouse",l(S(O.that.__zoom,O.mouse[0]=an(te,A),O.mouse[1]),O.extent,d))}function P(te){L.on("mousemove.zoom mouseup.zoom",null),_x(te.view,O.moved),Nr(te),O.event(te).end()}}function re(B,...G){if(t.apply(this,arguments)){var A=this.__zoom,O=an(B.changedTouches?B.changedTouches[0]:B,this),L=A.invert(O),$=A.k*(B.shiftKey?.5:2),ee=l(S(j(A,$),O,L),i.apply(this,G),d);Nr(B),m>0?Ut(this).transition().duration(m).call(k,ee,O,B):Ut(this).call(N.transform,ee,O,B)}}function K(B,...G){if(t.apply(this,arguments)){var A=B.touches,O=A.length,L=U(this,G,B.changedTouches.length===O).event(B),$,ee,D,Y;for(af(B),ee=0;ee<O;++ee)D=A[ee],Y=an(D,this),Y=[Y,this.__zoom.invert(Y),D.identifier],L.touch0?!L.touch1&&L.touch0[2]!==Y[2]&&(L.touch1=Y,L.taps=0):(L.touch0=Y,$=!0,L.taps=1+!!x);x&&(x=clearTimeout(x)),$&&(L.taps<2&&(y=Y[0],x=setTimeout(function(){x=null},E)),Qs(this),L.start())}}function Q(B,...G){if(this.__zooming){var A=U(this,G).event(B),O=B.changedTouches,L=O.length,$,ee,D,Y;for(Nr(B),$=0;$<L;++$)ee=O[$],D=an(ee,this),A.touch0&&A.touch0[2]===ee.identifier?A.touch0[0]=D:A.touch1&&A.touch1[2]===ee.identifier&&(A.touch1[0]=D);if(ee=A.that.__zoom,A.touch1){var P=A.touch0[0],te=A.touch0[1],se=A.touch1[0],ce=A.touch1[1],ue=(ue=se[0]-P[0])*ue+(ue=se[1]-P[1])*ue,oe=(oe=ce[0]-te[0])*oe+(oe=ce[1]-te[1])*oe;ee=j(ee,Math.sqrt(ue/oe)),D=[(P[0]+se[0])/2,(P[1]+se[1])/2],Y=[(te[0]+ce[0])/2,(te[1]+ce[1])/2]}else if(A.touch0)D=A.touch0[0],Y=A.touch0[1];else return;A.zoom("touch",l(S(ee,D,Y),A.extent,d))}}function le(B,...G){if(this.__zooming){var A=U(this,G).event(B),O=B.changedTouches,L=O.length,$,ee;for(af(B),v&&clearTimeout(v),v=setTimeout(function(){v=null},E),$=0;$<L;++$)ee=O[$],A.touch0&&A.touch0[2]===ee.identifier?delete A.touch0:A.touch1&&A.touch1[2]===ee.identifier&&delete A.touch1;if(A.touch1&&!A.touch0&&(A.touch0=A.touch1,delete A.touch1),A.touch0)A.touch0[1]=this.__zoom.invert(A.touch0[0]);else if(A.end(),A.taps===2&&(ee=an(ee,this),Math.hypot(y[0]-ee[0],y[1]-ee[1])<w)){var D=Ut(this).on("dblclick.zoom");D&&D.apply(this,arguments)}}}return N.wheelDelta=function(B){return arguments.length?(o=typeof B=="function"?B:Rs(+B),N):o},N.filter=function(B){return arguments.length?(t=typeof B=="function"?B:Rs(!!B),N):t},N.touchable=function(B){return arguments.length?(s=typeof B=="function"?B:Rs(!!B),N):s},N.extent=function(B){return arguments.length?(i=typeof B=="function"?B:Rs([[+B[0][0],+B[0][1]],[+B[1][0],+B[1][1]]]),N):i},N.scaleExtent=function(B){return arguments.length?(c[0]=+B[0],c[1]=+B[1],N):[c[0],c[1]]},N.translateExtent=function(B){return arguments.length?(d[0][0]=+B[0][0],d[1][0]=+B[1][0],d[0][1]=+B[0][1],d[1][1]=+B[1][1],N):[[d[0][0],d[0][1]],[d[1][0],d[1][1]]]},N.constrain=function(B){return arguments.length?(l=B,N):l},N.duration=function(B){return arguments.length?(m=+B,N):m},N.interpolate=function(B){return arguments.length?(p=B,N):p},N.on=function(){var B=g.on.apply(g,arguments);return B===g?N:B},N.clickDistance=function(B){return arguments.length?(T=(B=+B)*B,N):Math.sqrt(T)},N.tapDistance=function(B){return arguments.length?(w=+B,N):w},N}const bn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:i,sourceHandle:l,targetHandle:o})=>`Couldn't create edge for ${t} handle id: "${t==="source"?l:o}", edge id: ${i}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Br=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],$x=["Enter"," ","Escape"],Xx={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:t,x:i,y:l})=>`Moved selected node ${t}. New position, x: ${i}, y: ${l}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var ml;(function(t){t.Strict="strict",t.Loose="loose"})(ml||(ml={}));var ci;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(ci||(ci={}));var Lr;(function(t){t.Partial="partial",t.Full="full"})(Lr||(Lr={}));const Gx={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var Aa;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(Aa||(Aa={}));var lu;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(lu||(lu={}));var me;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(me||(me={}));const Y0={[me.Left]:me.Right,[me.Right]:me.Left,[me.Top]:me.Bottom,[me.Bottom]:me.Top};function Zx(t){return t===null?null:t?"valid":"invalid"}const Qx=t=>"id"in t&&"source"in t&&"target"in t,x3=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),th=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),Fr=(t,i=[0,0])=>{const{width:l,height:o}=Pn(t),s=t.origin??i,c=l*s[0],d=o*s[1];return{x:t.position.x-c,y:t.position.y-d}},v3=(t,i={nodeOrigin:[0,0]})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const l=t.reduce((o,s)=>{const c=typeof s=="string";let d=!i.nodeLookup&&!c?s:void 0;i.nodeLookup&&(d=c?i.nodeLookup.get(s):th(s)?s:i.nodeLookup.get(s.id));const m=d?ru(d,i.nodeOrigin):{x:0,y:0,x2:0,y2:0};return vu(o,m)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return bu(l)},Jr=(t,i={})=>{let l={x:1/0,y:1/0,x2:-1/0,y2:-1/0},o=!1;return t.forEach(s=>{(i.filter===void 0||i.filter(s))&&(l=vu(l,ru(s)),o=!0)}),o?bu(l):{x:0,y:0,width:0,height:0}},nh=(t,i,[l,o,s]=[0,0,1],c=!1,d=!1)=>{const m={...Ir(i,[l,o,s]),width:i.width/s,height:i.height/s},p=[];for(const g of t.values()){const{measured:x,selectable:y=!0,hidden:v=!1}=g;if(d&&!y||v)continue;const E=x.width??g.width??g.initialWidth??null,_=x.height??g.height??g.initialHeight??null,T=Ur(m,pl(g)),w=(E??0)*(_??0),N=c&&T>0;(!g.internals.handleBounds||N||T>=w||g.dragging)&&p.push(g)}return p},b3=(t,i)=>{const l=new Set;return t.forEach(o=>{l.add(o.id)}),i.filter(o=>l.has(o.source)||l.has(o.target))};function w3(t,i){const l=new Map,o=i?.nodes?new Set(i.nodes.map(s=>s.id)):null;return t.forEach(s=>{s.measured.width&&s.measured.height&&(i?.includeHiddenNodes||!s.hidden)&&(!o||o.has(s.id))&&l.set(s.id,s)}),l}async function S3({nodes:t,width:i,height:l,panZoom:o,minZoom:s,maxZoom:c},d){if(t.size===0)return Promise.resolve(!0);const m=w3(t,d),p=Jr(m),g=ah(p,i,l,d?.minZoom??s,d?.maxZoom??c,d?.padding??.1);return await o.setViewport(g,{duration:d?.duration,ease:d?.ease,interpolate:d?.interpolate}),Promise.resolve(!0)}function Wx({nodeId:t,nextPosition:i,nodeLookup:l,nodeOrigin:o=[0,0],nodeExtent:s,onError:c}){const d=l.get(t),m=d.parentId?l.get(d.parentId):void 0,{x:p,y:g}=m?m.internals.positionAbsolute:{x:0,y:0},x=d.origin??o;let y=d.extent||s;if(d.extent==="parent"&&!d.expandParent)if(!m)c?.("005",bn.error005());else{const E=m.measured.width,_=m.measured.height;E&&_&&(y=[[p,g],[p+E,g+_]])}else m&&yl(d.extent)&&(y=[[d.extent[0][0]+p,d.extent[0][1]+g],[d.extent[1][0]+p,d.extent[1][1]+g]]);const v=yl(y)?hi(i,y,d.measured):i;return(d.measured.width===void 0||d.measured.height===void 0)&&c?.("015",bn.error015()),{position:{x:v.x-p+(d.measured.width??0)*x[0],y:v.y-g+(d.measured.height??0)*x[1]},positionAbsolute:v}}async function E3({nodesToRemove:t=[],edgesToRemove:i=[],nodes:l,edges:o,onBeforeDelete:s}){const c=new Set(t.map(v=>v.id)),d=[];for(const v of l){if(v.deletable===!1)continue;const E=c.has(v.id),_=!E&&v.parentId&&d.find(T=>T.id===v.parentId);(E||_)&&d.push(v)}const m=new Set(i.map(v=>v.id)),p=o.filter(v=>v.deletable!==!1),x=b3(d,p);for(const v of p)m.has(v.id)&&!x.find(_=>_.id===v.id)&&x.push(v);if(!s)return{edges:x,nodes:d};const y=await s({nodes:d,edges:x});return typeof y=="boolean"?y?{edges:x,nodes:d}:{edges:[],nodes:[]}:y}const gl=(t,i=0,l=1)=>Math.min(Math.max(t,i),l),hi=(t={x:0,y:0},i,l)=>({x:gl(t.x,i[0][0],i[1][0]-(l?.width??0)),y:gl(t.y,i[0][1],i[1][1]-(l?.height??0))});function Kx(t,i,l){const{width:o,height:s}=Pn(l),{x:c,y:d}=l.internals.positionAbsolute;return hi(t,[[c,d],[c+o,d+s]],i)}const q0=(t,i,l)=>t<i?gl(Math.abs(t-i),1,i)/i:t>l?-gl(Math.abs(t-l),1,i)/i:0,Fx=(t,i,l=15,o=40)=>{const s=q0(t.x,o,i.width-o)*l,c=q0(t.y,o,i.height-o)*l;return[s,c]},vu=(t,i)=>({x:Math.min(t.x,i.x),y:Math.min(t.y,i.y),x2:Math.max(t.x2,i.x2),y2:Math.max(t.y2,i.y2)}),Tf=({x:t,y:i,width:l,height:o})=>({x:t,y:i,x2:t+l,y2:i+o}),bu=({x:t,y:i,x2:l,y2:o})=>({x:t,y:i,width:l-t,height:o-i}),pl=(t,i=[0,0])=>{const{x:l,y:o}=th(t)?t.internals.positionAbsolute:Fr(t,i);return{x:l,y:o,width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}},ru=(t,i=[0,0])=>{const{x:l,y:o}=th(t)?t.internals.positionAbsolute:Fr(t,i);return{x:l,y:o,x2:l+(t.measured?.width??t.width??t.initialWidth??0),y2:o+(t.measured?.height??t.height??t.initialHeight??0)}},Jx=(t,i)=>bu(vu(Tf(t),Tf(i))),Ur=(t,i)=>{const l=Math.max(0,Math.min(t.x+t.width,i.x+i.width)-Math.max(t.x,i.x)),o=Math.max(0,Math.min(t.y+t.height,i.y+i.height)-Math.max(t.y,i.y));return Math.ceil(l*o)},V0=t=>rn(t.width)&&rn(t.height)&&rn(t.x)&&rn(t.y),rn=t=>!isNaN(t)&&isFinite(t),N3=(t,i)=>{},Pr=(t,i=[1,1])=>({x:i[0]*Math.round(t.x/i[0]),y:i[1]*Math.round(t.y/i[1])}),Ir=({x:t,y:i},[l,o,s],c=!1,d=[1,1])=>{const m={x:(t-l)/s,y:(i-o)/s};return c?Pr(m,d):m},ou=({x:t,y:i},[l,o,s])=>({x:t*s+l,y:i*s+o});function il(t,i){if(typeof t=="number")return Math.floor((i-i/(1+t))*.5);if(typeof t=="string"&&t.endsWith("px")){const l=parseFloat(t);if(!Number.isNaN(l))return Math.floor(l)}if(typeof t=="string"&&t.endsWith("%")){const l=parseFloat(t);if(!Number.isNaN(l))return Math.floor(i*l*.01)}return console.error(`[React Flow] The padding value "${t}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function j3(t,i,l){if(typeof t=="string"||typeof t=="number"){const o=il(t,l),s=il(t,i);return{top:o,right:s,bottom:o,left:s,x:s*2,y:o*2}}if(typeof t=="object"){const o=il(t.top??t.y??0,l),s=il(t.bottom??t.y??0,l),c=il(t.left??t.x??0,i),d=il(t.right??t.x??0,i);return{top:o,right:d,bottom:s,left:c,x:c+d,y:o+s}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function _3(t,i,l,o,s,c){const{x:d,y:m}=ou(t,[i,l,o]),{x:p,y:g}=ou({x:t.x+t.width,y:t.y+t.height},[i,l,o]),x=s-p,y=c-g;return{left:Math.floor(d),top:Math.floor(m),right:Math.floor(x),bottom:Math.floor(y)}}const ah=(t,i,l,o,s,c)=>{const d=j3(c,i,l),m=(i-d.x)/t.width,p=(l-d.y)/t.height,g=Math.min(m,p),x=gl(g,o,s),y=t.x+t.width/2,v=t.y+t.height/2,E=i/2-y*x,_=l/2-v*x,T=_3(t,E,_,x,i,l),w={left:Math.min(T.left-d.left,0),top:Math.min(T.top-d.top,0),right:Math.min(T.right-d.right,0),bottom:Math.min(T.bottom-d.bottom,0)};return{x:E-w.left+w.right,y:_-w.top+w.bottom,zoom:x}},Yr=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function yl(t){return t!=null&&t!=="parent"}function Pn(t){return{width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}}function Px(t){return(t.measured?.width??t.width??t.initialWidth)!==void 0&&(t.measured?.height??t.height??t.initialHeight)!==void 0}function Ix(t,i={width:0,height:0},l,o,s){const c={...t},d=o.get(l);if(d){const m=d.origin||s;c.x+=d.internals.positionAbsolute.x-(i.width??0)*m[0],c.y+=d.internals.positionAbsolute.y-(i.height??0)*m[1]}return c}function $0(t,i){if(t.size!==i.size)return!1;for(const l of t)if(!i.has(l))return!1;return!0}function C3(){let t,i;return{promise:new Promise((o,s)=>{t=o,i=s}),resolve:t,reject:i}}function M3(t){return{...Xx,...t||{}}}function Tr(t,{snapGrid:i=[0,0],snapToGrid:l=!1,transform:o,containerBounds:s}){const{x:c,y:d}=on(t),m=Ir({x:c-(s?.left??0),y:d-(s?.top??0)},o),{x:p,y:g}=l?Pr(m,i):m;return{xSnapped:p,ySnapped:g,...m}}const ih=t=>({width:t.offsetWidth,height:t.offsetHeight}),ev=t=>t?.getRootNode?.()||window?.document,T3=["INPUT","SELECT","TEXTAREA"];function tv(t){const i=t.composedPath?.()?.[0]||t.target;return i?.nodeType!==1?!1:T3.includes(i.nodeName)||i.hasAttribute("contenteditable")||!!i.closest(".nokey")}const nv=t=>"clientX"in t,on=(t,i)=>{const l=nv(t),o=l?t.clientX:t.touches?.[0].clientX,s=l?t.clientY:t.touches?.[0].clientY;return{x:o-(i?.left??0),y:s-(i?.top??0)}},X0=(t,i,l,o,s)=>{const c=i.querySelectorAll(`.${t}`);return!c||!c.length?null:Array.from(c).map(d=>{const m=d.getBoundingClientRect();return{id:d.getAttribute("data-handleid"),type:t,nodeId:s,position:d.getAttribute("data-handlepos"),x:(m.left-l.left)/o,y:(m.top-l.top)/o,...ih(d)}})};function av({sourceX:t,sourceY:i,targetX:l,targetY:o,sourceControlX:s,sourceControlY:c,targetControlX:d,targetControlY:m}){const p=t*.125+s*.375+d*.375+l*.125,g=i*.125+c*.375+m*.375+o*.125,x=Math.abs(p-t),y=Math.abs(g-i);return[p,g,x,y]}function Os(t,i){return t>=0?.5*t:i*25*Math.sqrt(-t)}function G0({pos:t,x1:i,y1:l,x2:o,y2:s,c}){switch(t){case me.Left:return[i-Os(i-o,c),l];case me.Right:return[i+Os(o-i,c),l];case me.Top:return[i,l-Os(l-s,c)];case me.Bottom:return[i,l+Os(s-l,c)]}}function iv({sourceX:t,sourceY:i,sourcePosition:l=me.Bottom,targetX:o,targetY:s,targetPosition:c=me.Top,curvature:d=.25}){const[m,p]=G0({pos:l,x1:t,y1:i,x2:o,y2:s,c:d}),[g,x]=G0({pos:c,x1:o,y1:s,x2:t,y2:i,c:d}),[y,v,E,_]=av({sourceX:t,sourceY:i,targetX:o,targetY:s,sourceControlX:m,sourceControlY:p,targetControlX:g,targetControlY:x});return[`M${t},${i} C${m},${p} ${g},${x} ${o},${s}`,y,v,E,_]}function lv({sourceX:t,sourceY:i,targetX:l,targetY:o}){const s=Math.abs(l-t)/2,c=l<t?l+s:l-s,d=Math.abs(o-i)/2,m=o<i?o+d:o-d;return[c,m,s,d]}function z3({sourceNode:t,targetNode:i,selected:l=!1,zIndex:o=0,elevateOnSelect:s=!1,zIndexMode:c="basic"}){if(c==="manual")return o;const d=s&&l?o+1e3:o,m=Math.max(t.parentId||s&&t.selected?t.internals.z:0,i.parentId||s&&i.selected?i.internals.z:0);return d+m}function A3({sourceNode:t,targetNode:i,width:l,height:o,transform:s}){const c=vu(ru(t),ru(i));c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);const d={x:-s[0]/s[2],y:-s[1]/s[2],width:l/s[2],height:o/s[2]};return Ur(d,bu(c))>0}const D3=({source:t,sourceHandle:i,target:l,targetHandle:o})=>`xy-edge__${t}${i||""}-${l}${o||""}`,R3=(t,i)=>i.some(l=>l.source===t.source&&l.target===t.target&&(l.sourceHandle===t.sourceHandle||!l.sourceHandle&&!t.sourceHandle)&&(l.targetHandle===t.targetHandle||!l.targetHandle&&!t.targetHandle)),rv=(t,i,l={})=>{if(!t.source||!t.target)return i;const o=l.getEdgeId||D3;let s;return Qx(t)?s={...t}:s={...t,id:o(t)},R3(s,i)?i:(s.sourceHandle===null&&delete s.sourceHandle,s.targetHandle===null&&delete s.targetHandle,i.concat(s))};function ov({sourceX:t,sourceY:i,targetX:l,targetY:o}){const[s,c,d,m]=lv({sourceX:t,sourceY:i,targetX:l,targetY:o});return[`M ${t},${i}L ${l},${o}`,s,c,d,m]}const Z0={[me.Left]:{x:-1,y:0},[me.Right]:{x:1,y:0},[me.Top]:{x:0,y:-1},[me.Bottom]:{x:0,y:1}},O3=({source:t,sourcePosition:i=me.Bottom,target:l})=>i===me.Left||i===me.Right?t.x<l.x?{x:1,y:0}:{x:-1,y:0}:t.y<l.y?{x:0,y:1}:{x:0,y:-1},Q0=(t,i)=>Math.sqrt(Math.pow(i.x-t.x,2)+Math.pow(i.y-t.y,2));function H3({source:t,sourcePosition:i=me.Bottom,target:l,targetPosition:o=me.Top,center:s,offset:c,stepPosition:d}){const m=Z0[i],p=Z0[o],g={x:t.x+m.x*c,y:t.y+m.y*c},x={x:l.x+p.x*c,y:l.y+p.y*c},y=O3({source:g,sourcePosition:i,target:x}),v=y.x!==0?"x":"y",E=y[v];let _=[],T,w;const N={x:0,y:0},j={x:0,y:0},[,,S,z]=lv({sourceX:t.x,sourceY:t.y,targetX:l.x,targetY:l.y});if(m[v]*p[v]===-1){v==="x"?(T=s.x??g.x+(x.x-g.x)*d,w=s.y??(g.y+x.y)/2):(T=s.x??(g.x+x.x)/2,w=s.y??g.y+(x.y-g.y)*d);const U=[{x:T,y:g.y},{x:T,y:x.y}],R=[{x:g.x,y:w},{x:x.x,y:w}];m[v]===E?_=v==="x"?U:R:_=v==="x"?R:U}else{const U=[{x:g.x,y:x.y}],R=[{x:x.x,y:g.y}];if(v==="x"?_=m.x===E?R:U:_=m.y===E?U:R,i===o){const Q=Math.abs(t[v]-l[v]);if(Q<=c){const le=Math.min(c-1,c-Q);m[v]===E?N[v]=(g[v]>t[v]?-1:1)*le:j[v]=(x[v]>l[v]?-1:1)*le}}if(i!==o){const Q=v==="x"?"y":"x",le=m[v]===p[Q],B=g[Q]>x[Q],G=g[Q]<x[Q];(m[v]===1&&(!le&&B||le&&G)||m[v]!==1&&(!le&&G||le&&B))&&(_=v==="x"?U:R)}const V={x:g.x+N.x,y:g.y+N.y},J={x:x.x+j.x,y:x.y+j.y},re=Math.max(Math.abs(V.x-_[0].x),Math.abs(J.x-_[0].x)),K=Math.max(Math.abs(V.y-_[0].y),Math.abs(J.y-_[0].y));re>=K?(T=(V.x+J.x)/2,w=_[0].y):(T=_[0].x,w=(V.y+J.y)/2)}return[[t,{x:g.x+N.x,y:g.y+N.y},..._,{x:x.x+j.x,y:x.y+j.y},l],T,w,S,z]}function k3(t,i,l,o){const s=Math.min(Q0(t,i)/2,Q0(i,l)/2,o),{x:c,y:d}=i;if(t.x===c&&c===l.x||t.y===d&&d===l.y)return`L${c} ${d}`;if(t.y===d){const g=t.x<l.x?-1:1,x=t.y<l.y?1:-1;return`L ${c+s*g},${d}Q ${c},${d} ${c},${d+s*x}`}const m=t.x<l.x?1:-1,p=t.y<l.y?-1:1;return`L ${c},${d+s*p}Q ${c},${d} ${c+s*m},${d}`}function zf({sourceX:t,sourceY:i,sourcePosition:l=me.Bottom,targetX:o,targetY:s,targetPosition:c=me.Top,borderRadius:d=5,centerX:m,centerY:p,offset:g=20,stepPosition:x=.5}){const[y,v,E,_,T]=H3({source:{x:t,y:i},sourcePosition:l,target:{x:o,y:s},targetPosition:c,center:{x:m,y:p},offset:g,stepPosition:x});return[y.reduce((N,j,S)=>{let z="";return S>0&&S<y.length-1?z=k3(y[S-1],j,y[S+1],d):z=`${S===0?"M":"L"}${j.x} ${j.y}`,N+=z,N},""),v,E,_,T]}function W0(t){return t&&!!(t.internals.handleBounds||t.handles?.length)&&!!(t.measured.width||t.width||t.initialWidth)}function B3(t){const{sourceNode:i,targetNode:l}=t;if(!W0(i)||!W0(l))return null;const o=i.internals.handleBounds||K0(i.handles),s=l.internals.handleBounds||K0(l.handles),c=F0(o?.source??[],t.sourceHandle),d=F0(t.connectionMode===ml.Strict?s?.target??[]:(s?.target??[]).concat(s?.source??[]),t.targetHandle);if(!c||!d)return t.onError?.("008",bn.error008(c?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const m=c?.position||me.Bottom,p=d?.position||me.Top,g=mi(i,c,m),x=mi(l,d,p);return{sourceX:g.x,sourceY:g.y,targetX:x.x,targetY:x.y,sourcePosition:m,targetPosition:p}}function K0(t){if(!t)return null;const i=[],l=[];for(const o of t)o.width=o.width??1,o.height=o.height??1,o.type==="source"?i.push(o):o.type==="target"&&l.push(o);return{source:i,target:l}}function mi(t,i,l=me.Left,o=!1){const s=(i?.x??0)+t.internals.positionAbsolute.x,c=(i?.y??0)+t.internals.positionAbsolute.y,{width:d,height:m}=i??Pn(t);if(o)return{x:s+d/2,y:c+m/2};switch(i?.position??l){case me.Top:return{x:s+d/2,y:c};case me.Right:return{x:s+d,y:c+m/2};case me.Bottom:return{x:s+d/2,y:c+m};case me.Left:return{x:s,y:c+m/2}}}function F0(t,i){return t&&(i?t.find(l=>l.id===i):t[0])||null}function Af(t,i){return t?typeof t=="string"?t:`${i?`${i}__`:""}${Object.keys(t).sort().map(o=>`${o}=${t[o]}`).join("&")}`:""}function L3(t,{id:i,defaultColor:l,defaultMarkerStart:o,defaultMarkerEnd:s}){const c=new Set;return t.reduce((d,m)=>([m.markerStart||o,m.markerEnd||s].forEach(p=>{if(p&&typeof p=="object"){const g=Af(p,i);c.has(g)||(d.push({id:g,color:p.color||l,...p}),c.add(g))}}),d),[]).sort((d,m)=>d.id.localeCompare(m.id))}const sv=1e3,U3=10,lh={nodeOrigin:[0,0],nodeExtent:Br,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},Y3={...lh,checkEquality:!0};function rh(t,i){const l={...t};for(const o in i)i[o]!==void 0&&(l[o]=i[o]);return l}function q3(t,i,l){const o=rh(lh,l);for(const s of t.values())if(s.parentId)sh(s,t,i,o);else{const c=Fr(s,o.nodeOrigin),d=yl(s.extent)?s.extent:o.nodeExtent,m=hi(c,d,Pn(s));s.internals.positionAbsolute=m}}function V3(t,i){if(!t.handles)return t.measured?i?.internals.handleBounds:void 0;const l=[],o=[];for(const s of t.handles){const c={id:s.id,width:s.width??1,height:s.height??1,nodeId:t.id,x:s.x,y:s.y,position:s.position,type:s.type};s.type==="source"?l.push(c):s.type==="target"&&o.push(c)}return{source:l,target:o}}function oh(t){return t==="manual"}function Df(t,i,l,o={}){const s=rh(Y3,o),c={i:0},d=new Map(i),m=s?.elevateNodesOnSelect&&!oh(s.zIndexMode)?sv:0;let p=t.length>0;i.clear(),l.clear();for(const g of t){let x=d.get(g.id);if(s.checkEquality&&g===x?.internals.userNode)i.set(g.id,x);else{const y=Fr(g,s.nodeOrigin),v=yl(g.extent)?g.extent:s.nodeExtent,E=hi(y,v,Pn(g));x={...s.defaults,...g,measured:{width:g.measured?.width,height:g.measured?.height},internals:{positionAbsolute:E,handleBounds:V3(g,x),z:uv(g,m,s.zIndexMode),userNode:g}},i.set(g.id,x)}(x.measured===void 0||x.measured.width===void 0||x.measured.height===void 0)&&!x.hidden&&(p=!1),g.parentId&&sh(x,i,l,o,c)}return p}function $3(t,i){if(!t.parentId)return;const l=i.get(t.parentId);l?l.set(t.id,t):i.set(t.parentId,new Map([[t.id,t]]))}function sh(t,i,l,o,s){const{elevateNodesOnSelect:c,nodeOrigin:d,nodeExtent:m,zIndexMode:p}=rh(lh,o),g=t.parentId,x=i.get(g);if(!x){console.warn(`Parent node ${g} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}$3(t,l),s&&!x.parentId&&x.internals.rootParentIndex===void 0&&p==="auto"&&(x.internals.rootParentIndex=++s.i,x.internals.z=x.internals.z+s.i*U3),s&&x.internals.rootParentIndex!==void 0&&(s.i=x.internals.rootParentIndex);const y=c&&!oh(p)?sv:0,{x:v,y:E,z:_}=X3(t,x,d,m,y,p),{positionAbsolute:T}=t.internals,w=v!==T.x||E!==T.y;(w||_!==t.internals.z)&&i.set(t.id,{...t,internals:{...t.internals,positionAbsolute:w?{x:v,y:E}:T,z:_}})}function uv(t,i,l){const o=rn(t.zIndex)?t.zIndex:0;return oh(l)?o:o+(t.selected?i:0)}function X3(t,i,l,o,s,c){const{x:d,y:m}=i.internals.positionAbsolute,p=Pn(t),g=Fr(t,l),x=yl(t.extent)?hi(g,t.extent,p):g;let y=hi({x:d+x.x,y:m+x.y},o,p);t.extent==="parent"&&(y=Kx(y,p,i));const v=uv(t,s,c),E=i.internals.z??0;return{x:y.x,y:y.y,z:E>=v?E+1:v}}function uh(t,i,l,o=[0,0]){const s=[],c=new Map;for(const d of t){const m=i.get(d.parentId);if(!m)continue;const p=c.get(d.parentId)?.expandedRect??pl(m),g=Jx(p,d.rect);c.set(d.parentId,{expandedRect:g,parent:m})}return c.size>0&&c.forEach(({expandedRect:d,parent:m},p)=>{const g=m.internals.positionAbsolute,x=Pn(m),y=m.origin??o,v=d.x<g.x?Math.round(Math.abs(g.x-d.x)):0,E=d.y<g.y?Math.round(Math.abs(g.y-d.y)):0,_=Math.max(x.width,Math.round(d.width)),T=Math.max(x.height,Math.round(d.height)),w=(_-x.width)*y[0],N=(T-x.height)*y[1];(v>0||E>0||w||N)&&(s.push({id:p,type:"position",position:{x:m.position.x-v+w,y:m.position.y-E+N}}),l.get(p)?.forEach(j=>{t.some(S=>S.id===j.id)||s.push({id:j.id,type:"position",position:{x:j.position.x+v,y:j.position.y+E}})})),(x.width<d.width||x.height<d.height||v||E)&&s.push({id:p,type:"dimensions",setAttributes:!0,dimensions:{width:_+(v?y[0]*v-w:0),height:T+(E?y[1]*E-N:0)}})}),s}function G3(t,i,l,o,s,c,d){const m=o?.querySelector(".xyflow__viewport");let p=!1;if(!m)return{changes:[],updatedInternals:p};const g=[],x=window.getComputedStyle(m),{m22:y}=new window.DOMMatrixReadOnly(x.transform),v=[];for(const E of t.values()){const _=i.get(E.id);if(!_)continue;if(_.hidden){i.set(_.id,{..._,internals:{..._.internals,handleBounds:void 0}}),p=!0;continue}const T=ih(E.nodeElement),w=_.measured.width!==T.width||_.measured.height!==T.height;if(!!(T.width&&T.height&&(w||!_.internals.handleBounds||E.force))){const j=E.nodeElement.getBoundingClientRect(),S=yl(_.extent)?_.extent:c;let{positionAbsolute:z}=_.internals;_.parentId&&_.extent==="parent"?z=Kx(z,T,i.get(_.parentId)):S&&(z=hi(z,S,T));const k={..._,measured:T,internals:{..._.internals,positionAbsolute:z,handleBounds:{source:X0("source",E.nodeElement,j,y,_.id),target:X0("target",E.nodeElement,j,y,_.id)}}};i.set(_.id,k),_.parentId&&sh(k,i,l,{nodeOrigin:s,zIndexMode:d}),p=!0,w&&(g.push({id:_.id,type:"dimensions",dimensions:T}),_.expandParent&&_.parentId&&v.push({id:_.id,parentId:_.parentId,rect:pl(k,s)}))}}if(v.length>0){const E=uh(v,i,l,s);g.push(...E)}return{changes:g,updatedInternals:p}}async function Z3({delta:t,panZoom:i,transform:l,translateExtent:o,width:s,height:c}){if(!i||!t.x&&!t.y)return Promise.resolve(!1);const d=await i.setViewportConstrained({x:l[0]+t.x,y:l[1]+t.y,zoom:l[2]},[[0,0],[s,c]],o),m=!!d&&(d.x!==l[0]||d.y!==l[1]||d.k!==l[2]);return Promise.resolve(m)}function J0(t,i,l,o,s,c){let d=s;const m=o.get(d)||new Map;o.set(d,m.set(l,i)),d=`${s}-${t}`;const p=o.get(d)||new Map;if(o.set(d,p.set(l,i)),c){d=`${s}-${t}-${c}`;const g=o.get(d)||new Map;o.set(d,g.set(l,i))}}function cv(t,i,l){t.clear(),i.clear();for(const o of l){const{source:s,target:c,sourceHandle:d=null,targetHandle:m=null}=o,p={edgeId:o.id,source:s,target:c,sourceHandle:d,targetHandle:m},g=`${s}-${d}--${c}-${m}`,x=`${c}-${m}--${s}-${d}`;J0("source",p,x,t,s,d),J0("target",p,g,t,c,m),i.set(o.id,o)}}function dv(t,i){if(!t.parentId)return!1;const l=i.get(t.parentId);return l?l.selected?!0:dv(l,i):!1}function P0(t,i,l){let o=t;do{if(o?.matches?.(i))return!0;if(o===l)return!1;o=o?.parentElement}while(o);return!1}function Q3(t,i,l,o){const s=new Map;for(const[c,d]of t)if((d.selected||d.id===o)&&(!d.parentId||!dv(d,t))&&(d.draggable||i&&typeof d.draggable>"u")){const m=t.get(c);m&&s.set(c,{id:c,position:m.position||{x:0,y:0},distance:{x:l.x-m.internals.positionAbsolute.x,y:l.y-m.internals.positionAbsolute.y},extent:m.extent,parentId:m.parentId,origin:m.origin,expandParent:m.expandParent,internals:{positionAbsolute:m.internals.positionAbsolute||{x:0,y:0}},measured:{width:m.measured.width??0,height:m.measured.height??0}})}return s}function lf({nodeId:t,dragItems:i,nodeLookup:l,dragging:o=!0}){const s=[];for(const[d,m]of i){const p=l.get(d)?.internals.userNode;p&&s.push({...p,position:m.position,dragging:o})}if(!t)return[s[0],s];const c=l.get(t)?.internals.userNode;return[c?{...c,position:i.get(t)?.position||c.position,dragging:o}:s[0],s]}function W3({dragItems:t,snapGrid:i,x:l,y:o}){const s=t.values().next().value;if(!s)return null;const c={x:l-s.distance.x,y:o-s.distance.y},d=Pr(c,i);return{x:d.x-c.x,y:d.y-c.y}}function K3({onNodeMouseDown:t,getStoreItems:i,onDragStart:l,onDrag:o,onDragStop:s}){let c={x:null,y:null},d=0,m=new Map,p=!1,g={x:0,y:0},x=null,y=!1,v=null,E=!1,_=!1,T=null;function w({noDragClassName:j,handleSelector:S,domNode:z,isSelectable:k,nodeId:U,nodeClickDistance:R=0}){v=Ut(z);function V({x:Q,y:le}){const{nodeLookup:B,nodeExtent:G,snapGrid:A,snapToGrid:O,nodeOrigin:L,onNodeDrag:$,onSelectionDrag:ee,onError:D,updateNodePositions:Y}=i();c={x:Q,y:le};let P=!1;const te=m.size>1,se=te&&G?Tf(Jr(m)):null,ce=te&&O?W3({dragItems:m,snapGrid:A,x:Q,y:le}):null;for(const[ue,oe]of m){if(!B.has(ue))continue;let de={x:Q-oe.distance.x,y:le-oe.distance.y};O&&(de=ce?{x:Math.round(de.x+ce.x),y:Math.round(de.y+ce.y)}:Pr(de,A));let ve=null;if(te&&G&&!oe.extent&&se){const{positionAbsolute:xe}=oe.internals,Ne=xe.x-se.x+G[0][0],He=xe.x+oe.measured.width-se.x2+G[1][0],je=xe.y-se.y+G[0][1],Pe=xe.y+oe.measured.height-se.y2+G[1][1];ve=[[Ne,je],[He,Pe]]}const{position:be,positionAbsolute:ge}=Wx({nodeId:ue,nextPosition:de,nodeLookup:B,nodeExtent:ve||G,nodeOrigin:L,onError:D});P=P||oe.position.x!==be.x||oe.position.y!==be.y,oe.position=be,oe.internals.positionAbsolute=ge}if(_=_||P,!!P&&(Y(m,!0),T&&(o||$||!U&&ee))){const[ue,oe]=lf({nodeId:U,dragItems:m,nodeLookup:B});o?.(T,m,ue,oe),$?.(T,ue,oe),U||ee?.(T,oe)}}async function J(){if(!x)return;const{transform:Q,panBy:le,autoPanSpeed:B,autoPanOnNodeDrag:G}=i();if(!G){p=!1,cancelAnimationFrame(d);return}const[A,O]=Fx(g,x,B);(A!==0||O!==0)&&(c.x=(c.x??0)-A/Q[2],c.y=(c.y??0)-O/Q[2],await le({x:A,y:O})&&V(c)),d=requestAnimationFrame(J)}function re(Q){const{nodeLookup:le,multiSelectionActive:B,nodesDraggable:G,transform:A,snapGrid:O,snapToGrid:L,selectNodesOnDrag:$,onNodeDragStart:ee,onSelectionDragStart:D,unselectNodesAndEdges:Y}=i();y=!0,(!$||!k)&&!B&&U&&(le.get(U)?.selected||Y()),k&&$&&U&&t?.(U);const P=Tr(Q.sourceEvent,{transform:A,snapGrid:O,snapToGrid:L,containerBounds:x});if(c=P,m=Q3(le,G,P,U),m.size>0&&(l||ee||!U&&D)){const[te,se]=lf({nodeId:U,dragItems:m,nodeLookup:le});l?.(Q.sourceEvent,m,te,se),ee?.(Q.sourceEvent,te,se),U||D?.(Q.sourceEvent,se)}}const K=Cx().clickDistance(R).on("start",Q=>{const{domNode:le,nodeDragThreshold:B,transform:G,snapGrid:A,snapToGrid:O}=i();x=le?.getBoundingClientRect()||null,E=!1,_=!1,T=Q.sourceEvent,B===0&&re(Q),c=Tr(Q.sourceEvent,{transform:G,snapGrid:A,snapToGrid:O,containerBounds:x}),g=on(Q.sourceEvent,x)}).on("drag",Q=>{const{autoPanOnNodeDrag:le,transform:B,snapGrid:G,snapToGrid:A,nodeDragThreshold:O,nodeLookup:L}=i(),$=Tr(Q.sourceEvent,{transform:B,snapGrid:G,snapToGrid:A,containerBounds:x});if(T=Q.sourceEvent,(Q.sourceEvent.type==="touchmove"&&Q.sourceEvent.touches.length>1||U&&!L.has(U))&&(E=!0),!E){if(!p&&le&&y&&(p=!0,J()),!y){const ee=on(Q.sourceEvent,x),D=ee.x-g.x,Y=ee.y-g.y;Math.sqrt(D*D+Y*Y)>O&&re(Q)}(c.x!==$.xSnapped||c.y!==$.ySnapped)&&m&&y&&(g=on(Q.sourceEvent,x),V($))}}).on("end",Q=>{if(!(!y||E)&&(p=!1,y=!1,cancelAnimationFrame(d),m.size>0)){const{nodeLookup:le,updateNodePositions:B,onNodeDragStop:G,onSelectionDragStop:A}=i();if(_&&(B(m,!1),_=!1),s||G||!U&&A){const[O,L]=lf({nodeId:U,dragItems:m,nodeLookup:le,dragging:!1});s?.(Q.sourceEvent,m,O,L),G?.(Q.sourceEvent,O,L),U||A?.(Q.sourceEvent,L)}}}).filter(Q=>{const le=Q.target;return!Q.button&&(!j||!P0(le,`.${j}`,z))&&(!S||P0(le,S,z))});v.call(K)}function N(){v?.on(".drag",null)}return{update:w,destroy:N}}function F3(t,i,l){const o=[],s={x:t.x-l,y:t.y-l,width:l*2,height:l*2};for(const c of i.values())Ur(s,pl(c))>0&&o.push(c);return o}const J3=250;function P3(t,i,l,o){let s=[],c=1/0;const d=F3(t,l,i+J3);for(const m of d){const p=[...m.internals.handleBounds?.source??[],...m.internals.handleBounds?.target??[]];for(const g of p){if(o.nodeId===g.nodeId&&o.type===g.type&&o.id===g.id)continue;const{x,y}=mi(m,g,g.position,!0),v=Math.sqrt(Math.pow(x-t.x,2)+Math.pow(y-t.y,2));v>i||(v<c?(s=[{...g,x,y}],c=v):v===c&&s.push({...g,x,y}))}}if(!s.length)return null;if(s.length>1){const m=o.type==="source"?"target":"source";return s.find(p=>p.type===m)??s[0]}return s[0]}function fv(t,i,l,o,s,c=!1){const d=o.get(t);if(!d)return null;const m=s==="strict"?d.internals.handleBounds?.[i]:[...d.internals.handleBounds?.source??[],...d.internals.handleBounds?.target??[]],p=(l?m?.find(g=>g.id===l):m?.[0])??null;return p&&c?{...p,...mi(d,p,p.position,!0)}:p}function hv(t,i){return t||(i?.classList.contains("target")?"target":i?.classList.contains("source")?"source":null)}function I3(t,i){let l=null;return i?l=!0:t&&!i&&(l=!1),l}const mv=()=>!0;function e5(t,{connectionMode:i,connectionRadius:l,handleId:o,nodeId:s,edgeUpdaterType:c,isTarget:d,domNode:m,nodeLookup:p,lib:g,autoPanOnConnect:x,flowId:y,panBy:v,cancelConnection:E,onConnectStart:_,onConnect:T,onConnectEnd:w,isValidConnection:N=mv,onReconnectEnd:j,updateConnection:S,getTransform:z,getFromHandle:k,autoPanSpeed:U,dragThreshold:R=1,handleDomNode:V}){const J=ev(t.target);let re=0,K;const{x:Q,y:le}=on(t),B=hv(c,V),G=m?.getBoundingClientRect();let A=!1;if(!G||!B)return;const O=fv(s,B,o,p,i);if(!O)return;let L=on(t,G),$=!1,ee=null,D=!1,Y=null;function P(){if(!x||!G)return;const[be,ge]=Fx(L,G,U);v({x:be,y:ge}),re=requestAnimationFrame(P)}const te={...O,nodeId:s,type:B,position:O.position},se=p.get(s);let ue={inProgress:!0,isValid:null,from:mi(se,te,me.Left,!0),fromHandle:te,fromPosition:te.position,fromNode:se,to:L,toHandle:null,toPosition:Y0[te.position],toNode:null,pointer:L};function oe(){A=!0,S(ue),_?.(t,{nodeId:s,handleId:o,handleType:B})}R===0&&oe();function de(be){if(!A){const{x:Pe,y:St}=on(be),pt=Pe-Q,Jt=St-le;if(!(pt*pt+Jt*Jt>R*R))return;oe()}if(!k()||!te){ve(be);return}const ge=z();L=on(be,G),K=P3(Ir(L,ge,!1,[1,1]),l,p,te),$||(P(),$=!0);const xe=gv(be,{handle:K,connectionMode:i,fromNodeId:s,fromHandleId:o,fromType:d?"target":"source",isValidConnection:N,doc:J,lib:g,flowId:y,nodeLookup:p});Y=xe.handleDomNode,ee=xe.connection,D=I3(!!K,xe.isValid);const Ne=p.get(s),He=Ne?mi(Ne,te,me.Left,!0):ue.from,je={...ue,from:He,isValid:D,to:xe.toHandle&&D?ou({x:xe.toHandle.x,y:xe.toHandle.y},ge):L,toHandle:xe.toHandle,toPosition:D&&xe.toHandle?xe.toHandle.position:Y0[te.position],toNode:xe.toHandle?p.get(xe.toHandle.nodeId):null,pointer:L};S(je),ue=je}function ve(be){if(!("touches"in be&&be.touches.length>0)){if(A){(K||Y)&&ee&&D&&T?.(ee);const{inProgress:ge,...xe}=ue,Ne={...xe,toPosition:ue.toHandle?ue.toPosition:null};w?.(be,Ne),c&&j?.(be,Ne)}E(),cancelAnimationFrame(re),$=!1,D=!1,ee=null,Y=null,J.removeEventListener("mousemove",de),J.removeEventListener("mouseup",ve),J.removeEventListener("touchmove",de),J.removeEventListener("touchend",ve)}}J.addEventListener("mousemove",de),J.addEventListener("mouseup",ve),J.addEventListener("touchmove",de),J.addEventListener("touchend",ve)}function gv(t,{handle:i,connectionMode:l,fromNodeId:o,fromHandleId:s,fromType:c,doc:d,lib:m,flowId:p,isValidConnection:g=mv,nodeLookup:x}){const y=c==="target",v=i?d.querySelector(`.${m}-flow__handle[data-id="${p}-${i?.nodeId}-${i?.id}-${i?.type}"]`):null,{x:E,y:_}=on(t),T=d.elementFromPoint(E,_),w=T?.classList.contains(`${m}-flow__handle`)?T:v,N={handleDomNode:w,isValid:!1,connection:null,toHandle:null};if(w){const j=hv(void 0,w),S=w.getAttribute("data-nodeid"),z=w.getAttribute("data-handleid"),k=w.classList.contains("connectable"),U=w.classList.contains("connectableend");if(!S||!j)return N;const R={source:y?S:o,sourceHandle:y?z:s,target:y?o:S,targetHandle:y?s:z};N.connection=R;const J=k&&U&&(l===ml.Strict?y&&j==="source"||!y&&j==="target":S!==o||z!==s);N.isValid=J&&g(R),N.toHandle=fv(S,j,z,x,l,!0)}return N}const Rf={onPointerDown:e5,isValid:gv};function t5({domNode:t,panZoom:i,getTransform:l,getViewScale:o}){const s=Ut(t);function c({translateExtent:m,width:p,height:g,zoomStep:x=1,pannable:y=!0,zoomable:v=!0,inversePan:E=!1}){const _=S=>{if(S.sourceEvent.type!=="wheel"||!i)return;const z=l(),k=S.sourceEvent.ctrlKey&&Yr()?10:1,U=-S.sourceEvent.deltaY*(S.sourceEvent.deltaMode===1?.05:S.sourceEvent.deltaMode?1:.002)*x,R=z[2]*Math.pow(2,U*k);i.scaleTo(R)};let T=[0,0];const w=S=>{(S.sourceEvent.type==="mousedown"||S.sourceEvent.type==="touchstart")&&(T=[S.sourceEvent.clientX??S.sourceEvent.touches[0].clientX,S.sourceEvent.clientY??S.sourceEvent.touches[0].clientY])},N=S=>{const z=l();if(S.sourceEvent.type!=="mousemove"&&S.sourceEvent.type!=="touchmove"||!i)return;const k=[S.sourceEvent.clientX??S.sourceEvent.touches[0].clientX,S.sourceEvent.clientY??S.sourceEvent.touches[0].clientY],U=[k[0]-T[0],k[1]-T[1]];T=k;const R=o()*Math.max(z[2],Math.log(z[2]))*(E?-1:1),V={x:z[0]-U[0]*R,y:z[1]-U[1]*R},J=[[0,0],[p,g]];i.setViewportConstrained({x:V.x,y:V.y,zoom:z[2]},J,m)},j=Vx().on("start",w).on("zoom",y?N:null).on("zoom.wheel",v?_:null);s.call(j,{})}function d(){s.on("zoom",null)}return{update:c,destroy:d,pointer:an}}const wu=t=>({x:t.x,y:t.y,zoom:t.k}),rf=({x:t,y:i,zoom:l})=>xu.translate(t,i).scale(l),rl=(t,i)=>t.target.closest(`.${i}`),pv=(t,i)=>i===2&&Array.isArray(t)&&t.includes(2),n5=t=>((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2,of=(t,i=0,l=n5,o=()=>{})=>{const s=typeof i=="number"&&i>0;return s||o(),s?t.transition().duration(i).ease(l).on("end",o):t},yv=t=>{const i=t.ctrlKey&&Yr()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*i};function a5({zoomPanValues:t,noWheelClassName:i,d3Selection:l,d3Zoom:o,panOnScrollMode:s,panOnScrollSpeed:c,zoomOnPinch:d,onPanZoomStart:m,onPanZoom:p,onPanZoomEnd:g}){return x=>{if(rl(x,i))return x.ctrlKey&&x.preventDefault(),!1;x.preventDefault(),x.stopImmediatePropagation();const y=l.property("__zoom").k||1;if(x.ctrlKey&&d){const w=an(x),N=yv(x),j=y*Math.pow(2,N);o.scaleTo(l,j,w,x);return}const v=x.deltaMode===1?20:1;let E=s===ci.Vertical?0:x.deltaX*v,_=s===ci.Horizontal?0:x.deltaY*v;!Yr()&&x.shiftKey&&s!==ci.Vertical&&(E=x.deltaY*v,_=0),o.translateBy(l,-(E/y)*c,-(_/y)*c,{internal:!0});const T=wu(l.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling?(p?.(x,T),t.panScrollTimeout=setTimeout(()=>{g?.(x,T),t.isPanScrolling=!1},150)):(t.isPanScrolling=!0,m?.(x,T))}}function i5({noWheelClassName:t,preventScrolling:i,d3ZoomHandler:l}){return function(o,s){const c=o.type==="wheel",d=!i&&c&&!o.ctrlKey,m=rl(o,t);if(o.ctrlKey&&c&&m&&o.preventDefault(),d||m)return null;o.preventDefault(),l.call(this,o,s)}}function l5({zoomPanValues:t,onDraggingChange:i,onPanZoomStart:l}){return o=>{if(o.sourceEvent?.internal)return;const s=wu(o.transform);t.mouseButton=o.sourceEvent?.button||0,t.isZoomingOrPanning=!0,t.prevViewport=s,o.sourceEvent?.type==="mousedown"&&i(!0),l&&l?.(o.sourceEvent,s)}}function r5({zoomPanValues:t,panOnDrag:i,onPaneContextMenu:l,onTransformChange:o,onPanZoom:s}){return c=>{t.usedRightMouseButton=!!(l&&pv(i,t.mouseButton??0)),c.sourceEvent?.sync||o([c.transform.x,c.transform.y,c.transform.k]),s&&!c.sourceEvent?.internal&&s?.(c.sourceEvent,wu(c.transform))}}function o5({zoomPanValues:t,panOnDrag:i,panOnScroll:l,onDraggingChange:o,onPanZoomEnd:s,onPaneContextMenu:c}){return d=>{if(!d.sourceEvent?.internal&&(t.isZoomingOrPanning=!1,c&&pv(i,t.mouseButton??0)&&!t.usedRightMouseButton&&d.sourceEvent&&c(d.sourceEvent),t.usedRightMouseButton=!1,o(!1),s)){const m=wu(d.transform);t.prevViewport=m,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{s?.(d.sourceEvent,m)},l?150:0)}}}function s5({zoomActivationKeyPressed:t,zoomOnScroll:i,zoomOnPinch:l,panOnDrag:o,panOnScroll:s,zoomOnDoubleClick:c,userSelectionActive:d,noWheelClassName:m,noPanClassName:p,lib:g,connectionInProgress:x}){return y=>{const v=t||i,E=l&&y.ctrlKey,_=y.type==="wheel";if(y.button===1&&y.type==="mousedown"&&(rl(y,`${g}-flow__node`)||rl(y,`${g}-flow__edge`)))return!0;if(!o&&!v&&!s&&!c&&!l||d||x&&!_||rl(y,m)&&_||rl(y,p)&&(!_||s&&_&&!t)||!l&&y.ctrlKey&&_)return!1;if(!l&&y.type==="touchstart"&&y.touches?.length>1)return y.preventDefault(),!1;if(!v&&!s&&!E&&_||!o&&(y.type==="mousedown"||y.type==="touchstart")||Array.isArray(o)&&!o.includes(y.button)&&y.type==="mousedown")return!1;const T=Array.isArray(o)&&o.includes(y.button)||!y.button||y.button<=1;return(!y.ctrlKey||_)&&T}}function u5({domNode:t,minZoom:i,maxZoom:l,translateExtent:o,viewport:s,onPanZoom:c,onPanZoomStart:d,onPanZoomEnd:m,onDraggingChange:p}){const g={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},x=t.getBoundingClientRect(),y=Vx().scaleExtent([i,l]).translateExtent(o),v=Ut(t).call(y);j({x:s.x,y:s.y,zoom:gl(s.zoom,i,l)},[[0,0],[x.width,x.height]],o);const E=v.on("wheel.zoom"),_=v.on("dblclick.zoom");y.wheelDelta(yv);function T(K,Q){return v?new Promise(le=>{y?.interpolate(Q?.interpolate==="linear"?Mr:Xs).transform(of(v,Q?.duration,Q?.ease,()=>le(!0)),K)}):Promise.resolve(!1)}function w({noWheelClassName:K,noPanClassName:Q,onPaneContextMenu:le,userSelectionActive:B,panOnScroll:G,panOnDrag:A,panOnScrollMode:O,panOnScrollSpeed:L,preventScrolling:$,zoomOnPinch:ee,zoomOnScroll:D,zoomOnDoubleClick:Y,zoomActivationKeyPressed:P,lib:te,onTransformChange:se,connectionInProgress:ce,paneClickDistance:ue,selectionOnDrag:oe}){B&&!g.isZoomingOrPanning&&N();const de=G&&!P&&!B;y.clickDistance(oe?1/0:!rn(ue)||ue<0?0:ue);const ve=de?a5({zoomPanValues:g,noWheelClassName:K,d3Selection:v,d3Zoom:y,panOnScrollMode:O,panOnScrollSpeed:L,zoomOnPinch:ee,onPanZoomStart:d,onPanZoom:c,onPanZoomEnd:m}):i5({noWheelClassName:K,preventScrolling:$,d3ZoomHandler:E});if(v.on("wheel.zoom",ve,{passive:!1}),!B){const ge=l5({zoomPanValues:g,onDraggingChange:p,onPanZoomStart:d});y.on("start",ge);const xe=r5({zoomPanValues:g,panOnDrag:A,onPaneContextMenu:!!le,onPanZoom:c,onTransformChange:se});y.on("zoom",xe);const Ne=o5({zoomPanValues:g,panOnDrag:A,panOnScroll:G,onPaneContextMenu:le,onPanZoomEnd:m,onDraggingChange:p});y.on("end",Ne)}const be=s5({zoomActivationKeyPressed:P,panOnDrag:A,zoomOnScroll:D,panOnScroll:G,zoomOnDoubleClick:Y,zoomOnPinch:ee,userSelectionActive:B,noPanClassName:Q,noWheelClassName:K,lib:te,connectionInProgress:ce});y.filter(be),Y?v.on("dblclick.zoom",_):v.on("dblclick.zoom",null)}function N(){y.on("zoom",null)}async function j(K,Q,le){const B=rf(K),G=y?.constrain()(B,Q,le);return G&&await T(G),new Promise(A=>A(G))}async function S(K,Q){const le=rf(K);return await T(le,Q),new Promise(B=>B(le))}function z(K){if(v){const Q=rf(K),le=v.property("__zoom");(le.k!==K.zoom||le.x!==K.x||le.y!==K.y)&&y?.transform(v,Q,null,{sync:!0})}}function k(){const K=v?qx(v.node()):{x:0,y:0,k:1};return{x:K.x,y:K.y,zoom:K.k}}function U(K,Q){return v?new Promise(le=>{y?.interpolate(Q?.interpolate==="linear"?Mr:Xs).scaleTo(of(v,Q?.duration,Q?.ease,()=>le(!0)),K)}):Promise.resolve(!1)}function R(K,Q){return v?new Promise(le=>{y?.interpolate(Q?.interpolate==="linear"?Mr:Xs).scaleBy(of(v,Q?.duration,Q?.ease,()=>le(!0)),K)}):Promise.resolve(!1)}function V(K){y?.scaleExtent(K)}function J(K){y?.translateExtent(K)}function re(K){const Q=!rn(K)||K<0?0:K;y?.clickDistance(Q)}return{update:w,destroy:N,setViewport:S,setViewportConstrained:j,getViewport:k,scaleTo:U,scaleBy:R,setScaleExtent:V,setTranslateExtent:J,syncViewport:z,setClickDistance:re}}var xl;(function(t){t.Line="line",t.Handle="handle"})(xl||(xl={}));function c5({width:t,prevWidth:i,height:l,prevHeight:o,affectsX:s,affectsY:c}){const d=t-i,m=l-o,p=[d>0?1:d<0?-1:0,m>0?1:m<0?-1:0];return d&&s&&(p[0]=p[0]*-1),m&&c&&(p[1]=p[1]*-1),p}function I0(t){const i=t.includes("right")||t.includes("left"),l=t.includes("bottom")||t.includes("top"),o=t.includes("left"),s=t.includes("top");return{isHorizontal:i,isVertical:l,affectsX:o,affectsY:s}}function Ta(t,i){return Math.max(0,i-t)}function za(t,i){return Math.max(0,t-i)}function Hs(t,i,l){return Math.max(0,i-t,t-l)}function ey(t,i){return t?!i:i}function d5(t,i,l,o,s,c,d,m){let{affectsX:p,affectsY:g}=i;const{isHorizontal:x,isVertical:y}=i,v=x&&y,{xSnapped:E,ySnapped:_}=l,{minWidth:T,maxWidth:w,minHeight:N,maxHeight:j}=o,{x:S,y:z,width:k,height:U,aspectRatio:R}=t;let V=Math.floor(x?E-t.pointerX:0),J=Math.floor(y?_-t.pointerY:0);const re=k+(p?-V:V),K=U+(g?-J:J),Q=-c[0]*k,le=-c[1]*U;let B=Hs(re,T,w),G=Hs(K,N,j);if(d){let L=0,$=0;p&&V<0?L=Ta(S+V+Q,d[0][0]):!p&&V>0&&(L=za(S+re+Q,d[1][0])),g&&J<0?$=Ta(z+J+le,d[0][1]):!g&&J>0&&($=za(z+K+le,d[1][1])),B=Math.max(B,L),G=Math.max(G,$)}if(m){let L=0,$=0;p&&V>0?L=za(S+V,m[0][0]):!p&&V<0&&(L=Ta(S+re,m[1][0])),g&&J>0?$=za(z+J,m[0][1]):!g&&J<0&&($=Ta(z+K,m[1][1])),B=Math.max(B,L),G=Math.max(G,$)}if(s){if(x){const L=Hs(re/R,N,j)*R;if(B=Math.max(B,L),d){let $=0;!p&&!g||p&&!g&&v?$=za(z+le+re/R,d[1][1])*R:$=Ta(z+le+(p?V:-V)/R,d[0][1])*R,B=Math.max(B,$)}if(m){let $=0;!p&&!g||p&&!g&&v?$=Ta(z+re/R,m[1][1])*R:$=za(z+(p?V:-V)/R,m[0][1])*R,B=Math.max(B,$)}}if(y){const L=Hs(K*R,T,w)/R;if(G=Math.max(G,L),d){let $=0;!p&&!g||g&&!p&&v?$=za(S+K*R+Q,d[1][0])/R:$=Ta(S+(g?J:-J)*R+Q,d[0][0])/R,G=Math.max(G,$)}if(m){let $=0;!p&&!g||g&&!p&&v?$=Ta(S+K*R,m[1][0])/R:$=za(S+(g?J:-J)*R,m[0][0])/R,G=Math.max(G,$)}}}J=J+(J<0?G:-G),V=V+(V<0?B:-B),s&&(v?re>K*R?J=(ey(p,g)?-V:V)/R:V=(ey(p,g)?-J:J)*R:x?(J=V/R,g=p):(V=J*R,p=g));const A=p?S+V:S,O=g?z+J:z;return{width:k+(p?-V:V),height:U+(g?-J:J),x:c[0]*V*(p?-1:1)+A,y:c[1]*J*(g?-1:1)+O}}const xv={width:0,height:0,x:0,y:0},f5={...xv,pointerX:0,pointerY:0,aspectRatio:1};function h5(t){return[[0,0],[t.measured.width,t.measured.height]]}function m5(t,i,l){const o=i.position.x+t.position.x,s=i.position.y+t.position.y,c=t.measured.width??0,d=t.measured.height??0,m=l[0]*c,p=l[1]*d;return[[o-m,s-p],[o+c-m,s+d-p]]}function g5({domNode:t,nodeId:i,getStoreItems:l,onChange:o,onEnd:s}){const c=Ut(t);let d={controlDirection:I0("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function m({controlPosition:g,boundaries:x,keepAspectRatio:y,resizeDirection:v,onResizeStart:E,onResize:_,onResizeEnd:T,shouldResize:w}){let N={...xv},j={...f5};d={boundaries:x,resizeDirection:v,keepAspectRatio:y,controlDirection:I0(g)};let S,z=null,k=[],U,R,V,J=!1;const re=Cx().on("start",K=>{const{nodeLookup:Q,transform:le,snapGrid:B,snapToGrid:G,nodeOrigin:A,paneDomNode:O}=l();if(S=Q.get(i),!S)return;z=O?.getBoundingClientRect()??null;const{xSnapped:L,ySnapped:$}=Tr(K.sourceEvent,{transform:le,snapGrid:B,snapToGrid:G,containerBounds:z});N={width:S.measured.width??0,height:S.measured.height??0,x:S.position.x??0,y:S.position.y??0},j={...N,pointerX:L,pointerY:$,aspectRatio:N.width/N.height},U=void 0,S.parentId&&(S.extent==="parent"||S.expandParent)&&(U=Q.get(S.parentId),R=U&&S.extent==="parent"?h5(U):void 0),k=[],V=void 0;for(const[ee,D]of Q)if(D.parentId===i&&(k.push({id:ee,position:{...D.position},extent:D.extent}),D.extent==="parent"||D.expandParent)){const Y=m5(D,S,D.origin??A);V?V=[[Math.min(Y[0][0],V[0][0]),Math.min(Y[0][1],V[0][1])],[Math.max(Y[1][0],V[1][0]),Math.max(Y[1][1],V[1][1])]]:V=Y}E?.(K,{...N})}).on("drag",K=>{const{transform:Q,snapGrid:le,snapToGrid:B,nodeOrigin:G}=l(),A=Tr(K.sourceEvent,{transform:Q,snapGrid:le,snapToGrid:B,containerBounds:z}),O=[];if(!S)return;const{x:L,y:$,width:ee,height:D}=N,Y={},P=S.origin??G,{width:te,height:se,x:ce,y:ue}=d5(j,d.controlDirection,A,d.boundaries,d.keepAspectRatio,P,R,V),oe=te!==ee,de=se!==D,ve=ce!==L&&oe,be=ue!==$&&de;if(!ve&&!be&&!oe&&!de)return;if((ve||be||P[0]===1||P[1]===1)&&(Y.x=ve?ce:N.x,Y.y=be?ue:N.y,N.x=Y.x,N.y=Y.y,k.length>0)){const He=ce-L,je=ue-$;for(const Pe of k)Pe.position={x:Pe.position.x-He+P[0]*(te-ee),y:Pe.position.y-je+P[1]*(se-D)},O.push(Pe)}if((oe||de)&&(Y.width=oe&&(!d.resizeDirection||d.resizeDirection==="horizontal")?te:N.width,Y.height=de&&(!d.resizeDirection||d.resizeDirection==="vertical")?se:N.height,N.width=Y.width,N.height=Y.height),U&&S.expandParent){const He=P[0]*(Y.width??0);Y.x&&Y.x<He&&(N.x=He,j.x=j.x-(Y.x-He));const je=P[1]*(Y.height??0);Y.y&&Y.y<je&&(N.y=je,j.y=j.y-(Y.y-je))}const ge=c5({width:N.width,prevWidth:ee,height:N.height,prevHeight:D,affectsX:d.controlDirection.affectsX,affectsY:d.controlDirection.affectsY}),xe={...N,direction:ge};w?.(K,xe)!==!1&&(J=!0,_?.(K,xe),o(Y,O))}).on("end",K=>{J&&(T?.(K,{...N}),s?.({...N}),J=!1)});c.call(re)}function p(){c.on(".drag",null)}return{update:m,destroy:p}}var sf={exports:{}},uf={},cf={exports:{}},df={};var ty;function p5(){if(ty)return df;ty=1;var t=Vr();function i(y,v){return y===v&&(y!==0||1/y===1/v)||y!==y&&v!==v}var l=typeof Object.is=="function"?Object.is:i,o=t.useState,s=t.useEffect,c=t.useLayoutEffect,d=t.useDebugValue;function m(y,v){var E=v(),_=o({inst:{value:E,getSnapshot:v}}),T=_[0].inst,w=_[1];return c(function(){T.value=E,T.getSnapshot=v,p(T)&&w({inst:T})},[y,E,v]),s(function(){return p(T)&&w({inst:T}),y(function(){p(T)&&w({inst:T})})},[y]),d(E),E}function p(y){var v=y.getSnapshot;y=y.value;try{var E=v();return!l(y,E)}catch{return!0}}function g(y,v){return v()}var x=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:m;return df.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:x,df}var ny;function y5(){return ny||(ny=1,cf.exports=p5()),cf.exports}var ay;function x5(){if(ay)return uf;ay=1;var t=Vr(),i=y5();function l(g,x){return g===x&&(g!==0||1/g===1/x)||g!==g&&x!==x}var o=typeof Object.is=="function"?Object.is:l,s=i.useSyncExternalStore,c=t.useRef,d=t.useEffect,m=t.useMemo,p=t.useDebugValue;return uf.useSyncExternalStoreWithSelector=function(g,x,y,v,E){var _=c(null);if(_.current===null){var T={hasValue:!1,value:null};_.current=T}else T=_.current;_=m(function(){function N(U){if(!j){if(j=!0,S=U,U=v(U),E!==void 0&&T.hasValue){var R=T.value;if(E(R,U))return z=R}return z=U}if(R=z,o(S,U))return R;var V=v(U);return E!==void 0&&E(R,V)?(S=U,R):(S=U,z=V)}var j=!1,S,z,k=y===void 0?null:y;return[function(){return N(x())},k===null?void 0:function(){return N(k())}]},[x,y,v,E]);var w=s(g,_[0],_[1]);return d(function(){T.hasValue=!0,T.value=w},[w]),p(w),w},uf}var iy;function v5(){return iy||(iy=1,sf.exports=x5()),sf.exports}var b5=v5();const w5=Hf(b5),S5={},ly=t=>{let i;const l=new Set,o=(x,y)=>{const v=typeof x=="function"?x(i):x;if(!Object.is(v,i)){const E=i;i=y??(typeof v!="object"||v===null)?v:Object.assign({},i,v),l.forEach(_=>_(i,E))}},s=()=>i,p={setState:o,getState:s,getInitialState:()=>g,subscribe:x=>(l.add(x),()=>l.delete(x)),destroy:()=>{(S5?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),l.clear()}},g=i=t(o,s,p);return p},E5=t=>t?ly(t):ly,{useDebugValue:N5}=ll,{useSyncExternalStoreWithSelector:j5}=w5,_5=t=>t;function vv(t,i=_5,l){const o=j5(t.subscribe,t.getState,t.getServerState||t.getInitialState,i,l);return N5(o),o}const ry=(t,i)=>{const l=E5(t),o=(s,c=i)=>vv(l,s,c);return Object.assign(o,l),o},C5=(t,i)=>t?ry(t,i):ry;function Qe(t,i){if(Object.is(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;if(t instanceof Map&&i instanceof Map){if(t.size!==i.size)return!1;for(const[o,s]of t)if(!Object.is(s,i.get(o)))return!1;return!0}if(t instanceof Set&&i instanceof Set){if(t.size!==i.size)return!1;for(const o of t)if(!i.has(o))return!1;return!0}const l=Object.keys(t);if(l.length!==Object.keys(i).length)return!1;for(const o of l)if(!Object.prototype.hasOwnProperty.call(i,o)||!Object.is(t[o],i[o]))return!1;return!0}const Su=M.createContext(null),M5=Su.Provider,bv=bn.error001();function Ae(t,i){const l=M.useContext(Su);if(l===null)throw new Error(bv);return vv(l,t,i)}function Ke(){const t=M.useContext(Su);if(t===null)throw new Error(bv);return M.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe}),[t])}const oy={display:"none"},T5={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},wv="react-flow__node-desc",Sv="react-flow__edge-desc",z5="react-flow__aria-live",A5=t=>t.ariaLiveMessage,D5=t=>t.ariaLabelConfig;function R5({rfId:t}){const i=Ae(A5);return f.jsx("div",{id:`${z5}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:T5,children:i})}function O5({rfId:t,disableKeyboardA11y:i}){const l=Ae(D5);return f.jsxs(f.Fragment,{children:[f.jsx("div",{id:`${wv}-${t}`,style:oy,children:i?l["node.a11yDescription.default"]:l["node.a11yDescription.keyboardDisabled"]}),f.jsx("div",{id:`${Sv}-${t}`,style:oy,children:l["edge.a11yDescription.default"]}),!i&&f.jsx(R5,{rfId:t})]})}const Eu=M.forwardRef(({position:t="top-left",children:i,className:l,style:o,...s},c)=>{const d=`${t}`.split("-");return f.jsx("div",{className:rt(["react-flow__panel",l,...d]),style:o,ref:c,...s,children:i})});Eu.displayName="Panel";function H5({proOptions:t,position:i="bottom-right"}){return t?.hideAttribution?null:f.jsx(Eu,{position:i,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:f.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const k5=t=>{const i=[],l=[];for(const[,o]of t.nodeLookup)o.selected&&i.push(o.internals.userNode);for(const[,o]of t.edgeLookup)o.selected&&l.push(o);return{selectedNodes:i,selectedEdges:l}},ks=t=>t.id;function B5(t,i){return Qe(t.selectedNodes.map(ks),i.selectedNodes.map(ks))&&Qe(t.selectedEdges.map(ks),i.selectedEdges.map(ks))}function L5({onSelectionChange:t}){const i=Ke(),{selectedNodes:l,selectedEdges:o}=Ae(k5,B5);return M.useEffect(()=>{const s={nodes:l,edges:o};t?.(s),i.getState().onSelectionChangeHandlers.forEach(c=>c(s))},[l,o,t]),null}const U5=t=>!!t.onSelectionChangeHandlers;function Y5({onSelectionChange:t}){const i=Ae(U5);return t||i?f.jsx(L5,{onSelectionChange:t}):null}const Ev=[0,0],q5={x:0,y:0,zoom:1},V5=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],sy=[...V5,"rfId"],$5=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges}),uy={translateExtent:Br,nodeOrigin:Ev,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function X5(t){const{setNodes:i,setEdges:l,setMinZoom:o,setMaxZoom:s,setTranslateExtent:c,setNodeExtent:d,reset:m,setDefaultNodesAndEdges:p}=Ae($5,Qe),g=Ke();M.useEffect(()=>(p(t.defaultNodes,t.defaultEdges),()=>{x.current=uy,m()}),[]);const x=M.useRef(uy);return M.useEffect(()=>{for(const y of sy){const v=t[y],E=x.current[y];v!==E&&(typeof t[y]>"u"||(y==="nodes"?i(v):y==="edges"?l(v):y==="minZoom"?o(v):y==="maxZoom"?s(v):y==="translateExtent"?c(v):y==="nodeExtent"?d(v):y==="ariaLabelConfig"?g.setState({ariaLabelConfig:M3(v)}):y==="fitView"?g.setState({fitViewQueued:v}):y==="fitViewOptions"?g.setState({fitViewOptions:v}):g.setState({[y]:v})))}x.current=t},sy.map(y=>t[y])),null}function cy(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function G5(t){const[i,l]=M.useState(t==="system"?null:t);return M.useEffect(()=>{if(t!=="system"){l(t);return}const o=cy(),s=()=>l(o?.matches?"dark":"light");return s(),o?.addEventListener("change",s),()=>{o?.removeEventListener("change",s)}},[t]),i!==null?i:cy()?.matches?"dark":"light"}const dy=typeof document<"u"?document:null;function qr(t=null,i={target:dy,actInsideInputWithModifier:!0}){const[l,o]=M.useState(!1),s=M.useRef(!1),c=M.useRef(new Set([])),[d,m]=M.useMemo(()=>{if(t!==null){const g=(Array.isArray(t)?t:[t]).filter(y=>typeof y=="string").map(y=>y.replace("+",`
`).replace(`

`,`
+`).split(`
`)),x=g.reduce((y,v)=>y.concat(...v),[]);return[g,x]}return[[],[]]},[t]);return M.useEffect(()=>{const p=i?.target??dy,g=i?.actInsideInputWithModifier??!0;if(t!==null){const x=E=>{if(s.current=E.ctrlKey||E.metaKey||E.shiftKey||E.altKey,(!s.current||s.current&&!g)&&tv(E))return!1;const T=hy(E.code,m);if(c.current.add(E[T]),fy(d,c.current,!1)){const w=E.composedPath?.()?.[0]||E.target,N=w?.nodeName==="BUTTON"||w?.nodeName==="A";i.preventDefault!==!1&&(s.current||!N)&&E.preventDefault(),o(!0)}},y=E=>{const _=hy(E.code,m);fy(d,c.current,!0)?(o(!1),c.current.clear()):c.current.delete(E[_]),E.key==="Meta"&&c.current.clear(),s.current=!1},v=()=>{c.current.clear(),o(!1)};return p?.addEventListener("keydown",x),p?.addEventListener("keyup",y),window.addEventListener("blur",v),window.addEventListener("contextmenu",v),()=>{p?.removeEventListener("keydown",x),p?.removeEventListener("keyup",y),window.removeEventListener("blur",v),window.removeEventListener("contextmenu",v)}}},[t,o]),l}function fy(t,i,l){return t.filter(o=>l||o.length===i.size).some(o=>o.every(s=>i.has(s)))}function hy(t,i){return i.includes(t)?"code":"key"}const Z5=()=>{const t=Ke();return M.useMemo(()=>({zoomIn:i=>{const{panZoom:l}=t.getState();return l?l.scaleBy(1.2,{duration:i?.duration}):Promise.resolve(!1)},zoomOut:i=>{const{panZoom:l}=t.getState();return l?l.scaleBy(1/1.2,{duration:i?.duration}):Promise.resolve(!1)},zoomTo:(i,l)=>{const{panZoom:o}=t.getState();return o?o.scaleTo(i,{duration:l?.duration}):Promise.resolve(!1)},getZoom:()=>t.getState().transform[2],setViewport:async(i,l)=>{const{transform:[o,s,c],panZoom:d}=t.getState();return d?(await d.setViewport({x:i.x??o,y:i.y??s,zoom:i.zoom??c},l),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[i,l,o]=t.getState().transform;return{x:i,y:l,zoom:o}},setCenter:async(i,l,o)=>t.getState().setCenter(i,l,o),fitBounds:async(i,l)=>{const{width:o,height:s,minZoom:c,maxZoom:d,panZoom:m}=t.getState(),p=ah(i,o,s,c,d,l?.padding??.1);return m?(await m.setViewport(p,{duration:l?.duration,ease:l?.ease,interpolate:l?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(i,l={})=>{const{transform:o,snapGrid:s,snapToGrid:c,domNode:d}=t.getState();if(!d)return i;const{x:m,y:p}=d.getBoundingClientRect(),g={x:i.x-m,y:i.y-p},x=l.snapGrid??s,y=l.snapToGrid??c;return Ir(g,o,y,x)},flowToScreenPosition:i=>{const{transform:l,domNode:o}=t.getState();if(!o)return i;const{x:s,y:c}=o.getBoundingClientRect(),d=ou(i,l);return{x:d.x+s,y:d.y+c}}}),[])};function Nv(t,i){const l=[],o=new Map,s=[];for(const c of t)if(c.type==="add"){s.push(c);continue}else if(c.type==="remove"||c.type==="replace")o.set(c.id,[c]);else{const d=o.get(c.id);d?d.push(c):o.set(c.id,[c])}for(const c of i){const d=o.get(c.id);if(!d){l.push(c);continue}if(d[0].type==="remove")continue;if(d[0].type==="replace"){l.push({...d[0].item});continue}const m={...c};for(const p of d)Q5(p,m);l.push(m)}return s.length&&s.forEach(c=>{c.index!==void 0?l.splice(c.index,0,{...c.item}):l.push({...c.item})}),l}function Q5(t,i){switch(t.type){case"select":{i.selected=t.selected;break}case"position":{typeof t.position<"u"&&(i.position=t.position),typeof t.dragging<"u"&&(i.dragging=t.dragging);break}case"dimensions":{typeof t.dimensions<"u"&&(i.measured={...t.dimensions},t.setAttributes&&((t.setAttributes===!0||t.setAttributes==="width")&&(i.width=t.dimensions.width),(t.setAttributes===!0||t.setAttributes==="height")&&(i.height=t.dimensions.height))),typeof t.resizing=="boolean"&&(i.resizing=t.resizing);break}}}function jv(t,i){return Nv(t,i)}function _v(t,i){return Nv(t,i)}function ri(t,i){return{id:t,type:"select",selected:i}}function ol(t,i=new Set,l=!1){const o=[];for(const[s,c]of t){const d=i.has(s);!(c.selected===void 0&&!d)&&c.selected!==d&&(l&&(c.selected=d),o.push(ri(c.id,d)))}return o}function my({items:t=[],lookup:i}){const l=[],o=new Map(t.map(s=>[s.id,s]));for(const[s,c]of t.entries()){const d=i.get(c.id),m=d?.internals?.userNode??d;m!==void 0&&m!==c&&l.push({id:c.id,item:c,type:"replace"}),m===void 0&&l.push({item:c,type:"add",index:s})}for(const[s]of i)o.get(s)===void 0&&l.push({id:s,type:"remove"});return l}function gy(t){return{id:t.id,type:"remove"}}const py=t=>x3(t),W5=t=>Qx(t);function Cv(t){return M.forwardRef(t)}const K5=typeof window<"u"?M.useLayoutEffect:M.useEffect;function yy(t){const[i,l]=M.useState(BigInt(0)),[o]=M.useState(()=>F5(()=>l(s=>s+BigInt(1))));return K5(()=>{const s=o.get();s.length&&(t(s),o.reset())},[i]),o}function F5(t){let i=[];return{get:()=>i,reset:()=>{i=[]},push:l=>{i.push(l),t()}}}const Mv=M.createContext(null);function J5({children:t}){const i=Ke(),l=M.useCallback(m=>{const{nodes:p=[],setNodes:g,hasDefaultNodes:x,onNodesChange:y,nodeLookup:v,fitViewQueued:E,onNodesChangeMiddlewareMap:_}=i.getState();let T=p;for(const N of m)T=typeof N=="function"?N(T):N;let w=my({items:T,lookup:v});for(const N of _.values())w=N(w);x&&g(T),w.length>0?y?.(w):E&&window.requestAnimationFrame(()=>{const{fitViewQueued:N,nodes:j,setNodes:S}=i.getState();N&&S(j)})},[]),o=yy(l),s=M.useCallback(m=>{const{edges:p=[],setEdges:g,hasDefaultEdges:x,onEdgesChange:y,edgeLookup:v}=i.getState();let E=p;for(const _ of m)E=typeof _=="function"?_(E):_;x?g(E):y&&y(my({items:E,lookup:v}))},[]),c=yy(s),d=M.useMemo(()=>({nodeQueue:o,edgeQueue:c}),[]);return f.jsx(Mv.Provider,{value:d,children:t})}function P5(){const t=M.useContext(Mv);if(!t)throw new Error("useBatchContext must be used within a BatchProvider");return t}const I5=t=>!!t.panZoom;function ch(){const t=Z5(),i=Ke(),l=P5(),o=Ae(I5),s=M.useMemo(()=>{const c=y=>i.getState().nodeLookup.get(y),d=y=>{l.nodeQueue.push(y)},m=y=>{l.edgeQueue.push(y)},p=y=>{const{nodeLookup:v,nodeOrigin:E}=i.getState(),_=py(y)?y:v.get(y.id),T=_.parentId?Ix(_.position,_.measured,_.parentId,v,E):_.position,w={..._,position:T,width:_.measured?.width??_.width,height:_.measured?.height??_.height};return pl(w)},g=(y,v,E={replace:!1})=>{d(_=>_.map(T=>{if(T.id===y){const w=typeof v=="function"?v(T):v;return E.replace&&py(w)?w:{...T,...w}}return T}))},x=(y,v,E={replace:!1})=>{m(_=>_.map(T=>{if(T.id===y){const w=typeof v=="function"?v(T):v;return E.replace&&W5(w)?w:{...T,...w}}return T}))};return{getNodes:()=>i.getState().nodes.map(y=>({...y})),getNode:y=>c(y)?.internals.userNode,getInternalNode:c,getEdges:()=>{const{edges:y=[]}=i.getState();return y.map(v=>({...v}))},getEdge:y=>i.getState().edgeLookup.get(y),setNodes:d,setEdges:m,addNodes:y=>{const v=Array.isArray(y)?y:[y];l.nodeQueue.push(E=>[...E,...v])},addEdges:y=>{const v=Array.isArray(y)?y:[y];l.edgeQueue.push(E=>[...E,...v])},toObject:()=>{const{nodes:y=[],edges:v=[],transform:E}=i.getState(),[_,T,w]=E;return{nodes:y.map(N=>({...N})),edges:v.map(N=>({...N})),viewport:{x:_,y:T,zoom:w}}},deleteElements:async({nodes:y=[],edges:v=[]})=>{const{nodes:E,edges:_,onNodesDelete:T,onEdgesDelete:w,triggerNodeChanges:N,triggerEdgeChanges:j,onDelete:S,onBeforeDelete:z}=i.getState(),{nodes:k,edges:U}=await E3({nodesToRemove:y,edgesToRemove:v,nodes:E,edges:_,onBeforeDelete:z}),R=U.length>0,V=k.length>0;if(R){const J=U.map(gy);w?.(U),j(J)}if(V){const J=k.map(gy);T?.(k),N(J)}return(V||R)&&S?.({nodes:k,edges:U}),{deletedNodes:k,deletedEdges:U}},getIntersectingNodes:(y,v=!0,E)=>{const _=V0(y),T=_?y:p(y),w=E!==void 0;return T?(E||i.getState().nodes).filter(N=>{const j=i.getState().nodeLookup.get(N.id);if(j&&!_&&(N.id===y.id||!j.internals.positionAbsolute))return!1;const S=pl(w?N:j),z=Ur(S,T);return v&&z>0||z>=S.width*S.height||z>=T.width*T.height}):[]},isNodeIntersecting:(y,v,E=!0)=>{const T=V0(y)?y:p(y);if(!T)return!1;const w=Ur(T,v);return E&&w>0||w>=v.width*v.height||w>=T.width*T.height},updateNode:g,updateNodeData:(y,v,E={replace:!1})=>{g(y,_=>{const T=typeof v=="function"?v(_):v;return E.replace?{..._,data:T}:{..._,data:{..._.data,...T}}},E)},updateEdge:x,updateEdgeData:(y,v,E={replace:!1})=>{x(y,_=>{const T=typeof v=="function"?v(_):v;return E.replace?{..._,data:T}:{..._,data:{..._.data,...T}}},E)},getNodesBounds:y=>{const{nodeLookup:v,nodeOrigin:E}=i.getState();return v3(y,{nodeLookup:v,nodeOrigin:E})},getHandleConnections:({type:y,id:v,nodeId:E})=>Array.from(i.getState().connectionLookup.get(`${E}-${y}${v?`-${v}`:""}`)?.values()??[]),getNodeConnections:({type:y,handleId:v,nodeId:E})=>Array.from(i.getState().connectionLookup.get(`${E}${y?v?`-${y}-${v}`:`-${y}`:""}`)?.values()??[]),fitView:async y=>{const v=i.getState().fitViewResolver??C3();return i.setState({fitViewQueued:!0,fitViewOptions:y,fitViewResolver:v}),l.nodeQueue.push(E=>[...E]),v.promise}}},[]);return M.useMemo(()=>({...s,...t,viewportInitialized:o}),[o])}const xy=t=>t.selected,eC=typeof window<"u"?window:void 0;function tC({deleteKeyCode:t,multiSelectionKeyCode:i}){const l=Ke(),{deleteElements:o}=ch(),s=qr(t,{actInsideInputWithModifier:!1}),c=qr(i,{target:eC});M.useEffect(()=>{if(s){const{edges:d,nodes:m}=l.getState();o({nodes:m.filter(xy),edges:d.filter(xy)}),l.setState({nodesSelectionActive:!1})}},[s]),M.useEffect(()=>{l.setState({multiSelectionActive:c})},[c])}function nC(t){const i=Ke();M.useEffect(()=>{const l=()=>{if(!t.current||!(t.current.checkVisibility?.()??!0))return!1;const o=ih(t.current);(o.height===0||o.width===0)&&i.getState().onError?.("004",bn.error004()),i.setState({width:o.width||500,height:o.height||500})};if(t.current){l(),window.addEventListener("resize",l);const o=new ResizeObserver(()=>l());return o.observe(t.current),()=>{window.removeEventListener("resize",l),o&&t.current&&o.unobserve(t.current)}}},[])}const Nu={position:"absolute",width:"100%",height:"100%",top:0,left:0},aC=t=>({userSelectionActive:t.userSelectionActive,lib:t.lib,connectionInProgress:t.connection.inProgress});function iC({onPaneContextMenu:t,zoomOnScroll:i=!0,zoomOnPinch:l=!0,panOnScroll:o=!1,panOnScrollSpeed:s=.5,panOnScrollMode:c=ci.Free,zoomOnDoubleClick:d=!0,panOnDrag:m=!0,defaultViewport:p,translateExtent:g,minZoom:x,maxZoom:y,zoomActivationKeyCode:v,preventScrolling:E=!0,children:_,noWheelClassName:T,noPanClassName:w,onViewportChange:N,isControlledViewport:j,paneClickDistance:S,selectionOnDrag:z}){const k=Ke(),U=M.useRef(null),{userSelectionActive:R,lib:V,connectionInProgress:J}=Ae(aC,Qe),re=qr(v),K=M.useRef();nC(U);const Q=M.useCallback(le=>{N?.({x:le[0],y:le[1],zoom:le[2]}),j||k.setState({transform:le})},[N,j]);return M.useEffect(()=>{if(U.current){K.current=u5({domNode:U.current,minZoom:x,maxZoom:y,translateExtent:g,viewport:p,onDraggingChange:A=>k.setState({paneDragging:A}),onPanZoomStart:(A,O)=>{const{onViewportChangeStart:L,onMoveStart:$}=k.getState();$?.(A,O),L?.(O)},onPanZoom:(A,O)=>{const{onViewportChange:L,onMove:$}=k.getState();$?.(A,O),L?.(O)},onPanZoomEnd:(A,O)=>{const{onViewportChangeEnd:L,onMoveEnd:$}=k.getState();$?.(A,O),L?.(O)}});const{x:le,y:B,zoom:G}=K.current.getViewport();return k.setState({panZoom:K.current,transform:[le,B,G],domNode:U.current.closest(".react-flow")}),()=>{K.current?.destroy()}}},[]),M.useEffect(()=>{K.current?.update({onPaneContextMenu:t,zoomOnScroll:i,zoomOnPinch:l,panOnScroll:o,panOnScrollSpeed:s,panOnScrollMode:c,zoomOnDoubleClick:d,panOnDrag:m,zoomActivationKeyPressed:re,preventScrolling:E,noPanClassName:w,userSelectionActive:R,noWheelClassName:T,lib:V,onTransformChange:Q,connectionInProgress:J,selectionOnDrag:z,paneClickDistance:S})},[t,i,l,o,s,c,d,m,re,E,w,R,T,V,Q,J,z,S]),f.jsx("div",{className:"react-flow__renderer",ref:U,style:Nu,children:_})}const lC=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function rC(){const{userSelectionActive:t,userSelectionRect:i}=Ae(lC,Qe);return t&&i?f.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:i.width,height:i.height,transform:`translate(${i.x}px, ${i.y}px)`}}):null}const ff=(t,i)=>l=>{l.target===i.current&&t?.(l)},oC=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,connectionInProgress:t.connection.inProgress,dragging:t.paneDragging});function sC({isSelecting:t,selectionKeyPressed:i,selectionMode:l=Lr.Full,panOnDrag:o,paneClickDistance:s,selectionOnDrag:c,onSelectionStart:d,onSelectionEnd:m,onPaneClick:p,onPaneContextMenu:g,onPaneScroll:x,onPaneMouseEnter:y,onPaneMouseMove:v,onPaneMouseLeave:E,children:_}){const T=Ke(),{userSelectionActive:w,elementsSelectable:N,dragging:j,connectionInProgress:S}=Ae(oC,Qe),z=N&&(t||w),k=M.useRef(null),U=M.useRef(),R=M.useRef(new Set),V=M.useRef(new Set),J=M.useRef(!1),re=L=>{if(J.current||S){J.current=!1;return}p?.(L),T.getState().resetSelectedElements(),T.setState({nodesSelectionActive:!1})},K=L=>{if(Array.isArray(o)&&o?.includes(2)){L.preventDefault();return}g?.(L)},Q=x?L=>x(L):void 0,le=L=>{J.current&&(L.stopPropagation(),J.current=!1)},B=L=>{const{domNode:$}=T.getState();if(U.current=$?.getBoundingClientRect(),!U.current)return;const ee=L.target===k.current;if(!ee&&!!L.target.closest(".nokey")||!t||!(c&&ee||i)||L.button!==0||!L.isPrimary)return;L.target?.setPointerCapture?.(L.pointerId),J.current=!1;const{x:P,y:te}=on(L.nativeEvent,U.current);T.setState({userSelectionRect:{width:0,height:0,startX:P,startY:te,x:P,y:te}}),ee||(L.stopPropagation(),L.preventDefault())},G=L=>{const{userSelectionRect:$,transform:ee,nodeLookup:D,edgeLookup:Y,connectionLookup:P,triggerNodeChanges:te,triggerEdgeChanges:se,defaultEdgeOptions:ce,resetSelectedElements:ue}=T.getState();if(!U.current||!$)return;const{x:oe,y:de}=on(L.nativeEvent,U.current),{startX:ve,startY:be}=$;if(!J.current){const je=i?0:s;if(Math.hypot(oe-ve,de-be)<=je)return;ue(),d?.(L)}J.current=!0;const ge={startX:ve,startY:be,x:oe<ve?oe:ve,y:de<be?de:be,width:Math.abs(oe-ve),height:Math.abs(de-be)},xe=R.current,Ne=V.current;R.current=new Set(nh(D,ge,ee,l===Lr.Partial,!0).map(je=>je.id)),V.current=new Set;const He=ce?.selectable??!0;for(const je of R.current){const Pe=P.get(je);if(Pe)for(const{edgeId:St}of Pe.values()){const pt=Y.get(St);pt&&(pt.selectable??He)&&V.current.add(St)}}if(!$0(xe,R.current)){const je=ol(D,R.current,!0);te(je)}if(!$0(Ne,V.current)){const je=ol(Y,V.current);se(je)}T.setState({userSelectionRect:ge,userSelectionActive:!0,nodesSelectionActive:!1})},A=L=>{L.button===0&&(L.target?.releasePointerCapture?.(L.pointerId),!w&&L.target===k.current&&T.getState().userSelectionRect&&re?.(L),T.setState({userSelectionActive:!1,userSelectionRect:null}),J.current&&(m?.(L),T.setState({nodesSelectionActive:R.current.size>0})))},O=o===!0||Array.isArray(o)&&o.includes(0);return f.jsxs("div",{className:rt(["react-flow__pane",{draggable:O,dragging:j,selection:t}]),onClick:z?void 0:ff(re,k),onContextMenu:ff(K,k),onWheel:ff(Q,k),onPointerEnter:z?void 0:y,onPointerMove:z?G:v,onPointerUp:z?A:void 0,onPointerDownCapture:z?B:void 0,onClickCapture:z?le:void 0,onPointerLeave:E,ref:k,style:Nu,children:[_,f.jsx(rC,{})]})}function Of({id:t,store:i,unselect:l=!1,nodeRef:o}){const{addSelectedNodes:s,unselectNodesAndEdges:c,multiSelectionActive:d,nodeLookup:m,onError:p}=i.getState(),g=m.get(t);if(!g){p?.("012",bn.error012(t));return}i.setState({nodesSelectionActive:!1}),g.selected?(l||g.selected&&d)&&(c({nodes:[g],edges:[]}),requestAnimationFrame(()=>o?.current?.blur())):s([t])}function Tv({nodeRef:t,disabled:i=!1,noDragClassName:l,handleSelector:o,nodeId:s,isSelectable:c,nodeClickDistance:d}){const m=Ke(),[p,g]=M.useState(!1),x=M.useRef();return M.useEffect(()=>{x.current=K3({getStoreItems:()=>m.getState(),onNodeMouseDown:y=>{Of({id:y,store:m,nodeRef:t})},onDragStart:()=>{g(!0)},onDragStop:()=>{g(!1)}})},[]),M.useEffect(()=>{if(i)x.current?.destroy();else if(t.current)return x.current?.update({noDragClassName:l,handleSelector:o,domNode:t.current,isSelectable:c,nodeId:s,nodeClickDistance:d}),()=>{x.current?.destroy()}},[l,o,i,c,t,s]),p}const uC=t=>i=>i.selected&&(i.draggable||t&&typeof i.draggable>"u");function zv(){const t=Ke();return M.useCallback(l=>{const{nodeExtent:o,snapToGrid:s,snapGrid:c,nodesDraggable:d,onError:m,updateNodePositions:p,nodeLookup:g,nodeOrigin:x}=t.getState(),y=new Map,v=uC(d),E=s?c[0]:5,_=s?c[1]:5,T=l.direction.x*E*l.factor,w=l.direction.y*_*l.factor;for(const[,N]of g){if(!v(N))continue;let j={x:N.internals.positionAbsolute.x+T,y:N.internals.positionAbsolute.y+w};s&&(j=Pr(j,c));const{position:S,positionAbsolute:z}=Wx({nodeId:N.id,nextPosition:j,nodeLookup:g,nodeExtent:o,nodeOrigin:x,onError:m});N.position=S,N.internals.positionAbsolute=z,y.set(N.id,N)}p(y)},[])}const dh=M.createContext(null),cC=dh.Provider;dh.Consumer;const Av=()=>M.useContext(dh),dC=t=>({connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName,rfId:t.rfId}),fC=(t,i,l)=>o=>{const{connectionClickStartHandle:s,connectionMode:c,connection:d}=o,{fromHandle:m,toHandle:p,isValid:g}=d,x=p?.nodeId===t&&p?.id===i&&p?.type===l;return{connectingFrom:m?.nodeId===t&&m?.id===i&&m?.type===l,connectingTo:x,clickConnecting:s?.nodeId===t&&s?.id===i&&s?.type===l,isPossibleEndHandle:c===ml.Strict?m?.type!==l:t!==m?.nodeId||i!==m?.id,connectionInProcess:!!m,clickConnectionInProcess:!!s,valid:x&&g}};function hC({type:t="source",position:i=me.Top,isValidConnection:l,isConnectable:o=!0,isConnectableStart:s=!0,isConnectableEnd:c=!0,id:d,onConnect:m,children:p,className:g,onMouseDown:x,onTouchStart:y,...v},E){const _=d||null,T=t==="target",w=Ke(),N=Av(),{connectOnClick:j,noPanClassName:S,rfId:z}=Ae(dC,Qe),{connectingFrom:k,connectingTo:U,clickConnecting:R,isPossibleEndHandle:V,connectionInProcess:J,clickConnectionInProcess:re,valid:K}=Ae(fC(N,_,t),Qe);N||w.getState().onError?.("010",bn.error010());const Q=G=>{const{defaultEdgeOptions:A,onConnect:O,hasDefaultEdges:L}=w.getState(),$={...A,...G};if(L){const{edges:ee,setEdges:D}=w.getState();D(rv($,ee))}O?.($),m?.($)},le=G=>{if(!N)return;const A=nv(G.nativeEvent);if(s&&(A&&G.button===0||!A)){const O=w.getState();Rf.onPointerDown(G.nativeEvent,{handleDomNode:G.currentTarget,autoPanOnConnect:O.autoPanOnConnect,connectionMode:O.connectionMode,connectionRadius:O.connectionRadius,domNode:O.domNode,nodeLookup:O.nodeLookup,lib:O.lib,isTarget:T,handleId:_,nodeId:N,flowId:O.rfId,panBy:O.panBy,cancelConnection:O.cancelConnection,onConnectStart:O.onConnectStart,onConnectEnd:O.onConnectEnd,updateConnection:O.updateConnection,onConnect:Q,isValidConnection:l||O.isValidConnection,getTransform:()=>w.getState().transform,getFromHandle:()=>w.getState().connection.fromHandle,autoPanSpeed:O.autoPanSpeed,dragThreshold:O.connectionDragThreshold})}A?x?.(G):y?.(G)},B=G=>{const{onClickConnectStart:A,onClickConnectEnd:O,connectionClickStartHandle:L,connectionMode:$,isValidConnection:ee,lib:D,rfId:Y,nodeLookup:P,connection:te}=w.getState();if(!N||!L&&!s)return;if(!L){A?.(G.nativeEvent,{nodeId:N,handleId:_,handleType:t}),w.setState({connectionClickStartHandle:{nodeId:N,type:t,id:_}});return}const se=ev(G.target),ce=l||ee,{connection:ue,isValid:oe}=Rf.isValid(G.nativeEvent,{handle:{nodeId:N,id:_,type:t},connectionMode:$,fromNodeId:L.nodeId,fromHandleId:L.id||null,fromType:L.type,isValidConnection:ce,flowId:Y,doc:se,lib:D,nodeLookup:P});oe&&ue&&Q(ue);const de=structuredClone(te);delete de.inProgress,de.toPosition=de.toHandle?de.toHandle.position:null,O?.(G,de),w.setState({connectionClickStartHandle:null})};return f.jsx("div",{"data-handleid":_,"data-nodeid":N,"data-handlepos":i,"data-id":`${z}-${N}-${_}-${t}`,className:rt(["react-flow__handle",`react-flow__handle-${i}`,"nodrag",S,g,{source:!T,target:T,connectable:o,connectablestart:s,connectableend:c,clickconnecting:R,connectingfrom:k,connectingto:U,valid:K,connectionindicator:o&&(!J||V)&&(J||re?c:s)}]),onMouseDown:le,onTouchStart:le,onClick:j?B:void 0,ref:E,...v,children:p})}const vl=M.memo(Cv(hC));function mC({data:t,isConnectable:i,sourcePosition:l=me.Bottom}){return f.jsxs(f.Fragment,{children:[t?.label,f.jsx(vl,{type:"source",position:l,isConnectable:i})]})}function gC({data:t,isConnectable:i,targetPosition:l=me.Top,sourcePosition:o=me.Bottom}){return f.jsxs(f.Fragment,{children:[f.jsx(vl,{type:"target",position:l,isConnectable:i}),t?.label,f.jsx(vl,{type:"source",position:o,isConnectable:i})]})}function pC(){return null}function yC({data:t,isConnectable:i,targetPosition:l=me.Top}){return f.jsxs(f.Fragment,{children:[f.jsx(vl,{type:"target",position:l,isConnectable:i}),t?.label]})}const su={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},vy={input:mC,default:gC,output:yC,group:pC};function xC(t){return t.internals.handleBounds===void 0?{width:t.width??t.initialWidth??t.style?.width,height:t.height??t.initialHeight??t.style?.height}:{width:t.width??t.style?.width,height:t.height??t.style?.height}}const vC=t=>{const{width:i,height:l,x:o,y:s}=Jr(t.nodeLookup,{filter:c=>!!c.selected});return{width:rn(i)?i:null,height:rn(l)?l:null,userSelectionActive:t.userSelectionActive,transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]}) translate(${o}px,${s}px)`}};function bC({onSelectionContextMenu:t,noPanClassName:i,disableKeyboardA11y:l}){const o=Ke(),{width:s,height:c,transformString:d,userSelectionActive:m}=Ae(vC,Qe),p=zv(),g=M.useRef(null);if(M.useEffect(()=>{l||g.current?.focus({preventScroll:!0})},[l]),Tv({nodeRef:g}),m||!s||!c)return null;const x=t?v=>{const E=o.getState().nodes.filter(_=>_.selected);t(v,E)}:void 0,y=v=>{Object.prototype.hasOwnProperty.call(su,v.key)&&(v.preventDefault(),p({direction:su[v.key],factor:v.shiftKey?4:1}))};return f.jsx("div",{className:rt(["react-flow__nodesselection","react-flow__container",i]),style:{transform:d},children:f.jsx("div",{ref:g,className:"react-flow__nodesselection-rect",onContextMenu:x,tabIndex:l?void 0:-1,onKeyDown:l?void 0:y,style:{width:s,height:c}})})}const by=typeof window<"u"?window:void 0,wC=t=>({nodesSelectionActive:t.nodesSelectionActive,userSelectionActive:t.userSelectionActive});function Dv({children:t,onPaneClick:i,onPaneMouseEnter:l,onPaneMouseMove:o,onPaneMouseLeave:s,onPaneContextMenu:c,onPaneScroll:d,paneClickDistance:m,deleteKeyCode:p,selectionKeyCode:g,selectionOnDrag:x,selectionMode:y,onSelectionStart:v,onSelectionEnd:E,multiSelectionKeyCode:_,panActivationKeyCode:T,zoomActivationKeyCode:w,elementsSelectable:N,zoomOnScroll:j,zoomOnPinch:S,panOnScroll:z,panOnScrollSpeed:k,panOnScrollMode:U,zoomOnDoubleClick:R,panOnDrag:V,defaultViewport:J,translateExtent:re,minZoom:K,maxZoom:Q,preventScrolling:le,onSelectionContextMenu:B,noWheelClassName:G,noPanClassName:A,disableKeyboardA11y:O,onViewportChange:L,isControlledViewport:$}){const{nodesSelectionActive:ee,userSelectionActive:D}=Ae(wC,Qe),Y=qr(g,{target:by}),P=qr(T,{target:by}),te=P||V,se=P||z,ce=x&&te!==!0,ue=Y||D||ce;return tC({deleteKeyCode:p,multiSelectionKeyCode:_}),f.jsx(iC,{onPaneContextMenu:c,elementsSelectable:N,zoomOnScroll:j,zoomOnPinch:S,panOnScroll:se,panOnScrollSpeed:k,panOnScrollMode:U,zoomOnDoubleClick:R,panOnDrag:!Y&&te,defaultViewport:J,translateExtent:re,minZoom:K,maxZoom:Q,zoomActivationKeyCode:w,preventScrolling:le,noWheelClassName:G,noPanClassName:A,onViewportChange:L,isControlledViewport:$,paneClickDistance:m,selectionOnDrag:ce,children:f.jsxs(sC,{onSelectionStart:v,onSelectionEnd:E,onPaneClick:i,onPaneMouseEnter:l,onPaneMouseMove:o,onPaneMouseLeave:s,onPaneContextMenu:c,onPaneScroll:d,panOnDrag:te,isSelecting:!!ue,selectionMode:y,selectionKeyPressed:Y,paneClickDistance:m,selectionOnDrag:ce,children:[t,ee&&f.jsx(bC,{onSelectionContextMenu:B,noPanClassName:A,disableKeyboardA11y:O})]})})}Dv.displayName="FlowRenderer";const SC=M.memo(Dv),EC=t=>i=>t?nh(i.nodeLookup,{x:0,y:0,width:i.width,height:i.height},i.transform,!0).map(l=>l.id):Array.from(i.nodeLookup.keys());function NC(t){return Ae(M.useCallback(EC(t),[t]),Qe)}const jC=t=>t.updateNodeInternals;function _C(){const t=Ae(jC),[i]=M.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(l=>{const o=new Map;l.forEach(s=>{const c=s.target.getAttribute("data-id");o.set(c,{id:c,nodeElement:s.target,force:!0})}),t(o)}));return M.useEffect(()=>()=>{i?.disconnect()},[i]),i}function CC({node:t,nodeType:i,hasDimensions:l,resizeObserver:o}){const s=Ke(),c=M.useRef(null),d=M.useRef(null),m=M.useRef(t.sourcePosition),p=M.useRef(t.targetPosition),g=M.useRef(i),x=l&&!!t.internals.handleBounds;return M.useEffect(()=>{c.current&&!t.hidden&&(!x||d.current!==c.current)&&(d.current&&o?.unobserve(d.current),o?.observe(c.current),d.current=c.current)},[x,t.hidden]),M.useEffect(()=>()=>{d.current&&(o?.unobserve(d.current),d.current=null)},[]),M.useEffect(()=>{if(c.current){const y=g.current!==i,v=m.current!==t.sourcePosition,E=p.current!==t.targetPosition;(y||v||E)&&(g.current=i,m.current=t.sourcePosition,p.current=t.targetPosition,s.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:c.current,force:!0}]])))}},[t.id,i,t.sourcePosition,t.targetPosition]),c}function MC({id:t,onClick:i,onMouseEnter:l,onMouseMove:o,onMouseLeave:s,onContextMenu:c,onDoubleClick:d,nodesDraggable:m,elementsSelectable:p,nodesConnectable:g,nodesFocusable:x,resizeObserver:y,noDragClassName:v,noPanClassName:E,disableKeyboardA11y:_,rfId:T,nodeTypes:w,nodeClickDistance:N,onError:j}){const{node:S,internals:z,isParent:k}=Ae(oe=>{const de=oe.nodeLookup.get(t),ve=oe.parentLookup.has(t);return{node:de,internals:de.internals,isParent:ve}},Qe);let U=S.type||"default",R=w?.[U]||vy[U];R===void 0&&(j?.("003",bn.error003(U)),U="default",R=w?.default||vy.default);const V=!!(S.draggable||m&&typeof S.draggable>"u"),J=!!(S.selectable||p&&typeof S.selectable>"u"),re=!!(S.connectable||g&&typeof S.connectable>"u"),K=!!(S.focusable||x&&typeof S.focusable>"u"),Q=Ke(),le=Px(S),B=CC({node:S,nodeType:U,hasDimensions:le,resizeObserver:y}),G=Tv({nodeRef:B,disabled:S.hidden||!V,noDragClassName:v,handleSelector:S.dragHandle,nodeId:t,isSelectable:J,nodeClickDistance:N}),A=zv();if(S.hidden)return null;const O=Pn(S),L=xC(S),$=J||V||i||l||o||s,ee=l?oe=>l(oe,{...z.userNode}):void 0,D=o?oe=>o(oe,{...z.userNode}):void 0,Y=s?oe=>s(oe,{...z.userNode}):void 0,P=c?oe=>c(oe,{...z.userNode}):void 0,te=d?oe=>d(oe,{...z.userNode}):void 0,se=oe=>{const{selectNodesOnDrag:de,nodeDragThreshold:ve}=Q.getState();J&&(!de||!V||ve>0)&&Of({id:t,store:Q,nodeRef:B}),i&&i(oe,{...z.userNode})},ce=oe=>{if(!(tv(oe.nativeEvent)||_)){if($x.includes(oe.key)&&J){const de=oe.key==="Escape";Of({id:t,store:Q,unselect:de,nodeRef:B})}else if(V&&S.selected&&Object.prototype.hasOwnProperty.call(su,oe.key)){oe.preventDefault();const{ariaLabelConfig:de}=Q.getState();Q.setState({ariaLiveMessage:de["node.a11yDescription.ariaLiveMessage"]({direction:oe.key.replace("Arrow","").toLowerCase(),x:~~z.positionAbsolute.x,y:~~z.positionAbsolute.y})}),A({direction:su[oe.key],factor:oe.shiftKey?4:1})}}},ue=()=>{if(_||!B.current?.matches(":focus-visible"))return;const{transform:oe,width:de,height:ve,autoPanOnNodeFocus:be,setCenter:ge}=Q.getState();if(!be)return;nh(new Map([[t,S]]),{x:0,y:0,width:de,height:ve},oe,!0).length>0||ge(S.position.x+O.width/2,S.position.y+O.height/2,{zoom:oe[2]})};return f.jsx("div",{className:rt(["react-flow__node",`react-flow__node-${U}`,{[E]:V},S.className,{selected:S.selected,selectable:J,parent:k,draggable:V,dragging:G}]),ref:B,style:{zIndex:z.z,transform:`translate(${z.positionAbsolute.x}px,${z.positionAbsolute.y}px)`,pointerEvents:$?"all":"none",visibility:le?"visible":"hidden",...S.style,...L},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:ee,onMouseMove:D,onMouseLeave:Y,onContextMenu:P,onClick:se,onDoubleClick:te,onKeyDown:K?ce:void 0,tabIndex:K?0:void 0,onFocus:K?ue:void 0,role:S.ariaRole??(K?"group":void 0),"aria-roledescription":"node","aria-describedby":_?void 0:`${wv}-${T}`,"aria-label":S.ariaLabel,...S.domAttributes,children:f.jsx(cC,{value:t,children:f.jsx(R,{id:t,data:S.data,type:U,positionAbsoluteX:z.positionAbsolute.x,positionAbsoluteY:z.positionAbsolute.y,selected:S.selected??!1,selectable:J,draggable:V,deletable:S.deletable??!0,isConnectable:re,sourcePosition:S.sourcePosition,targetPosition:S.targetPosition,dragging:G,dragHandle:S.dragHandle,zIndex:z.z,parentId:S.parentId,...O})})})}var TC=M.memo(MC);const zC=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,onError:t.onError});function Rv(t){const{nodesDraggable:i,nodesConnectable:l,nodesFocusable:o,elementsSelectable:s,onError:c}=Ae(zC,Qe),d=NC(t.onlyRenderVisibleElements),m=_C();return f.jsx("div",{className:"react-flow__nodes",style:Nu,children:d.map(p=>f.jsx(TC,{id:p,nodeTypes:t.nodeTypes,nodeExtent:t.nodeExtent,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,resizeObserver:m,nodesDraggable:i,nodesConnectable:l,nodesFocusable:o,elementsSelectable:s,nodeClickDistance:t.nodeClickDistance,onError:c},p))})}Rv.displayName="NodeRenderer";const AC=M.memo(Rv);function DC(t){return Ae(M.useCallback(l=>{if(!t)return l.edges.map(s=>s.id);const o=[];if(l.width&&l.height)for(const s of l.edges){const c=l.nodeLookup.get(s.source),d=l.nodeLookup.get(s.target);c&&d&&A3({sourceNode:c,targetNode:d,width:l.width,height:l.height,transform:l.transform})&&o.push(s.id)}return o},[t]),Qe)}const RC=({color:t="none",strokeWidth:i=1})=>{const l={strokeWidth:i,...t&&{stroke:t}};return f.jsx("polyline",{className:"arrow",style:l,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},OC=({color:t="none",strokeWidth:i=1})=>{const l={strokeWidth:i,...t&&{stroke:t,fill:t}};return f.jsx("polyline",{className:"arrowclosed",style:l,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},wy={[lu.Arrow]:RC,[lu.ArrowClosed]:OC};function HC(t){const i=Ke();return M.useMemo(()=>Object.prototype.hasOwnProperty.call(wy,t)?wy[t]:(i.getState().onError?.("009",bn.error009(t)),null),[t])}const kC=({id:t,type:i,color:l,width:o=12.5,height:s=12.5,markerUnits:c="strokeWidth",strokeWidth:d,orient:m="auto-start-reverse"})=>{const p=HC(i);return p?f.jsx("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${o}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:c,orient:m,refX:"0",refY:"0",children:f.jsx(p,{color:l,strokeWidth:d})}):null},Ov=({defaultColor:t,rfId:i})=>{const l=Ae(c=>c.edges),o=Ae(c=>c.defaultEdgeOptions),s=M.useMemo(()=>L3(l,{id:i,defaultColor:t,defaultMarkerStart:o?.markerStart,defaultMarkerEnd:o?.markerEnd}),[l,o,i,t]);return s.length?f.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:f.jsx("defs",{children:s.map(c=>f.jsx(kC,{id:c.id,type:c.type,color:c.color,width:c.width,height:c.height,markerUnits:c.markerUnits,strokeWidth:c.strokeWidth,orient:c.orient},c.id))})}):null};Ov.displayName="MarkerDefinitions";var BC=M.memo(Ov);function Hv({x:t,y:i,label:l,labelStyle:o,labelShowBg:s=!0,labelBgStyle:c,labelBgPadding:d=[2,4],labelBgBorderRadius:m=2,children:p,className:g,...x}){const[y,v]=M.useState({x:1,y:0,width:0,height:0}),E=rt(["react-flow__edge-textwrapper",g]),_=M.useRef(null);return M.useEffect(()=>{if(_.current){const T=_.current.getBBox();v({x:T.x,y:T.y,width:T.width,height:T.height})}},[l]),l?f.jsxs("g",{transform:`translate(${t-y.width/2} ${i-y.height/2})`,className:E,visibility:y.width?"visible":"hidden",...x,children:[s&&f.jsx("rect",{width:y.width+2*d[0],x:-d[0],y:-d[1],height:y.height+2*d[1],className:"react-flow__edge-textbg",style:c,rx:m,ry:m}),f.jsx("text",{className:"react-flow__edge-text",y:y.height/2,dy:"0.3em",ref:_,style:o,children:l}),p]}):null}Hv.displayName="EdgeText";const LC=M.memo(Hv);function ju({path:t,labelX:i,labelY:l,label:o,labelStyle:s,labelShowBg:c,labelBgStyle:d,labelBgPadding:m,labelBgBorderRadius:p,interactionWidth:g=20,...x}){return f.jsxs(f.Fragment,{children:[f.jsx("path",{...x,d:t,fill:"none",className:rt(["react-flow__edge-path",x.className])}),g?f.jsx("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:g,className:"react-flow__edge-interaction"}):null,o&&rn(i)&&rn(l)?f.jsx(LC,{x:i,y:l,label:o,labelStyle:s,labelShowBg:c,labelBgStyle:d,labelBgPadding:m,labelBgBorderRadius:p}):null]})}function Sy({pos:t,x1:i,y1:l,x2:o,y2:s}){return t===me.Left||t===me.Right?[.5*(i+o),l]:[i,.5*(l+s)]}function kv({sourceX:t,sourceY:i,sourcePosition:l=me.Bottom,targetX:o,targetY:s,targetPosition:c=me.Top}){const[d,m]=Sy({pos:l,x1:t,y1:i,x2:o,y2:s}),[p,g]=Sy({pos:c,x1:o,y1:s,x2:t,y2:i}),[x,y,v,E]=av({sourceX:t,sourceY:i,targetX:o,targetY:s,sourceControlX:d,sourceControlY:m,targetControlX:p,targetControlY:g});return[`M${t},${i} C${d},${m} ${p},${g} ${o},${s}`,x,y,v,E]}function Bv(t){return M.memo(({id:i,sourceX:l,sourceY:o,targetX:s,targetY:c,sourcePosition:d,targetPosition:m,label:p,labelStyle:g,labelShowBg:x,labelBgStyle:y,labelBgPadding:v,labelBgBorderRadius:E,style:_,markerEnd:T,markerStart:w,interactionWidth:N})=>{const[j,S,z]=kv({sourceX:l,sourceY:o,sourcePosition:d,targetX:s,targetY:c,targetPosition:m}),k=t.isInternal?void 0:i;return f.jsx(ju,{id:k,path:j,labelX:S,labelY:z,label:p,labelStyle:g,labelShowBg:x,labelBgStyle:y,labelBgPadding:v,labelBgBorderRadius:E,style:_,markerEnd:T,markerStart:w,interactionWidth:N})})}const UC=Bv({isInternal:!1}),Lv=Bv({isInternal:!0});UC.displayName="SimpleBezierEdge";Lv.displayName="SimpleBezierEdgeInternal";function Uv(t){return M.memo(({id:i,sourceX:l,sourceY:o,targetX:s,targetY:c,label:d,labelStyle:m,labelShowBg:p,labelBgStyle:g,labelBgPadding:x,labelBgBorderRadius:y,style:v,sourcePosition:E=me.Bottom,targetPosition:_=me.Top,markerEnd:T,markerStart:w,pathOptions:N,interactionWidth:j})=>{const[S,z,k]=zf({sourceX:l,sourceY:o,sourcePosition:E,targetX:s,targetY:c,targetPosition:_,borderRadius:N?.borderRadius,offset:N?.offset,stepPosition:N?.stepPosition}),U=t.isInternal?void 0:i;return f.jsx(ju,{id:U,path:S,labelX:z,labelY:k,label:d,labelStyle:m,labelShowBg:p,labelBgStyle:g,labelBgPadding:x,labelBgBorderRadius:y,style:v,markerEnd:T,markerStart:w,interactionWidth:j})})}const Yv=Uv({isInternal:!1}),qv=Uv({isInternal:!0});Yv.displayName="SmoothStepEdge";qv.displayName="SmoothStepEdgeInternal";function Vv(t){return M.memo(({id:i,...l})=>{const o=t.isInternal?void 0:i;return f.jsx(Yv,{...l,id:o,pathOptions:M.useMemo(()=>({borderRadius:0,offset:l.pathOptions?.offset}),[l.pathOptions?.offset])})})}const YC=Vv({isInternal:!1}),$v=Vv({isInternal:!0});YC.displayName="StepEdge";$v.displayName="StepEdgeInternal";function Xv(t){return M.memo(({id:i,sourceX:l,sourceY:o,targetX:s,targetY:c,label:d,labelStyle:m,labelShowBg:p,labelBgStyle:g,labelBgPadding:x,labelBgBorderRadius:y,style:v,markerEnd:E,markerStart:_,interactionWidth:T})=>{const[w,N,j]=ov({sourceX:l,sourceY:o,targetX:s,targetY:c}),S=t.isInternal?void 0:i;return f.jsx(ju,{id:S,path:w,labelX:N,labelY:j,label:d,labelStyle:m,labelShowBg:p,labelBgStyle:g,labelBgPadding:x,labelBgBorderRadius:y,style:v,markerEnd:E,markerStart:_,interactionWidth:T})})}const qC=Xv({isInternal:!1}),Gv=Xv({isInternal:!0});qC.displayName="StraightEdge";Gv.displayName="StraightEdgeInternal";function Zv(t){return M.memo(({id:i,sourceX:l,sourceY:o,targetX:s,targetY:c,sourcePosition:d=me.Bottom,targetPosition:m=me.Top,label:p,labelStyle:g,labelShowBg:x,labelBgStyle:y,labelBgPadding:v,labelBgBorderRadius:E,style:_,markerEnd:T,markerStart:w,pathOptions:N,interactionWidth:j})=>{const[S,z,k]=iv({sourceX:l,sourceY:o,sourcePosition:d,targetX:s,targetY:c,targetPosition:m,curvature:N?.curvature}),U=t.isInternal?void 0:i;return f.jsx(ju,{id:U,path:S,labelX:z,labelY:k,label:p,labelStyle:g,labelShowBg:x,labelBgStyle:y,labelBgPadding:v,labelBgBorderRadius:E,style:_,markerEnd:T,markerStart:w,interactionWidth:j})})}const VC=Zv({isInternal:!1}),Qv=Zv({isInternal:!0});VC.displayName="BezierEdge";Qv.displayName="BezierEdgeInternal";const Ey={default:Qv,straight:Gv,step:$v,smoothstep:qv,simplebezier:Lv},Ny={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},$C=(t,i,l)=>l===me.Left?t-i:l===me.Right?t+i:t,XC=(t,i,l)=>l===me.Top?t-i:l===me.Bottom?t+i:t,jy="react-flow__edgeupdater";function _y({position:t,centerX:i,centerY:l,radius:o=10,onMouseDown:s,onMouseEnter:c,onMouseOut:d,type:m}){return f.jsx("circle",{onMouseDown:s,onMouseEnter:c,onMouseOut:d,className:rt([jy,`${jy}-${m}`]),cx:$C(i,o,t),cy:XC(l,o,t),r:o,stroke:"transparent",fill:"transparent"})}function GC({isReconnectable:t,reconnectRadius:i,edge:l,sourceX:o,sourceY:s,targetX:c,targetY:d,sourcePosition:m,targetPosition:p,onReconnect:g,onReconnectStart:x,onReconnectEnd:y,setReconnecting:v,setUpdateHover:E}){const _=Ke(),T=(z,k)=>{if(z.button!==0)return;const{autoPanOnConnect:U,domNode:R,isValidConnection:V,connectionMode:J,connectionRadius:re,lib:K,onConnectStart:Q,onConnectEnd:le,cancelConnection:B,nodeLookup:G,rfId:A,panBy:O,updateConnection:L}=_.getState(),$=k.type==="target",ee=(P,te)=>{v(!1),y?.(P,l,k.type,te)},D=P=>g?.(l,P),Y=(P,te)=>{v(!0),x?.(z,l,k.type),Q?.(P,te)};Rf.onPointerDown(z.nativeEvent,{autoPanOnConnect:U,connectionMode:J,connectionRadius:re,domNode:R,handleId:k.id,nodeId:k.nodeId,nodeLookup:G,isTarget:$,edgeUpdaterType:k.type,lib:K,flowId:A,cancelConnection:B,panBy:O,isValidConnection:V,onConnect:D,onConnectStart:Y,onConnectEnd:le,onReconnectEnd:ee,updateConnection:L,getTransform:()=>_.getState().transform,getFromHandle:()=>_.getState().connection.fromHandle,dragThreshold:_.getState().connectionDragThreshold,handleDomNode:z.currentTarget})},w=z=>T(z,{nodeId:l.target,id:l.targetHandle??null,type:"target"}),N=z=>T(z,{nodeId:l.source,id:l.sourceHandle??null,type:"source"}),j=()=>E(!0),S=()=>E(!1);return f.jsxs(f.Fragment,{children:[(t===!0||t==="source")&&f.jsx(_y,{position:m,centerX:o,centerY:s,radius:i,onMouseDown:w,onMouseEnter:j,onMouseOut:S,type:"source"}),(t===!0||t==="target")&&f.jsx(_y,{position:p,centerX:c,centerY:d,radius:i,onMouseDown:N,onMouseEnter:j,onMouseOut:S,type:"target"})]})}function ZC({id:t,edgesFocusable:i,edgesReconnectable:l,elementsSelectable:o,onClick:s,onDoubleClick:c,onContextMenu:d,onMouseEnter:m,onMouseMove:p,onMouseLeave:g,reconnectRadius:x,onReconnect:y,onReconnectStart:v,onReconnectEnd:E,rfId:_,edgeTypes:T,noPanClassName:w,onError:N,disableKeyboardA11y:j}){let S=Ae(ge=>ge.edgeLookup.get(t));const z=Ae(ge=>ge.defaultEdgeOptions);S=z?{...z,...S}:S;let k=S.type||"default",U=T?.[k]||Ey[k];U===void 0&&(N?.("011",bn.error011(k)),k="default",U=T?.default||Ey.default);const R=!!(S.focusable||i&&typeof S.focusable>"u"),V=typeof y<"u"&&(S.reconnectable||l&&typeof S.reconnectable>"u"),J=!!(S.selectable||o&&typeof S.selectable>"u"),re=M.useRef(null),[K,Q]=M.useState(!1),[le,B]=M.useState(!1),G=Ke(),{zIndex:A,sourceX:O,sourceY:L,targetX:$,targetY:ee,sourcePosition:D,targetPosition:Y}=Ae(M.useCallback(ge=>{const xe=ge.nodeLookup.get(S.source),Ne=ge.nodeLookup.get(S.target);if(!xe||!Ne)return{zIndex:S.zIndex,...Ny};const He=B3({id:t,sourceNode:xe,targetNode:Ne,sourceHandle:S.sourceHandle||null,targetHandle:S.targetHandle||null,connectionMode:ge.connectionMode,onError:N});return{zIndex:z3({selected:S.selected,zIndex:S.zIndex,sourceNode:xe,targetNode:Ne,elevateOnSelect:ge.elevateEdgesOnSelect,zIndexMode:ge.zIndexMode}),...He||Ny}},[S.source,S.target,S.sourceHandle,S.targetHandle,S.selected,S.zIndex]),Qe),P=M.useMemo(()=>S.markerStart?`url('#${Af(S.markerStart,_)}')`:void 0,[S.markerStart,_]),te=M.useMemo(()=>S.markerEnd?`url('#${Af(S.markerEnd,_)}')`:void 0,[S.markerEnd,_]);if(S.hidden||O===null||L===null||$===null||ee===null)return null;const se=ge=>{const{addSelectedEdges:xe,unselectNodesAndEdges:Ne,multiSelectionActive:He}=G.getState();J&&(G.setState({nodesSelectionActive:!1}),S.selected&&He?(Ne({nodes:[],edges:[S]}),re.current?.blur()):xe([t])),s&&s(ge,S)},ce=c?ge=>{c(ge,{...S})}:void 0,ue=d?ge=>{d(ge,{...S})}:void 0,oe=m?ge=>{m(ge,{...S})}:void 0,de=p?ge=>{p(ge,{...S})}:void 0,ve=g?ge=>{g(ge,{...S})}:void 0,be=ge=>{if(!j&&$x.includes(ge.key)&&J){const{unselectNodesAndEdges:xe,addSelectedEdges:Ne}=G.getState();ge.key==="Escape"?(re.current?.blur(),xe({edges:[S]})):Ne([t])}};return f.jsx("svg",{style:{zIndex:A},children:f.jsxs("g",{className:rt(["react-flow__edge",`react-flow__edge-${k}`,S.className,w,{selected:S.selected,animated:S.animated,inactive:!J&&!s,updating:K,selectable:J}]),onClick:se,onDoubleClick:ce,onContextMenu:ue,onMouseEnter:oe,onMouseMove:de,onMouseLeave:ve,onKeyDown:R?be:void 0,tabIndex:R?0:void 0,role:S.ariaRole??(R?"group":"img"),"aria-roledescription":"edge","data-id":t,"data-testid":`rf__edge-${t}`,"aria-label":S.ariaLabel===null?void 0:S.ariaLabel||`Edge from ${S.source} to ${S.target}`,"aria-describedby":R?`${Sv}-${_}`:void 0,ref:re,...S.domAttributes,children:[!le&&f.jsx(U,{id:t,source:S.source,target:S.target,type:S.type,selected:S.selected,animated:S.animated,selectable:J,deletable:S.deletable??!0,label:S.label,labelStyle:S.labelStyle,labelShowBg:S.labelShowBg,labelBgStyle:S.labelBgStyle,labelBgPadding:S.labelBgPadding,labelBgBorderRadius:S.labelBgBorderRadius,sourceX:O,sourceY:L,targetX:$,targetY:ee,sourcePosition:D,targetPosition:Y,data:S.data,style:S.style,sourceHandleId:S.sourceHandle,targetHandleId:S.targetHandle,markerStart:P,markerEnd:te,pathOptions:"pathOptions"in S?S.pathOptions:void 0,interactionWidth:S.interactionWidth}),V&&f.jsx(GC,{edge:S,isReconnectable:V,reconnectRadius:x,onReconnect:y,onReconnectStart:v,onReconnectEnd:E,sourceX:O,sourceY:L,targetX:$,targetY:ee,sourcePosition:D,targetPosition:Y,setUpdateHover:Q,setReconnecting:B})]})})}var QC=M.memo(ZC);const WC=t=>({edgesFocusable:t.edgesFocusable,edgesReconnectable:t.edgesReconnectable,elementsSelectable:t.elementsSelectable,connectionMode:t.connectionMode,onError:t.onError});function Wv({defaultMarkerColor:t,onlyRenderVisibleElements:i,rfId:l,edgeTypes:o,noPanClassName:s,onReconnect:c,onEdgeContextMenu:d,onEdgeMouseEnter:m,onEdgeMouseMove:p,onEdgeMouseLeave:g,onEdgeClick:x,reconnectRadius:y,onEdgeDoubleClick:v,onReconnectStart:E,onReconnectEnd:_,disableKeyboardA11y:T}){const{edgesFocusable:w,edgesReconnectable:N,elementsSelectable:j,onError:S}=Ae(WC,Qe),z=DC(i);return f.jsxs("div",{className:"react-flow__edges",children:[f.jsx(BC,{defaultColor:t,rfId:l}),z.map(k=>f.jsx(QC,{id:k,edgesFocusable:w,edgesReconnectable:N,elementsSelectable:j,noPanClassName:s,onReconnect:c,onContextMenu:d,onMouseEnter:m,onMouseMove:p,onMouseLeave:g,onClick:x,reconnectRadius:y,onDoubleClick:v,onReconnectStart:E,onReconnectEnd:_,rfId:l,onError:S,edgeTypes:o,disableKeyboardA11y:T},k))]})}Wv.displayName="EdgeRenderer";const KC=M.memo(Wv),FC=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function JC({children:t}){const i=Ae(FC);return f.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:i},children:t})}function PC(t){const i=ch(),l=M.useRef(!1);M.useEffect(()=>{!l.current&&i.viewportInitialized&&t&&(setTimeout(()=>t(i),1),l.current=!0)},[t,i.viewportInitialized])}const IC=t=>t.panZoom?.syncViewport;function e6(t){const i=Ae(IC),l=Ke();return M.useEffect(()=>{t&&(i?.(t),l.setState({transform:[t.x,t.y,t.zoom]}))},[t,i]),null}function t6(t){return t.connection.inProgress?{...t.connection,to:Ir(t.connection.to,t.transform)}:{...t.connection}}function n6(t){return t6}function a6(t){const i=n6();return Ae(i,Qe)}const i6=t=>({nodesConnectable:t.nodesConnectable,isValid:t.connection.isValid,inProgress:t.connection.inProgress,width:t.width,height:t.height});function l6({containerStyle:t,style:i,type:l,component:o}){const{nodesConnectable:s,width:c,height:d,isValid:m,inProgress:p}=Ae(i6,Qe);return!(c&&s&&p)?null:f.jsx("svg",{style:t,width:c,height:d,className:"react-flow__connectionline react-flow__container",children:f.jsx("g",{className:rt(["react-flow__connection",Zx(m)]),children:f.jsx(Kv,{style:i,type:l,CustomComponent:o,isValid:m})})})}const Kv=({style:t,type:i=Aa.Bezier,CustomComponent:l,isValid:o})=>{const{inProgress:s,from:c,fromNode:d,fromHandle:m,fromPosition:p,to:g,toNode:x,toHandle:y,toPosition:v,pointer:E}=a6();if(!s)return;if(l)return f.jsx(l,{connectionLineType:i,connectionLineStyle:t,fromNode:d,fromHandle:m,fromX:c.x,fromY:c.y,toX:g.x,toY:g.y,fromPosition:p,toPosition:v,connectionStatus:Zx(o),toNode:x,toHandle:y,pointer:E});let _="";const T={sourceX:c.x,sourceY:c.y,sourcePosition:p,targetX:g.x,targetY:g.y,targetPosition:v};switch(i){case Aa.Bezier:[_]=iv(T);break;case Aa.SimpleBezier:[_]=kv(T);break;case Aa.Step:[_]=zf({...T,borderRadius:0});break;case Aa.SmoothStep:[_]=zf(T);break;default:[_]=ov(T)}return f.jsx("path",{d:_,fill:"none",className:"react-flow__connection-path",style:t})};Kv.displayName="ConnectionLine";const r6={};function Cy(t=r6){M.useRef(t),Ke(),M.useEffect(()=>{},[t])}function o6(){Ke(),M.useRef(!1),M.useEffect(()=>{},[])}function Fv({nodeTypes:t,edgeTypes:i,onInit:l,onNodeClick:o,onEdgeClick:s,onNodeDoubleClick:c,onEdgeDoubleClick:d,onNodeMouseEnter:m,onNodeMouseMove:p,onNodeMouseLeave:g,onNodeContextMenu:x,onSelectionContextMenu:y,onSelectionStart:v,onSelectionEnd:E,connectionLineType:_,connectionLineStyle:T,connectionLineComponent:w,connectionLineContainerStyle:N,selectionKeyCode:j,selectionOnDrag:S,selectionMode:z,multiSelectionKeyCode:k,panActivationKeyCode:U,zoomActivationKeyCode:R,deleteKeyCode:V,onlyRenderVisibleElements:J,elementsSelectable:re,defaultViewport:K,translateExtent:Q,minZoom:le,maxZoom:B,preventScrolling:G,defaultMarkerColor:A,zoomOnScroll:O,zoomOnPinch:L,panOnScroll:$,panOnScrollSpeed:ee,panOnScrollMode:D,zoomOnDoubleClick:Y,panOnDrag:P,onPaneClick:te,onPaneMouseEnter:se,onPaneMouseMove:ce,onPaneMouseLeave:ue,onPaneScroll:oe,onPaneContextMenu:de,paneClickDistance:ve,nodeClickDistance:be,onEdgeContextMenu:ge,onEdgeMouseEnter:xe,onEdgeMouseMove:Ne,onEdgeMouseLeave:He,reconnectRadius:je,onReconnect:Pe,onReconnectStart:St,onReconnectEnd:pt,noDragClassName:Jt,noWheelClassName:Sn,noPanClassName:Ra,disableKeyboardA11y:Oa,nodeExtent:dt,rfId:gi,viewport:En,onViewportChange:In}){return Cy(t),Cy(i),o6(),PC(l),e6(En),f.jsx(SC,{onPaneClick:te,onPaneMouseEnter:se,onPaneMouseMove:ce,onPaneMouseLeave:ue,onPaneContextMenu:de,onPaneScroll:oe,paneClickDistance:ve,deleteKeyCode:V,selectionKeyCode:j,selectionOnDrag:S,selectionMode:z,onSelectionStart:v,onSelectionEnd:E,multiSelectionKeyCode:k,panActivationKeyCode:U,zoomActivationKeyCode:R,elementsSelectable:re,zoomOnScroll:O,zoomOnPinch:L,zoomOnDoubleClick:Y,panOnScroll:$,panOnScrollSpeed:ee,panOnScrollMode:D,panOnDrag:P,defaultViewport:K,translateExtent:Q,minZoom:le,maxZoom:B,onSelectionContextMenu:y,preventScrolling:G,noDragClassName:Jt,noWheelClassName:Sn,noPanClassName:Ra,disableKeyboardA11y:Oa,onViewportChange:In,isControlledViewport:!!En,children:f.jsxs(JC,{children:[f.jsx(KC,{edgeTypes:i,onEdgeClick:s,onEdgeDoubleClick:d,onReconnect:Pe,onReconnectStart:St,onReconnectEnd:pt,onlyRenderVisibleElements:J,onEdgeContextMenu:ge,onEdgeMouseEnter:xe,onEdgeMouseMove:Ne,onEdgeMouseLeave:He,reconnectRadius:je,defaultMarkerColor:A,noPanClassName:Ra,disableKeyboardA11y:Oa,rfId:gi}),f.jsx(l6,{style:T,type:_,component:w,containerStyle:N}),f.jsx("div",{className:"react-flow__edgelabel-renderer"}),f.jsx(AC,{nodeTypes:t,onNodeClick:o,onNodeDoubleClick:c,onNodeMouseEnter:m,onNodeMouseMove:p,onNodeMouseLeave:g,onNodeContextMenu:x,nodeClickDistance:be,onlyRenderVisibleElements:J,noPanClassName:Ra,noDragClassName:Jt,disableKeyboardA11y:Oa,nodeExtent:dt,rfId:gi}),f.jsx("div",{className:"react-flow__viewport-portal"})]})})}Fv.displayName="GraphView";const s6=M.memo(Fv),My=({nodes:t,edges:i,defaultNodes:l,defaultEdges:o,width:s,height:c,fitView:d,fitViewOptions:m,minZoom:p=.5,maxZoom:g=2,nodeOrigin:x,nodeExtent:y,zIndexMode:v="basic"}={})=>{const E=new Map,_=new Map,T=new Map,w=new Map,N=o??i??[],j=l??t??[],S=x??[0,0],z=y??Br;cv(T,w,N);const k=Df(j,E,_,{nodeOrigin:S,nodeExtent:z,zIndexMode:v});let U=[0,0,1];if(d&&s&&c){const R=Jr(E,{filter:K=>!!((K.width||K.initialWidth)&&(K.height||K.initialHeight))}),{x:V,y:J,zoom:re}=ah(R,s,c,p,g,m?.padding??.1);U=[V,J,re]}return{rfId:"1",width:s??0,height:c??0,transform:U,nodes:j,nodesInitialized:k,nodeLookup:E,parentLookup:_,edges:N,edgeLookup:w,connectionLookup:T,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:l!==void 0,hasDefaultEdges:o!==void 0,panZoom:null,minZoom:p,maxZoom:g,translateExtent:Br,nodeExtent:z,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:ml.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:S,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:d??!1,fitViewOptions:m,fitViewResolver:null,connection:{...Gx},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:N3,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:Xx,zIndexMode:v,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},u6=({nodes:t,edges:i,defaultNodes:l,defaultEdges:o,width:s,height:c,fitView:d,fitViewOptions:m,minZoom:p,maxZoom:g,nodeOrigin:x,nodeExtent:y,zIndexMode:v})=>C5((E,_)=>{async function T(){const{nodeLookup:w,panZoom:N,fitViewOptions:j,fitViewResolver:S,width:z,height:k,minZoom:U,maxZoom:R}=_();N&&(await S3({nodes:w,width:z,height:k,panZoom:N,minZoom:U,maxZoom:R},j),S?.resolve(!0),E({fitViewResolver:null}))}return{...My({nodes:t,edges:i,width:s,height:c,fitView:d,fitViewOptions:m,minZoom:p,maxZoom:g,nodeOrigin:x,nodeExtent:y,defaultNodes:l,defaultEdges:o,zIndexMode:v}),setNodes:w=>{const{nodeLookup:N,parentLookup:j,nodeOrigin:S,elevateNodesOnSelect:z,fitViewQueued:k,zIndexMode:U}=_(),R=Df(w,N,j,{nodeOrigin:S,nodeExtent:y,elevateNodesOnSelect:z,checkEquality:!0,zIndexMode:U});k&&R?(T(),E({nodes:w,nodesInitialized:R,fitViewQueued:!1,fitViewOptions:void 0})):E({nodes:w,nodesInitialized:R})},setEdges:w=>{const{connectionLookup:N,edgeLookup:j}=_();cv(N,j,w),E({edges:w})},setDefaultNodesAndEdges:(w,N)=>{if(w){const{setNodes:j}=_();j(w),E({hasDefaultNodes:!0})}if(N){const{setEdges:j}=_();j(N),E({hasDefaultEdges:!0})}},updateNodeInternals:w=>{const{triggerNodeChanges:N,nodeLookup:j,parentLookup:S,domNode:z,nodeOrigin:k,nodeExtent:U,debug:R,fitViewQueued:V,zIndexMode:J}=_(),{changes:re,updatedInternals:K}=G3(w,j,S,z,k,U,J);K&&(q3(j,S,{nodeOrigin:k,nodeExtent:U,zIndexMode:J}),V?(T(),E({fitViewQueued:!1,fitViewOptions:void 0})):E({}),re?.length>0&&(R&&console.log("React Flow: trigger node changes",re),N?.(re)))},updateNodePositions:(w,N=!1)=>{const j=[];let S=[];const{nodeLookup:z,triggerNodeChanges:k,connection:U,updateConnection:R,onNodesChangeMiddlewareMap:V}=_();for(const[J,re]of w){const K=z.get(J),Q=!!(K?.expandParent&&K?.parentId&&re?.position),le={id:J,type:"position",position:Q?{x:Math.max(0,re.position.x),y:Math.max(0,re.position.y)}:re.position,dragging:N};if(K&&U.inProgress&&U.fromNode.id===K.id){const B=mi(K,U.fromHandle,me.Left,!0);R({...U,from:B})}Q&&K.parentId&&j.push({id:J,parentId:K.parentId,rect:{...re.internals.positionAbsolute,width:re.measured.width??0,height:re.measured.height??0}}),S.push(le)}if(j.length>0){const{parentLookup:J,nodeOrigin:re}=_(),K=uh(j,z,J,re);S.push(...K)}for(const J of V.values())S=J(S);k(S)},triggerNodeChanges:w=>{const{onNodesChange:N,setNodes:j,nodes:S,hasDefaultNodes:z,debug:k}=_();if(w?.length){if(z){const U=jv(w,S);j(U)}k&&console.log("React Flow: trigger node changes",w),N?.(w)}},triggerEdgeChanges:w=>{const{onEdgesChange:N,setEdges:j,edges:S,hasDefaultEdges:z,debug:k}=_();if(w?.length){if(z){const U=_v(w,S);j(U)}k&&console.log("React Flow: trigger edge changes",w),N?.(w)}},addSelectedNodes:w=>{const{multiSelectionActive:N,edgeLookup:j,nodeLookup:S,triggerNodeChanges:z,triggerEdgeChanges:k}=_();if(N){const U=w.map(R=>ri(R,!0));z(U);return}z(ol(S,new Set([...w]),!0)),k(ol(j))},addSelectedEdges:w=>{const{multiSelectionActive:N,edgeLookup:j,nodeLookup:S,triggerNodeChanges:z,triggerEdgeChanges:k}=_();if(N){const U=w.map(R=>ri(R,!0));k(U);return}k(ol(j,new Set([...w]))),z(ol(S,new Set,!0))},unselectNodesAndEdges:({nodes:w,edges:N}={})=>{const{edges:j,nodes:S,nodeLookup:z,triggerNodeChanges:k,triggerEdgeChanges:U}=_(),R=w||S,V=N||j,J=R.map(K=>{const Q=z.get(K.id);return Q&&(Q.selected=!1),ri(K.id,!1)}),re=V.map(K=>ri(K.id,!1));k(J),U(re)},setMinZoom:w=>{const{panZoom:N,maxZoom:j}=_();N?.setScaleExtent([w,j]),E({minZoom:w})},setMaxZoom:w=>{const{panZoom:N,minZoom:j}=_();N?.setScaleExtent([j,w]),E({maxZoom:w})},setTranslateExtent:w=>{_().panZoom?.setTranslateExtent(w),E({translateExtent:w})},resetSelectedElements:()=>{const{edges:w,nodes:N,triggerNodeChanges:j,triggerEdgeChanges:S,elementsSelectable:z}=_();if(!z)return;const k=N.reduce((R,V)=>V.selected?[...R,ri(V.id,!1)]:R,[]),U=w.reduce((R,V)=>V.selected?[...R,ri(V.id,!1)]:R,[]);j(k),S(U)},setNodeExtent:w=>{const{nodes:N,nodeLookup:j,parentLookup:S,nodeOrigin:z,elevateNodesOnSelect:k,nodeExtent:U,zIndexMode:R}=_();w[0][0]===U[0][0]&&w[0][1]===U[0][1]&&w[1][0]===U[1][0]&&w[1][1]===U[1][1]||(Df(N,j,S,{nodeOrigin:z,nodeExtent:w,elevateNodesOnSelect:k,checkEquality:!1,zIndexMode:R}),E({nodeExtent:w}))},panBy:w=>{const{transform:N,width:j,height:S,panZoom:z,translateExtent:k}=_();return Z3({delta:w,panZoom:z,transform:N,translateExtent:k,width:j,height:S})},setCenter:async(w,N,j)=>{const{width:S,height:z,maxZoom:k,panZoom:U}=_();if(!U)return Promise.resolve(!1);const R=typeof j?.zoom<"u"?j.zoom:k;return await U.setViewport({x:S/2-w*R,y:z/2-N*R,zoom:R},{duration:j?.duration,ease:j?.ease,interpolate:j?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{E({connection:{...Gx}})},updateConnection:w=>{E({connection:w})},reset:()=>E({...My()})}},Object.is);function c6({initialNodes:t,initialEdges:i,defaultNodes:l,defaultEdges:o,initialWidth:s,initialHeight:c,initialMinZoom:d,initialMaxZoom:m,initialFitViewOptions:p,fitView:g,nodeOrigin:x,nodeExtent:y,zIndexMode:v,children:E}){const[_]=M.useState(()=>u6({nodes:t,edges:i,defaultNodes:l,defaultEdges:o,width:s,height:c,fitView:g,minZoom:d,maxZoom:m,fitViewOptions:p,nodeOrigin:x,nodeExtent:y,zIndexMode:v}));return f.jsx(M5,{value:_,children:f.jsx(J5,{children:E})})}function d6({children:t,nodes:i,edges:l,defaultNodes:o,defaultEdges:s,width:c,height:d,fitView:m,fitViewOptions:p,minZoom:g,maxZoom:x,nodeOrigin:y,nodeExtent:v,zIndexMode:E}){return M.useContext(Su)?f.jsx(f.Fragment,{children:t}):f.jsx(c6,{initialNodes:i,initialEdges:l,defaultNodes:o,defaultEdges:s,initialWidth:c,initialHeight:d,fitView:m,initialFitViewOptions:p,initialMinZoom:g,initialMaxZoom:x,nodeOrigin:y,nodeExtent:v,zIndexMode:E,children:t})}const f6={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function h6({nodes:t,edges:i,defaultNodes:l,defaultEdges:o,className:s,nodeTypes:c,edgeTypes:d,onNodeClick:m,onEdgeClick:p,onInit:g,onMove:x,onMoveStart:y,onMoveEnd:v,onConnect:E,onConnectStart:_,onConnectEnd:T,onClickConnectStart:w,onClickConnectEnd:N,onNodeMouseEnter:j,onNodeMouseMove:S,onNodeMouseLeave:z,onNodeContextMenu:k,onNodeDoubleClick:U,onNodeDragStart:R,onNodeDrag:V,onNodeDragStop:J,onNodesDelete:re,onEdgesDelete:K,onDelete:Q,onSelectionChange:le,onSelectionDragStart:B,onSelectionDrag:G,onSelectionDragStop:A,onSelectionContextMenu:O,onSelectionStart:L,onSelectionEnd:$,onBeforeDelete:ee,connectionMode:D,connectionLineType:Y=Aa.Bezier,connectionLineStyle:P,connectionLineComponent:te,connectionLineContainerStyle:se,deleteKeyCode:ce="Backspace",selectionKeyCode:ue="Shift",selectionOnDrag:oe=!1,selectionMode:de=Lr.Full,panActivationKeyCode:ve="Space",multiSelectionKeyCode:be=Yr()?"Meta":"Control",zoomActivationKeyCode:ge=Yr()?"Meta":"Control",snapToGrid:xe,snapGrid:Ne,onlyRenderVisibleElements:He=!1,selectNodesOnDrag:je,nodesDraggable:Pe,autoPanOnNodeFocus:St,nodesConnectable:pt,nodesFocusable:Jt,nodeOrigin:Sn=Ev,edgesFocusable:Ra,edgesReconnectable:Oa,elementsSelectable:dt=!0,defaultViewport:gi=q5,minZoom:En=.5,maxZoom:In=2,translateExtent:Ha=Br,preventScrolling:Mu=!0,nodeExtent:pi,defaultMarkerColor:Tu="#b1b1b7",zoomOnScroll:zu=!0,zoomOnPinch:ka=!0,panOnScroll:vt=!1,panOnScrollSpeed:cn=.5,panOnScrollMode:bt=ci.Free,zoomOnDoubleClick:Au=!0,panOnDrag:Du=!0,onPaneClick:Ru,onPaneMouseEnter:yi,onPaneMouseMove:xi,onPaneMouseLeave:vi,onPaneScroll:Nn,onPaneContextMenu:bi,paneClickDistance:Ba=1,nodeClickDistance:Ou=0,children:no,onReconnect:Cl,onReconnectStart:La,onReconnectEnd:Hu,onEdgeContextMenu:ao,onEdgeDoubleClick:io,onEdgeMouseEnter:lo,onEdgeMouseMove:Ml,onEdgeMouseLeave:Tl,reconnectRadius:ro=10,onNodesChange:oo,onEdgesChange:dn,noDragClassName:ot="nodrag",noWheelClassName:yt="nowheel",noPanClassName:jn="nopan",fitView:wi,fitViewOptions:so,connectOnClick:ku,attributionPosition:uo,proOptions:Ua,defaultEdgeOptions:zl,elevateNodesOnSelect:ea=!0,elevateEdgesOnSelect:ta=!1,disableKeyboardA11y:na=!1,autoPanOnConnect:aa,autoPanOnNodeDrag:tt,autoPanSpeed:co,connectionRadius:fo,isValidConnection:_n,onError:ia,style:Bu,id:Al,nodeDragThreshold:ho,connectionDragThreshold:Lu,viewport:Si,onViewportChange:Ei,width:Pt,height:Et,colorMode:mo="light",debug:Uu,onScroll:Ni,ariaLabelConfig:go,zIndexMode:Ya="basic",...Yu},Nt){const qa=Al||"1",po=G5(mo),Dl=M.useCallback(Cn=>{Cn.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Ni?.(Cn)},[Ni]);return f.jsx("div",{"data-testid":"rf__wrapper",...Yu,onScroll:Dl,style:{...Bu,...f6},ref:Nt,className:rt(["react-flow",s,po]),id:Al,role:"application",children:f.jsxs(d6,{nodes:t,edges:i,width:Pt,height:Et,fitView:wi,fitViewOptions:so,minZoom:En,maxZoom:In,nodeOrigin:Sn,nodeExtent:pi,zIndexMode:Ya,children:[f.jsx(s6,{onInit:g,onNodeClick:m,onEdgeClick:p,onNodeMouseEnter:j,onNodeMouseMove:S,onNodeMouseLeave:z,onNodeContextMenu:k,onNodeDoubleClick:U,nodeTypes:c,edgeTypes:d,connectionLineType:Y,connectionLineStyle:P,connectionLineComponent:te,connectionLineContainerStyle:se,selectionKeyCode:ue,selectionOnDrag:oe,selectionMode:de,deleteKeyCode:ce,multiSelectionKeyCode:be,panActivationKeyCode:ve,zoomActivationKeyCode:ge,onlyRenderVisibleElements:He,defaultViewport:gi,translateExtent:Ha,minZoom:En,maxZoom:In,preventScrolling:Mu,zoomOnScroll:zu,zoomOnPinch:ka,zoomOnDoubleClick:Au,panOnScroll:vt,panOnScrollSpeed:cn,panOnScrollMode:bt,panOnDrag:Du,onPaneClick:Ru,onPaneMouseEnter:yi,onPaneMouseMove:xi,onPaneMouseLeave:vi,onPaneScroll:Nn,onPaneContextMenu:bi,paneClickDistance:Ba,nodeClickDistance:Ou,onSelectionContextMenu:O,onSelectionStart:L,onSelectionEnd:$,onReconnect:Cl,onReconnectStart:La,onReconnectEnd:Hu,onEdgeContextMenu:ao,onEdgeDoubleClick:io,onEdgeMouseEnter:lo,onEdgeMouseMove:Ml,onEdgeMouseLeave:Tl,reconnectRadius:ro,defaultMarkerColor:Tu,noDragClassName:ot,noWheelClassName:yt,noPanClassName:jn,rfId:qa,disableKeyboardA11y:na,nodeExtent:pi,viewport:Si,onViewportChange:Ei}),f.jsx(X5,{nodes:t,edges:i,defaultNodes:l,defaultEdges:o,onConnect:E,onConnectStart:_,onConnectEnd:T,onClickConnectStart:w,onClickConnectEnd:N,nodesDraggable:Pe,autoPanOnNodeFocus:St,nodesConnectable:pt,nodesFocusable:Jt,edgesFocusable:Ra,edgesReconnectable:Oa,elementsSelectable:dt,elevateNodesOnSelect:ea,elevateEdgesOnSelect:ta,minZoom:En,maxZoom:In,nodeExtent:pi,onNodesChange:oo,onEdgesChange:dn,snapToGrid:xe,snapGrid:Ne,connectionMode:D,translateExtent:Ha,connectOnClick:ku,defaultEdgeOptions:zl,fitView:wi,fitViewOptions:so,onNodesDelete:re,onEdgesDelete:K,onDelete:Q,onNodeDragStart:R,onNodeDrag:V,onNodeDragStop:J,onSelectionDrag:G,onSelectionDragStart:B,onSelectionDragStop:A,onMove:x,onMoveStart:y,onMoveEnd:v,noPanClassName:jn,nodeOrigin:Sn,rfId:qa,autoPanOnConnect:aa,autoPanOnNodeDrag:tt,autoPanSpeed:co,onError:ia,connectionRadius:fo,isValidConnection:_n,selectNodesOnDrag:je,nodeDragThreshold:ho,connectionDragThreshold:Lu,onBeforeDelete:ee,debug:Uu,ariaLabelConfig:go,zIndexMode:Ya}),f.jsx(Y5,{onSelectionChange:le}),no,f.jsx(H5,{proOptions:Ua,position:uo}),f.jsx(O5,{rfId:qa,disableKeyboardA11y:na})]})})}var m6=Cv(h6);function g6({dimensions:t,lineWidth:i,variant:l,className:o}){return f.jsx("path",{strokeWidth:i,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`,className:rt(["react-flow__background-pattern",l,o])})}function p6({radius:t,className:i}){return f.jsx("circle",{cx:t,cy:t,r:t,className:rt(["react-flow__background-pattern","dots",i])})}var Da;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(Da||(Da={}));const y6={[Da.Dots]:1,[Da.Lines]:1,[Da.Cross]:6},x6=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function Jv({id:t,variant:i=Da.Dots,gap:l=20,size:o,lineWidth:s=1,offset:c=0,color:d,bgColor:m,style:p,className:g,patternClassName:x}){const y=M.useRef(null),{transform:v,patternId:E}=Ae(x6,Qe),_=o||y6[i],T=i===Da.Dots,w=i===Da.Cross,N=Array.isArray(l)?l:[l,l],j=[N[0]*v[2]||1,N[1]*v[2]||1],S=_*v[2],z=Array.isArray(c)?c:[c,c],k=w?[S,S]:j,U=[z[0]*v[2]||1+k[0]/2,z[1]*v[2]||1+k[1]/2],R=`${E}${t||""}`;return f.jsxs("svg",{className:rt(["react-flow__background",g]),style:{...p,...Nu,"--xy-background-color-props":m,"--xy-background-pattern-color-props":d},ref:y,"data-testid":"rf__background",children:[f.jsx("pattern",{id:R,x:v[0]%j[0],y:v[1]%j[1],width:j[0],height:j[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${U[0]},-${U[1]})`,children:T?f.jsx(p6,{radius:S/2,className:x}):f.jsx(g6,{dimensions:k,lineWidth:s,variant:i,className:x})}),f.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${R})`})]})}Jv.displayName="Background";const v6=M.memo(Jv);function b6(){return f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:f.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function w6(){return f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:f.jsx("path",{d:"M0 0h32v4.2H0z"})})}function S6(){return f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:f.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function E6(){return f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:f.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function N6(){return f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:f.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Bs({children:t,className:i,...l}){return f.jsx("button",{type:"button",className:rt(["react-flow__controls-button",i]),...l,children:t})}const j6=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom,ariaLabelConfig:t.ariaLabelConfig});function Pv({style:t,showZoom:i=!0,showFitView:l=!0,showInteractive:o=!0,fitViewOptions:s,onZoomIn:c,onZoomOut:d,onFitView:m,onInteractiveChange:p,className:g,children:x,position:y="bottom-left",orientation:v="vertical","aria-label":E}){const _=Ke(),{isInteractive:T,minZoomReached:w,maxZoomReached:N,ariaLabelConfig:j}=Ae(j6,Qe),{zoomIn:S,zoomOut:z,fitView:k}=ch(),U=()=>{S(),c?.()},R=()=>{z(),d?.()},V=()=>{k(s),m?.()},J=()=>{_.setState({nodesDraggable:!T,nodesConnectable:!T,elementsSelectable:!T}),p?.(!T)},re=v==="horizontal"?"horizontal":"vertical";return f.jsxs(Eu,{className:rt(["react-flow__controls",re,g]),position:y,style:t,"data-testid":"rf__controls","aria-label":E??j["controls.ariaLabel"],children:[i&&f.jsxs(f.Fragment,{children:[f.jsx(Bs,{onClick:U,className:"react-flow__controls-zoomin",title:j["controls.zoomIn.ariaLabel"],"aria-label":j["controls.zoomIn.ariaLabel"],disabled:N,children:f.jsx(b6,{})}),f.jsx(Bs,{onClick:R,className:"react-flow__controls-zoomout",title:j["controls.zoomOut.ariaLabel"],"aria-label":j["controls.zoomOut.ariaLabel"],disabled:w,children:f.jsx(w6,{})})]}),l&&f.jsx(Bs,{className:"react-flow__controls-fitview",onClick:V,title:j["controls.fitView.ariaLabel"],"aria-label":j["controls.fitView.ariaLabel"],children:f.jsx(S6,{})}),o&&f.jsx(Bs,{className:"react-flow__controls-interactive",onClick:J,title:j["controls.interactive.ariaLabel"],"aria-label":j["controls.interactive.ariaLabel"],children:T?f.jsx(N6,{}):f.jsx(E6,{})}),x]})}Pv.displayName="Controls";const _6=M.memo(Pv);function C6({id:t,x:i,y:l,width:o,height:s,style:c,color:d,strokeColor:m,strokeWidth:p,className:g,borderRadius:x,shapeRendering:y,selected:v,onClick:E}){const{background:_,backgroundColor:T}=c||{},w=d||_||T;return f.jsx("rect",{className:rt(["react-flow__minimap-node",{selected:v},g]),x:i,y:l,rx:x,ry:x,width:o,height:s,style:{fill:w,stroke:m,strokeWidth:p},shapeRendering:y,onClick:E?N=>E(N,t):void 0})}const M6=M.memo(C6),T6=t=>t.nodes.map(i=>i.id),hf=t=>t instanceof Function?t:()=>t;function z6({nodeStrokeColor:t,nodeColor:i,nodeClassName:l="",nodeBorderRadius:o=5,nodeStrokeWidth:s,nodeComponent:c=M6,onClick:d}){const m=Ae(T6,Qe),p=hf(i),g=hf(t),x=hf(l),y=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return f.jsx(f.Fragment,{children:m.map(v=>f.jsx(D6,{id:v,nodeColorFunc:p,nodeStrokeColorFunc:g,nodeClassNameFunc:x,nodeBorderRadius:o,nodeStrokeWidth:s,NodeComponent:c,onClick:d,shapeRendering:y},v))})}function A6({id:t,nodeColorFunc:i,nodeStrokeColorFunc:l,nodeClassNameFunc:o,nodeBorderRadius:s,nodeStrokeWidth:c,shapeRendering:d,NodeComponent:m,onClick:p}){const{node:g,x,y,width:v,height:E}=Ae(_=>{const{internals:T}=_.nodeLookup.get(t),w=T.userNode,{x:N,y:j}=T.positionAbsolute,{width:S,height:z}=Pn(w);return{node:w,x:N,y:j,width:S,height:z}},Qe);return!g||g.hidden||!Px(g)?null:f.jsx(m,{x,y,width:v,height:E,style:g.style,selected:!!g.selected,className:o(g),color:i(g),borderRadius:s,strokeColor:l(g),strokeWidth:c,shapeRendering:d,onClick:p,id:g.id})}const D6=M.memo(A6);var R6=M.memo(z6);const O6=200,H6=150,k6=t=>!t.hidden,B6=t=>{const i={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:i,boundingRect:t.nodeLookup.size>0?Jx(Jr(t.nodeLookup,{filter:k6}),i):i,rfId:t.rfId,panZoom:t.panZoom,translateExtent:t.translateExtent,flowWidth:t.width,flowHeight:t.height,ariaLabelConfig:t.ariaLabelConfig}},L6="react-flow__minimap-desc";function Iv({style:t,className:i,nodeStrokeColor:l,nodeColor:o,nodeClassName:s="",nodeBorderRadius:c=5,nodeStrokeWidth:d,nodeComponent:m,bgColor:p,maskColor:g,maskStrokeColor:x,maskStrokeWidth:y,position:v="bottom-right",onClick:E,onNodeClick:_,pannable:T=!1,zoomable:w=!1,ariaLabel:N,inversePan:j,zoomStep:S=1,offsetScale:z=5}){const k=Ke(),U=M.useRef(null),{boundingRect:R,viewBB:V,rfId:J,panZoom:re,translateExtent:K,flowWidth:Q,flowHeight:le,ariaLabelConfig:B}=Ae(B6,Qe),G=t?.width??O6,A=t?.height??H6,O=R.width/G,L=R.height/A,$=Math.max(O,L),ee=$*G,D=$*A,Y=z*$,P=R.x-(ee-R.width)/2-Y,te=R.y-(D-R.height)/2-Y,se=ee+Y*2,ce=D+Y*2,ue=`${L6}-${J}`,oe=M.useRef(0),de=M.useRef();oe.current=$,M.useEffect(()=>{if(U.current&&re)return de.current=t5({domNode:U.current,panZoom:re,getTransform:()=>k.getState().transform,getViewScale:()=>oe.current}),()=>{de.current?.destroy()}},[re]),M.useEffect(()=>{de.current?.update({translateExtent:K,width:Q,height:le,inversePan:j,pannable:T,zoomStep:S,zoomable:w})},[T,w,j,S,K,Q,le]);const ve=E?xe=>{const[Ne,He]=de.current?.pointer(xe)||[0,0];E(xe,{x:Ne,y:He})}:void 0,be=_?M.useCallback((xe,Ne)=>{const He=k.getState().nodeLookup.get(Ne).internals.userNode;_(xe,He)},[]):void 0,ge=N??B["minimap.ariaLabel"];return f.jsx(Eu,{position:v,style:{...t,"--xy-minimap-background-color-props":typeof p=="string"?p:void 0,"--xy-minimap-mask-background-color-props":typeof g=="string"?g:void 0,"--xy-minimap-mask-stroke-color-props":typeof x=="string"?x:void 0,"--xy-minimap-mask-stroke-width-props":typeof y=="number"?y*$:void 0,"--xy-minimap-node-background-color-props":typeof o=="string"?o:void 0,"--xy-minimap-node-stroke-color-props":typeof l=="string"?l:void 0,"--xy-minimap-node-stroke-width-props":typeof d=="number"?d:void 0},className:rt(["react-flow__minimap",i]),"data-testid":"rf__minimap",children:f.jsxs("svg",{width:G,height:A,viewBox:`${P} ${te} ${se} ${ce}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":ue,ref:U,onClick:ve,children:[ge&&f.jsx("title",{id:ue,children:ge}),f.jsx(R6,{onClick:be,nodeColor:o,nodeStrokeColor:l,nodeBorderRadius:c,nodeClassName:s,nodeStrokeWidth:d,nodeComponent:m}),f.jsx("path",{className:"react-flow__minimap-mask",d:`M${P-Y},${te-Y}h${se+Y*2}v${ce+Y*2}h${-se-Y*2}z
        M${V.x},${V.y}h${V.width}v${V.height}h${-V.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}Iv.displayName="MiniMap";const U6=M.memo(Iv),Y6=t=>i=>t?`${Math.max(1/i.transform[2],1)}`:void 0,q6={[xl.Line]:"right",[xl.Handle]:"bottom-right"};function V6({nodeId:t,position:i,variant:l=xl.Handle,className:o,style:s=void 0,children:c,color:d,minWidth:m=10,minHeight:p=10,maxWidth:g=Number.MAX_VALUE,maxHeight:x=Number.MAX_VALUE,keepAspectRatio:y=!1,resizeDirection:v,autoScale:E=!0,shouldResize:_,onResizeStart:T,onResize:w,onResizeEnd:N}){const j=Av(),S=typeof t=="string"?t:j,z=Ke(),k=M.useRef(null),U=l===xl.Handle,R=Ae(M.useCallback(Y6(U&&E),[U,E]),Qe),V=M.useRef(null),J=i??q6[l];M.useEffect(()=>{if(!(!k.current||!S))return V.current||(V.current=g5({domNode:k.current,nodeId:S,getStoreItems:()=>{const{nodeLookup:K,transform:Q,snapGrid:le,snapToGrid:B,nodeOrigin:G,domNode:A}=z.getState();return{nodeLookup:K,transform:Q,snapGrid:le,snapToGrid:B,nodeOrigin:G,paneDomNode:A}},onChange:(K,Q)=>{const{triggerNodeChanges:le,nodeLookup:B,parentLookup:G,nodeOrigin:A}=z.getState(),O=[],L={x:K.x,y:K.y},$=B.get(S);if($&&$.expandParent&&$.parentId){const ee=$.origin??A,D=K.width??$.measured.width??0,Y=K.height??$.measured.height??0,P={id:$.id,parentId:$.parentId,rect:{width:D,height:Y,...Ix({x:K.x??$.position.x,y:K.y??$.position.y},{width:D,height:Y},$.parentId,B,ee)}},te=uh([P],B,G,A);O.push(...te),L.x=K.x?Math.max(ee[0]*D,K.x):void 0,L.y=K.y?Math.max(ee[1]*Y,K.y):void 0}if(L.x!==void 0&&L.y!==void 0){const ee={id:S,type:"position",position:{...L}};O.push(ee)}if(K.width!==void 0&&K.height!==void 0){const D={id:S,type:"dimensions",resizing:!0,setAttributes:v?v==="horizontal"?"width":"height":!0,dimensions:{width:K.width,height:K.height}};O.push(D)}for(const ee of Q){const D={...ee,type:"position"};O.push(D)}le(O)},onEnd:({width:K,height:Q})=>{const le={id:S,type:"dimensions",resizing:!1,dimensions:{width:K,height:Q}};z.getState().triggerNodeChanges([le])}})),V.current.update({controlPosition:J,boundaries:{minWidth:m,minHeight:p,maxWidth:g,maxHeight:x},keepAspectRatio:y,resizeDirection:v,onResizeStart:T,onResize:w,onResizeEnd:N,shouldResize:_}),()=>{V.current?.destroy()}},[J,m,p,g,x,y,T,w,N,_]);const re=J.split("-");return f.jsx("div",{className:rt(["react-flow__resize-control","nodrag",...re,l,o]),ref:k,style:{...s,scale:R,...d&&{[U?"backgroundColor":"borderColor"]:d}},children:c})}M.memo(V6);const mf=[{id:"trigger-1",type:"trigger",position:{x:250,y:50},data:{label:"Inicio",config:{type:"classification",conditions:{intent:["sales"]}}}}],$6=[],Nl=Jy((t,i)=>({flowId:null,flowName:"Nuevo Flujo",flowSlug:null,isActive:!1,isSaved:!0,nodes:mf,edges:$6,selectedNode:null,selectedEdge:null,isSidebarOpen:!0,isPropertiesOpen:!1,onNodesChange:l=>{t({nodes:jv(l,i().nodes),isSaved:!1})},onEdgesChange:l=>{t({edges:_v(l,i().edges),isSaved:!1})},onConnect:l=>{t({edges:rv({...l,type:"smoothstep",animated:!0,style:{stroke:"#25D366",strokeWidth:2}},i().edges),isSaved:!1})},addNode:(l,o)=>{const s=`${l}-${Date.now()}`,d={id:s,type:l,position:o,data:{trigger:{label:"Trigger",config:{type:"classification",conditions:{}}},message:{label:"Mensaje",content:"Escribe tu mensaje aqu..."},question:{label:"Pregunta",content:"Cul es tu opcin?",variable:"respuesta",options:[]},condition:{label:"Condicin",conditions:[]},action:{label:"Accin",action:"",payload:{}},transfer:{label:"Transferir",content:"Transfiriendo a un agente..."},end:{label:"Fin"}}[l]||{label:l}};return t({nodes:[...i().nodes,d],isSaved:!1}),s},updateNodeData:(l,o)=>{t({nodes:i().nodes.map(s=>s.id===l?{...s,data:{...s.data,...o}}:s),isSaved:!1})},deleteNode:l=>{t({nodes:i().nodes.filter(o=>o.id!==l),edges:i().edges.filter(o=>o.source!==l&&o.target!==l),selectedNode:null,isSaved:!1})},setSelectedNode:l=>t({selectedNode:l,isPropertiesOpen:!!l}),setSelectedEdge:l=>t({selectedEdge:l}),clearSelection:()=>t({selectedNode:null,selectedEdge:null}),toggleSidebar:()=>t({isSidebarOpen:!i().isSidebarOpen}),toggleProperties:()=>t({isPropertiesOpen:!i().isPropertiesOpen}),setFlowMeta:l=>t({flowId:l.id,flowName:l.name,flowSlug:l.slug,isActive:l.is_active}),loadFlow:l=>{const o={trigger:"Inicio",message:"Mensaje",question:"Pregunta",condition:"Condicin",action:"Accin",transfer:"Transferir",end:"Fin"},s=(l.nodes||[]).map(c=>{let d=o[c.type]||c.type;return c.content&&c.content.length>0&&(d=c.content.substring(0,25)+(c.content.length>25?"...":"")),c.action&&(d=`Accin: ${c.action}`),{id:c.id,type:c.type,position:c.position||{x:250,y:50},data:{label:d,content:c.content,variable:c.variable,options:c.options,conditions:c.conditions,action:c.action,payload:c.payload,config:c.config||(c.type==="trigger"?l.trigger_config:void 0)}}});t({flowId:l.id,flowName:l.name,flowSlug:l.slug,isActive:l.is_active,nodes:s.length>0?s:mf,edges:l.connections?.map(c=>({id:`${c.from}-${c.to}`,source:c.from,target:c.to,type:"smoothstep",animated:!0,label:c.label,style:{stroke:"#25D366",strokeWidth:2}}))||[],isSaved:!0})},resetFlow:()=>t({flowId:null,flowName:"Nuevo Flujo",flowSlug:null,isActive:!1,nodes:mf,edges:[],selectedNode:null,isSaved:!0}),markSaved:()=>t({isSaved:!0}),exportFlow:()=>{const l=i();return{name:l.flowName,trigger_config:l.nodes.find(o=>o.type==="trigger")?.data.config||{},nodes:l.nodes.map(o=>({id:o.id,type:o.type,content:o.data.content,variable:o.data.variable,options:o.data.options,conditions:o.data.conditions,action:o.data.action,payload:o.data.payload,position:o.position})),connections:l.edges.map(o=>({from:o.source,to:o.target,label:o.label}))}}})),jl="/api/visual-flows";async function _l(t,i){if(!t.ok){let l=i;try{const o=await t.json();o.error&&(l=o.error)}catch{}throw new Error(l)}return t.json()}async function X6(){const t=await fetch(jl);return _l(t,"Error al cargar flujos")}async function e1(t){const i=await fetch(`${jl}/${t}`);return _l(i,"Flujo no encontrado")}async function G6(t){const i=await fetch(jl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return _l(i,"Error al crear flujo")}async function Z6(t,i){const l=await fetch(`${jl}/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});return _l(l,"Error al actualizar flujo")}async function Q6(t,i=!0){const l=await fetch(`${jl}/${t}/activate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({active:i})});return _l(l,"Error al activar flujo")}async function W6(t,i){const l=await fetch(`${jl}/templates/${t}/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:i})});return _l(l,"Error al crear desde plantilla")}function K6({onTestClick:t}){const{flowId:i,flowName:l,isActive:o,isSaved:s,exportFlow:c,markSaved:d,loadFlow:m,resetFlow:p,setFlowMeta:g}=Nl(),[x,y]=M.useState(!1),[v,E]=M.useState(!1),[_,T]=M.useState([]),[w,N]=M.useState(l),j=async()=>{y(!0);try{const R=c();if(R.name=w,i)await Z6(i,R);else{const V=await G6(R);g({id:V.id,name:w,slug:V.slug,is_active:!1})}d(),alert("Flujo guardado correctamente")}catch(R){alert("Error al guardar: "+R.message)}finally{y(!1)}},S=async()=>{if(!i){alert("Primero guarda el flujo");return}try{await Q6(i,!o),g({id:i,name:w,is_active:!o}),alert(o?"Flujo desactivado":"Flujo activado")}catch(R){alert("Error: "+R.message)}},z=async()=>{try{const R=await X6();T(R.flows||[]),E(!0)}catch(R){alert("Error cargando flujos: "+R.message)}},k=async R=>{try{const V=await e1(R.id);m(V.flow),N(V.flow.name),E(!1)}catch(V){alert("Error cargando flujo: "+V.message)}},U=()=>{!s&&!confirm("Tienes cambios sin guardar. Continuar?")||(p(),N("Nuevo Flujo"))};return f.jsxs("div",{style:{height:"56px",background:"white",borderBottom:"1px solid #e5e7eb",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 16px"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[f.jsx("span",{style:{fontSize:"24px"},children:""}),f.jsx("span",{style:{fontWeight:600,color:"#075E54"},children:"Flow Builder"})]}),f.jsx("div",{style:{borderLeft:"1px solid #e5e7eb",height:"24px"}}),f.jsx("input",{type:"text",value:w,onChange:R=>N(R.target.value),style:{border:"none",fontSize:"15px",fontWeight:500,background:"transparent",width:"200px"},placeholder:"Nombre del flujo"}),!s&&f.jsx("span",{style:{fontSize:"11px",background:"#fef3c7",color:"#92400e",padding:"2px 8px",borderRadius:"4px"},children:"Sin guardar"}),o&&f.jsx("span",{style:{fontSize:"11px",background:"#d1fae5",color:"#065f46",padding:"2px 8px",borderRadius:"4px"},children:"Activo"})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[f.jsx("button",{onClick:t,style:{padding:"8px 16px",background:"linear-gradient(135deg, #075E54 0%, #128C7E 100%)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:500},children:" Probar"}),f.jsx("div",{style:{borderLeft:"1px solid #e5e7eb",height:"24px",margin:"0 4px"}}),f.jsx("button",{onClick:U,style:{padding:"8px 16px",background:"white",border:"1px solid #d1d5db",borderRadius:"6px",cursor:"pointer",fontSize:"13px"},children:"+ Nuevo"}),f.jsx("button",{onClick:z,style:{padding:"8px 16px",background:"white",border:"1px solid #d1d5db",borderRadius:"6px",cursor:"pointer",fontSize:"13px"},children:" Abrir"}),f.jsx("button",{onClick:j,disabled:x,style:{padding:"8px 16px",background:"#25D366",color:"white",border:"none",borderRadius:"6px",cursor:x?"wait":"pointer",fontSize:"13px",fontWeight:500},children:x?"Guardando...":" Guardar"}),i&&f.jsx("button",{onClick:S,style:{padding:"8px 16px",background:o?"#fee2e2":"#d1fae5",color:o?"#dc2626":"#065f46",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:500},children:o?" Desactivar":" Activar"})]}),v&&f.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:f.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"24px",width:"400px",maxHeight:"500px",overflow:"auto"},children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"16px"},children:[f.jsx("h3",{style:{margin:0},children:"Seleccionar flujo"}),f.jsx("button",{onClick:()=>E(!1),style:{background:"none",border:"none",cursor:"pointer",fontSize:"18px"},children:""})]}),_.length===0?f.jsx("p",{style:{color:"#6b7280",textAlign:"center"},children:"No hay flujos guardados"}):f.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:_.map(R=>f.jsxs("div",{onClick:()=>k(R),style:{padding:"12px",border:"1px solid #e5e7eb",borderRadius:"8px",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center"},onMouseOver:V=>V.currentTarget.style.background="#f9fafb",onMouseOut:V=>V.currentTarget.style.background="white",children:[f.jsxs("div",{children:[f.jsx("div",{style:{fontWeight:500},children:R.name}),f.jsx("div",{style:{fontSize:"12px",color:"#6b7280"},children:R.slug})]}),R.is_active&&f.jsx("span",{style:{fontSize:"10px",background:"#d1fae5",color:"#065f46",padding:"2px 6px",borderRadius:"4px"},children:"Activo"})]},R.id))})]})})]})}const F6=[{type:"trigger",label:"Trigger",icon:"",color:"#667eea",description:"Inicio del flujo"},{type:"message",label:"Mensaje",icon:"",color:"#25D366",description:"Enviar mensaje"},{type:"question",label:"Pregunta",icon:"",color:"#34B7F1",description:"Preguntar y esperar"},{type:"condition",label:"Condicin",icon:"",color:"#f59e0b",description:"Bifurcacin"},{type:"action",label:"Accin",icon:"",color:"#6366f1",description:"Ejecutar accin"},{type:"ai_response",label:"Respuesta IA",icon:"",color:"#8b5cf6",description:"Generar con IA"},{type:"webhook",label:"Webhook",icon:"",color:"#f97316",description:"Llamar API externa"},{type:"delay",label:"Espera",icon:"",color:"#64748b",description:"Pausar X segundos"},{type:"transfer",label:"Transferir",icon:"",color:"#ec4899",description:"Pasar a humano"},{type:"end",label:"Fin",icon:"",color:"#ef4444",description:"Terminar flujo"}];function J6(){const{isSidebarOpen:t,toggleSidebar:i}=Nl(),l=(o,s)=>{o.dataTransfer.setData("application/reactflow",s),o.dataTransfer.effectAllowed="move"};return t?f.jsxs("div",{style:{width:"240px",background:"white",borderRight:"1px solid #e5e7eb",padding:"16px",display:"flex",flexDirection:"column",height:"100%"},children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[f.jsx("h3",{style:{margin:0,fontSize:"14px",fontWeight:600},children:"Nodos"}),f.jsx("button",{onClick:i,style:{background:"none",border:"none",cursor:"pointer",fontSize:"18px",color:"#6b7280"},children:""})]}),f.jsx("p",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"16px"},children:"Arrastra los nodos al canvas para construir tu flujo"}),f.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:F6.map(o=>f.jsxs("div",{draggable:!0,onDragStart:s=>l(s,o.type),style:{padding:"10px 12px",borderRadius:"8px",cursor:"grab",display:"flex",alignItems:"center",gap:"10px",background:`${o.color}15`,border:`1px solid ${o.color}30`,transition:"all 0.2s"},onMouseOver:s=>{s.currentTarget.style.transform="translateX(4px)",s.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.1)"},onMouseOut:s=>{s.currentTarget.style.transform="none",s.currentTarget.style.boxShadow="none"},children:[f.jsx("span",{style:{fontSize:"20px"},children:o.icon}),f.jsxs("div",{children:[f.jsx("div",{style:{fontWeight:500,fontSize:"13px"},children:o.label}),f.jsx("div",{style:{fontSize:"11px",color:"#6b7280"},children:o.description})]})]},o.type))})]}):f.jsxs("button",{onClick:i,style:{position:"absolute",left:10,top:10,zIndex:10,background:"white",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px 12px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[f.jsx("span",{children:""})," Nodos"]})}const Ty={trigger:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none"},message:{background:"white",border:"2px solid #25D366"},question:{background:"white",border:"2px solid #34B7F1"},condition:{background:"#fef3c7",border:"2px solid #f59e0b"},action:{background:"#e0e7ff",border:"2px solid #6366f1"},transfer:{background:"#fce7f3",border:"2px solid #ec4899"},end:{background:"#fee2e2",border:"2px solid #ef4444"}},P6={trigger:"",message:"",question:"",condition:"",action:"",transfer:"",end:""};function I6({id:t,data:i,type:l,selected:o}){const s=Ty[l]||Ty.message,c=P6[l]||"",d=l!=="end",m=l!=="trigger";return f.jsxs("div",{style:{...s,padding:"12px 16px",borderRadius:"8px",minWidth:"180px",maxWidth:"250px",boxShadow:o?"0 0 0 2px #3b82f6":"0 2px 8px rgba(0,0,0,0.1)",cursor:"pointer"},children:[m&&f.jsx(vl,{type:"target",position:me.Top,style:{background:"#6b7280",width:10,height:10}}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[f.jsx("span",{style:{fontSize:"16px"},children:c}),f.jsx("strong",{style:{fontSize:"13px"},children:i.label||l})]}),i.content&&f.jsxs("div",{style:{fontSize:"11px",opacity:.8,marginTop:"4px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[i.content.substring(0,40),i.content.length>40?"...":""]}),i.options&&i.options.length>0&&f.jsxs("div",{style:{fontSize:"10px",marginTop:"6px",opacity:.7},children:[i.options.length," opciones"]}),d&&f.jsx(vl,{type:"source",position:me.Bottom,style:{background:"#25D366",width:10,height:10}})]})}const ii=M.memo(I6),eM={trigger:t=>f.jsx(ii,{...t,type:"trigger"}),message:t=>f.jsx(ii,{...t,type:"message"}),question:t=>f.jsx(ii,{...t,type:"question"}),condition:t=>f.jsx(ii,{...t,type:"condition"}),action:t=>f.jsx(ii,{...t,type:"action"}),transfer:t=>f.jsx(ii,{...t,type:"transfer"}),end:t=>f.jsx(ii,{...t,type:"end"})};function tM(){const t=M.useRef(null),{nodes:i,edges:l,onNodesChange:o,onEdgesChange:s,onConnect:c,addNode:d,setSelectedNode:m}=Nl(),p=M.useCallback(v=>{v.preventDefault(),v.dataTransfer.dropEffect="move"},[]),g=M.useCallback(v=>{v.preventDefault();const E=v.dataTransfer.getData("application/reactflow");if(!E)return;const _=t.current.getBoundingClientRect(),T={x:v.clientX-_.left-90,y:v.clientY-_.top-25};d(E,T)},[d]),x=M.useCallback((v,E)=>{m(E)},[m]),y=M.useCallback(()=>{m(null)},[m]);return f.jsx("div",{ref:t,style:{flex:1,height:"100%"},children:f.jsxs(m6,{nodes:i,edges:l,onNodesChange:o,onEdgesChange:s,onConnect:c,onDrop:g,onDragOver:p,onNodeClick:x,onPaneClick:y,nodeTypes:eM,fitView:!0,snapToGrid:!0,snapGrid:[15,15],defaultEdgeOptions:{type:"smoothstep",animated:!0,style:{stroke:"#25D366",strokeWidth:2}},children:[f.jsx(v6,{color:"#e5e7eb",gap:20}),f.jsx(_6,{}),f.jsx(U6,{nodeColor:v=>({trigger:"#667eea",message:"#25D366",question:"#34B7F1",condition:"#f59e0b",action:"#6366f1",transfer:"#ec4899",end:"#ef4444"})[v.type]||"#6b7280",maskColor:"rgba(255, 255, 255, 0.8)"})]})})}const nM=[{value:"sales",label:"Ventas",color:"#10b981"},{value:"support",label:"Soporte",color:"#3b82f6"},{value:"complaint",label:"Quejas",color:"#ef4444"},{value:"info",label:"Informacin",color:"#8b5cf6"},{value:"greeting",label:"Saludo",color:"#f59e0b"}],aM=[{value:"low",label:"Baja"},{value:"medium",label:"Media"},{value:"high",label:"Alta"},{value:"critical",label:"Crtica"}];function iM(){const{selectedNode:t,updateNodeData:i,deleteNode:l,isPropertiesOpen:o,toggleProperties:s}=Nl(),[c,d]=M.useState({}),[m,p]=M.useState({type:"keyword",keywords:[],conditions:{}});M.useEffect(()=>{t&&(d(t.data||{}),t.type==="trigger"&&t.data?.config&&p(t.data.config))},[t]);const g=(j,S)=>{const z={...c,[j]:S};d(z),i(t.id,{[j]:S})},x=(j,S,z)=>{const k=[...c.options||[]];k[j]={...k[j],[S]:z},g("options",k)},y=()=>{const j=[...c.options||[],{label:"Nueva opcin",value:""}];g("options",j)},v=j=>{const S=c.options.filter((z,k)=>k!==j);g("options",S)},E=j=>{const S={type:j,keywords:[],conditions:{}};p(S),i(t.id,{config:S})},_=j=>{const S=j.split(",").map(k=>k.trim()).filter(k=>k),z={...m,keywords:S};p(z),i(t.id,{config:z})},T=j=>{const S=m.conditions?.intent||[];let z;S.includes(j)?z=S.filter(U=>U!==j):z=[...S,j];const k={...m,conditions:{...m.conditions,intent:z}};p(k),i(t.id,{config:k})},w=j=>{const S={...m,conditions:{...m.conditions,urgency:j}};p(S),i(t.id,{config:S})},N=j=>{const S={...m,conditions:{...m.conditions,min_lead_score:parseInt(j)||0}};p(S),i(t.id,{config:S})};return!o||!t?null:f.jsxs("div",{style:{width:"300px",background:"white",borderLeft:"1px solid #e5e7eb",padding:"16px",height:"100%",overflow:"auto"},children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[f.jsx("h3",{style:{margin:0,fontSize:"14px",fontWeight:600},children:"Propiedades"}),f.jsx("button",{onClick:s,style:{background:"none",border:"none",cursor:"pointer",fontSize:"18px",color:"#6b7280"},children:""})]}),f.jsxs("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"16px"},children:["Tipo: ",f.jsx("strong",{children:t.type})]}),f.jsxs("div",{style:{marginBottom:"16px"},children:[f.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:500,marginBottom:"4px"},children:"Etiqueta"}),f.jsx("input",{type:"text",value:c.label||"",onChange:j=>g("label",j.target.value),style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"13px"}})]}),t.type==="trigger"&&f.jsxs("div",{style:{marginBottom:"16px",padding:"12px",background:"#f8fafc",borderRadius:"8px",border:"1px solid #e2e8f0"},children:[f.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:600,marginBottom:"12px",color:"#475569"},children:"Configuracin del Trigger"}),f.jsxs("div",{style:{marginBottom:"12px"},children:[f.jsx("label",{style:{display:"block",fontSize:"11px",fontWeight:500,marginBottom:"6px",color:"#64748b"},children:"Tipo de activacin"}),f.jsx("div",{style:{display:"flex",gap:"6px"},children:[{value:"keyword",label:"Palabras clave"},{value:"classification",label:"Clasificacin"},{value:"always",label:"Siempre"}].map(j=>f.jsx("button",{onClick:()=>E(j.value),style:{flex:1,padding:"8px 4px",fontSize:"11px",border:m.type===j.value?"2px solid #25D366":"1px solid #d1d5db",borderRadius:"6px",background:m.type===j.value?"#dcfce7":"white",color:m.type===j.value?"#166534":"#6b7280",cursor:"pointer",fontWeight:m.type===j.value?600:400},children:j.label},j.value))})]}),m.type==="keyword"&&f.jsxs("div",{style:{marginBottom:"12px"},children:[f.jsx("label",{style:{display:"block",fontSize:"11px",fontWeight:500,marginBottom:"4px",color:"#64748b"},children:"Palabras clave (separadas por coma)"}),f.jsx("input",{type:"text",value:(m.keywords||[]).join(", "),onChange:j=>_(j.target.value),placeholder:"precio, costo, cotizar, cuanto",style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"12px"}}),f.jsx("p",{style:{fontSize:"10px",color:"#94a3b8",marginTop:"4px"},children:"El flujo se activa si el mensaje contiene alguna de estas palabras"})]}),m.type==="classification"&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{style:{marginBottom:"12px"},children:[f.jsx("label",{style:{display:"block",fontSize:"11px",fontWeight:500,marginBottom:"6px",color:"#64748b"},children:"Intenciones del mensaje"}),f.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:nM.map(j=>{const S=(m.conditions?.intent||[]).includes(j.value);return f.jsxs("button",{onClick:()=>T(j.value),style:{padding:"6px 10px",fontSize:"11px",border:S?`2px solid ${j.color}`:"1px solid #d1d5db",borderRadius:"16px",background:S?`${j.color}20`:"white",color:S?j.color:"#6b7280",cursor:"pointer",fontWeight:S?600:400},children:[S&&" ",j.label]},j.value)})})]}),f.jsxs("div",{style:{marginBottom:"12px"},children:[f.jsx("label",{style:{display:"block",fontSize:"11px",fontWeight:500,marginBottom:"4px",color:"#64748b"},children:"Urgencia mnima"}),f.jsxs("select",{value:m.conditions?.urgency||"",onChange:j=>w(j.target.value),style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"12px"},children:[f.jsx("option",{value:"",children:"Cualquiera"}),aM.map(j=>f.jsx("option",{value:j.value,children:j.label},j.value))]})]}),f.jsxs("div",{children:[f.jsx("label",{style:{display:"block",fontSize:"11px",fontWeight:500,marginBottom:"4px",color:"#64748b"},children:"Lead score mnimo"}),f.jsx("input",{type:"number",min:"0",max:"100",value:m.conditions?.min_lead_score||0,onChange:j=>N(j.target.value),style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"12px"}}),f.jsx("p",{style:{fontSize:"10px",color:"#94a3b8",marginTop:"4px"},children:"Solo activa si el lead tiene este puntaje o ms (0-100)"})]})]}),m.type==="always"&&f.jsx("div",{style:{padding:"12px",background:"#fef3c7",borderRadius:"6px",border:"1px solid #fcd34d"},children:f.jsx("p",{style:{fontSize:"11px",color:"#92400e",margin:0},children:" Este flujo se activar para TODOS los mensajes entrantes que no coincidan con otros flujos. salo como flujo por defecto."})})]}),["message","question","transfer"].includes(t.type)&&f.jsxs("div",{style:{marginBottom:"16px"},children:[f.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:500,marginBottom:"4px"},children:"Contenido del mensaje"}),f.jsx("textarea",{value:c.content||"",onChange:j=>g("content",j.target.value),rows:4,style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"13px",resize:"vertical"},placeholder:"Escribe el mensaje..."}),f.jsxs("p",{style:{fontSize:"11px",color:"#6b7280",marginTop:"4px"},children:["Usa ","{{variable}}"," para insertar variables"]})]}),t.type==="question"&&f.jsxs("div",{style:{marginBottom:"16px"},children:[f.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:500,marginBottom:"4px"},children:"Guardar respuesta en variable"}),f.jsx("input",{type:"text",value:c.variable||"",onChange:j=>g("variable",j.target.value),style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"13px"},placeholder:"nombre_variable"})]}),t.type==="question"&&f.jsxs("div",{style:{marginBottom:"16px"},children:[f.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:500,marginBottom:"8px"},children:"Opciones de respuesta"}),(c.options||[]).map((j,S)=>f.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[f.jsx("input",{type:"text",value:j.label,onChange:z=>x(S,"label",z.target.value),placeholder:"Texto",style:{flex:1,padding:"6px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"12px"}}),f.jsx("input",{type:"text",value:j.value,onChange:z=>x(S,"value",z.target.value),placeholder:"Valor",style:{width:"80px",padding:"6px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"12px"}}),f.jsx("button",{onClick:()=>v(S),style:{background:"#fee2e2",border:"none",borderRadius:"4px",padding:"0 8px",cursor:"pointer",color:"#ef4444"},children:""})]},S)),f.jsx("button",{onClick:y,style:{background:"#f3f4f6",border:"1px dashed #d1d5db",borderRadius:"6px",padding:"8px",width:"100%",cursor:"pointer",fontSize:"12px"},children:"+ Agregar opcin"})]}),t.type==="action"&&f.jsxs("div",{style:{marginBottom:"16px"},children:[f.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:500,marginBottom:"4px"},children:"Tipo de accin"}),f.jsxs("select",{value:c.action||"",onChange:j=>g("action",j.target.value),style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"13px"},children:[f.jsx("option",{value:"",children:"Selecciona..."}),f.jsx("option",{value:"notify_sales",children:"Notificar a ventas"}),f.jsx("option",{value:"create_ticket",children:"Crear ticket"}),f.jsx("option",{value:"save_lead",children:"Guardar lead"}),f.jsx("option",{value:"send_email",children:"Enviar email"}),f.jsx("option",{value:"webhook",children:"Llamar webhook"}),f.jsx("option",{value:"search_faq",children:"Buscar en FAQ"})]})]}),t.type==="ai_response"&&f.jsxs("div",{style:{marginBottom:"16px",padding:"12px",background:"#f5f3ff",borderRadius:"8px",border:"1px solid #c4b5fd"},children:[f.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:600,marginBottom:"12px",color:"#5b21b6"},children:" Configuracin de IA"}),f.jsxs("div",{style:{marginBottom:"12px"},children:[f.jsx("label",{style:{display:"block",fontSize:"11px",fontWeight:500,marginBottom:"4px",color:"#6b7280"},children:"Prompt del sistema"}),f.jsx("textarea",{value:c.system_prompt||"",onChange:j=>g("system_prompt",j.target.value),rows:3,style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"12px",resize:"vertical"},placeholder:"Eres un asistente de ventas amable y profesional..."})]}),f.jsxs("div",{style:{marginBottom:"12px"},children:[f.jsx("label",{style:{display:"block",fontSize:"11px",fontWeight:500,marginBottom:"4px",color:"#6b7280"},children:"Prompt del usuario"}),f.jsx("textarea",{value:c.user_prompt||"",onChange:j=>g("user_prompt",j.target.value),rows:2,style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"12px",resize:"vertical"},placeholder:"El cliente pregunta: {{initial_message}}"}),f.jsxs("p",{style:{fontSize:"10px",color:"#94a3b8",marginTop:"4px"},children:["Usa ","{{variable}}"," para insertar datos dinmicos"]})]}),f.jsxs("div",{style:{marginBottom:"12px"},children:[f.jsx("label",{style:{display:"block",fontSize:"11px",fontWeight:500,marginBottom:"4px",color:"#6b7280"},children:"Modelo"}),f.jsxs("select",{value:c.model||"gpt-4o-mini",onChange:j=>g("model",j.target.value),style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"12px"},children:[f.jsx("option",{value:"gpt-4o-mini",children:"GPT-4o Mini (rpido)"}),f.jsx("option",{value:"gpt-4o",children:"GPT-4o (preciso)"}),f.jsx("option",{value:"gpt-4-turbo",children:"GPT-4 Turbo"})]})]}),f.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"12px"},children:[f.jsxs("div",{style:{flex:1},children:[f.jsx("label",{style:{display:"block",fontSize:"11px",fontWeight:500,marginBottom:"4px",color:"#6b7280"},children:"Temperatura"}),f.jsx("input",{type:"number",min:"0",max:"1",step:"0.1",value:c.temperature||.7,onChange:j=>g("temperature",parseFloat(j.target.value)),style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"12px"}})]}),f.jsxs("div",{style:{flex:1},children:[f.jsx("label",{style:{display:"block",fontSize:"11px",fontWeight:500,marginBottom:"4px",color:"#6b7280"},children:"Max tokens"}),f.jsx("input",{type:"number",min:"50",max:"2000",step:"50",value:c.max_tokens||200,onChange:j=>g("max_tokens",parseInt(j.target.value)),style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"12px"}})]})]}),f.jsxs("div",{children:[f.jsx("label",{style:{display:"block",fontSize:"11px",fontWeight:500,marginBottom:"4px",color:"#6b7280"},children:"Guardar respuesta en variable (opcional)"}),f.jsx("input",{type:"text",value:c.variable||"",onChange:j=>g("variable",j.target.value),style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"12px"},placeholder:"ai_response"})]})]}),t.type==="webhook"&&f.jsxs("div",{style:{marginBottom:"16px",padding:"12px",background:"#fff7ed",borderRadius:"8px",border:"1px solid #fed7aa"},children:[f.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:600,marginBottom:"12px",color:"#c2410c"},children:" Configuracin de Webhook"}),f.jsxs("div",{style:{marginBottom:"12px"},children:[f.jsx("label",{style:{display:"block",fontSize:"11px",fontWeight:500,marginBottom:"4px",color:"#6b7280"},children:"URL del endpoint"}),f.jsx("input",{type:"text",value:c.url||"",onChange:j=>g("url",j.target.value),style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"12px"},placeholder:"https://api.ejemplo.com/endpoint"})]}),f.jsxs("div",{style:{marginBottom:"12px"},children:[f.jsx("label",{style:{display:"block",fontSize:"11px",fontWeight:500,marginBottom:"4px",color:"#6b7280"},children:"Mtodo HTTP"}),f.jsxs("select",{value:c.method||"POST",onChange:j=>g("method",j.target.value),style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"12px"},children:[f.jsx("option",{value:"GET",children:"GET"}),f.jsx("option",{value:"POST",children:"POST"}),f.jsx("option",{value:"PUT",children:"PUT"}),f.jsx("option",{value:"PATCH",children:"PATCH"}),f.jsx("option",{value:"DELETE",children:"DELETE"})]})]}),f.jsxs("div",{style:{marginBottom:"12px"},children:[f.jsx("label",{style:{display:"block",fontSize:"11px",fontWeight:500,marginBottom:"4px",color:"#6b7280"},children:"Headers (JSON)"}),f.jsx("textarea",{value:c.headers||`{
  "Content-Type": "application/json"
}`,onChange:j=>g("headers",j.target.value),rows:3,style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"11px",fontFamily:"monospace",resize:"vertical"}})]}),f.jsxs("div",{style:{marginBottom:"12px"},children:[f.jsxs("label",{style:{display:"block",fontSize:"11px",fontWeight:500,marginBottom:"4px",color:"#6b7280"},children:["Body (JSON) - Usa ","{{variable}}"," para datos dinmicos"]}),f.jsx("textarea",{value:c.body||`{
  "phone": "{{phone}}",
  "message": "{{initial_message}}"
}`,onChange:j=>g("body",j.target.value),rows:4,style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"11px",fontFamily:"monospace",resize:"vertical"}})]}),f.jsxs("div",{style:{marginBottom:"12px"},children:[f.jsx("label",{style:{display:"block",fontSize:"11px",fontWeight:500,marginBottom:"4px",color:"#6b7280"},children:"Timeout (ms)"}),f.jsx("input",{type:"number",min:"1000",max:"30000",step:"1000",value:c.timeout||5e3,onChange:j=>g("timeout",parseInt(j.target.value)),style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"12px"}})]}),f.jsxs("div",{children:[f.jsx("label",{style:{display:"block",fontSize:"11px",fontWeight:500,marginBottom:"4px",color:"#6b7280"},children:"Guardar respuesta en variable"}),f.jsx("input",{type:"text",value:c.variable||"",onChange:j=>g("variable",j.target.value),style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"12px"},placeholder:"api_response"})]})]}),t.type==="delay"&&f.jsxs("div",{style:{marginBottom:"16px",padding:"12px",background:"#f8fafc",borderRadius:"8px",border:"1px solid #cbd5e1"},children:[f.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:600,marginBottom:"12px",color:"#475569"},children:" Configuracin de Espera"}),f.jsxs("div",{style:{marginBottom:"12px"},children:[f.jsx("label",{style:{display:"block",fontSize:"11px",fontWeight:500,marginBottom:"4px",color:"#6b7280"},children:"Segundos de espera"}),f.jsx("input",{type:"number",min:"1",max:"60",step:"1",value:c.seconds||2,onChange:j=>g("seconds",parseInt(j.target.value)),style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"13px"}}),f.jsx("p",{style:{fontSize:"10px",color:"#94a3b8",marginTop:"4px"},children:"Entre 1 y 60 segundos. Recomendado: 2-5 seg para parecer ms humano."})]}),f.jsx("div",{children:f.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[f.jsx("input",{type:"checkbox",checked:c.typing_indicator!==!1,onChange:j=>g("typing_indicator",j.target.checked),style:{width:"16px",height:"16px"}}),f.jsx("span",{style:{fontSize:"12px",color:"#374151"},children:'Mostrar "escribiendo..." mientras espera'})]})})]}),f.jsx("div",{style:{marginTop:"24px",paddingTop:"16px",borderTop:"1px solid #e5e7eb"},children:f.jsx("button",{onClick:()=>l(t.id),style:{width:"100%",padding:"10px",background:"#fee2e2",border:"1px solid #fecaca",borderRadius:"6px",color:"#dc2626",cursor:"pointer",fontWeight:500,fontSize:"13px"},children:" Eliminar nodo"})})]})}function lM({isOpen:t,onClose:i}){const{nodes:l,edges:o,flowName:s}=Nl(),[c,d]=M.useState([]),[m,p]=M.useState(""),[g,x]=M.useState(null),[y,v]=M.useState({}),[E,_]=M.useState(!1),[T,w]=M.useState(null),[N,j]=M.useState("local"),[S,z]=M.useState(!1),k=M.useRef(null);M.useEffect(()=>{k.current?.scrollIntoView({behavior:"smooth"})},[c]),M.useEffect(()=>{t&&U()},[t]);const U=()=>{d([{type:"system",text:`Simulando flujo: "${s}"`},{type:"system",text:"Escribe un mensaje para iniciar..."}]),v({}),x(null),_(!0),w(null)},R=O=>l.find(L=>L.id===O),V=(O,L=null)=>{const $=o.find(ee=>!(ee.source!==O||L&&ee.label&&ee.label!==L));return $?R($.target):null},J=()=>l.find(O=>O.type==="trigger"),re=async O=>{if(!O){Q("system"," Flujo terminado (no hay siguiente nodo)"),_(!0);return}switch(w(O.id),x(O.id),await le(300),O.type){case"trigger":Q("system"," Trigger activado");const L=V(O.id);re(L);break;case"message":const $=K(O.data.content||"Mensaje vaco");Q("bot",$),await le(500);const ee=V(O.id);re(ee);break;case"question":const D=K(O.data.content||"?");Q("bot",D),O.data.options&&O.data.options.length>0&&Q("options",O.data.options),_(!0),x(O.id);break;case"condition":Q("system"," Evaluando condicin..."),await le(300);const Y=O.data.conditions||[];let P=null;for(const je of Y){if(je.else){P=je.goto;break}const Pe=je.if?.match(/(\w+)\s*==\s*["']?(\w+)["']?/);if(Pe){const[,St,pt]=Pe;if(y[St]===pt){P=je.goto,Q("system",` Condicin cumplida: ${St} = ${pt}`);break}}}const te=R(P)||V(O.id);re(te);break;case"action":Q("system",` Ejecutando accin: ${O.data.action||"sin definir"}`),await le(500);const se=V(O.id);re(se);break;case"ai_response":Q("system"," Generando respuesta con IA..."),z(!0),await le(1500),z(!1);const ce=O.data.system_prompt||"",ue=K(O.data.user_prompt||""),oe=`[Respuesta IA simulada]
${ce.substring(0,50)}...
Para: "${ue.substring(0,50)}..."`;Q("bot",oe),O.data.variable&&(v(je=>({...je,[O.data.variable]:"respuesta_ia_simulada"})),Q("system",` Variable "${O.data.variable}" = respuesta IA`)),await le(300);const de=V(O.id);re(de);break;case"webhook":Q("system",` Llamando webhook: ${O.data.url||"URL no definida"}`),Q("system",`   Mtodo: ${O.data.method||"POST"}`),z(!0),await le(1e3),z(!1);const ve={success:!0,data:{status:"ok",simulated:!0}};Q("system",` Webhook respondi: ${JSON.stringify(ve).substring(0,50)}...`),O.data.variable&&v(je=>({...je,[O.data.variable]:ve}));const be=V(O.id);re(be);break;case"delay":const ge=O.data.seconds||2,xe=O.data.typing_indicator!==!1;Q("system",` Esperando ${ge} segundos...`),xe&&z(!0),await le(ge*1e3),xe&&z(!1);const Ne=V(O.id);re(Ne);break;case"transfer":Q("bot",O.data.content||"Transfiriendo a un agente..."),Q("system"," Conversacin transferida a humano"),_(!0);break;case"end":Q("system"," Flujo completado"),_(!0);break;default:Q("system",`Nodo desconocido: ${O.type}`);const He=V(O.id);re(He)}},K=O=>O&&O.replace(/\{\{(\w+)\}\}/g,(L,$)=>y[$]||L),Q=(O,L)=>{d($=>[...$,{type:O,text:L,time:new Date}])},le=O=>new Promise(L=>setTimeout(L,O)),B=()=>{if(!m.trim())return;const O=m.trim();p(""),Q("user",O),_(!1);const L=R(g);if(L?.type==="question"&&L.data.variable){let $=O;if(L.data.options){const ee=L.data.options.find(D=>D.label.toLowerCase()===O.toLowerCase()||D.value===O);ee&&($=ee.value)}v(ee=>({...ee,[L.data.variable]:$})),Q("system",` Variable "${L.data.variable}" = "${$}"`),setTimeout(()=>{const ee=V(g);re(ee)},300)}else if(!g){const $=J();$?re($):Q("system"," No hay nodo Trigger en el flujo")}},G=O=>{p(O.label),setTimeout(()=>B(),100)},A=O=>{O.key==="Enter"&&!O.shiftKey&&(O.preventDefault(),B())};return t?f.jsxs("div",{style:{position:"fixed",right:"20px",bottom:"20px",width:"380px",height:"550px",background:"white",borderRadius:"16px",boxShadow:"0 10px 40px rgba(0,0,0,0.2)",display:"flex",flexDirection:"column",zIndex:1e3,overflow:"hidden"},children:[f.jsxs("div",{style:{background:"linear-gradient(135deg, #075E54 0%, #128C7E 100%)",color:"white",padding:"12px 16px"},children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[f.jsxs("div",{children:[f.jsx("div",{style:{fontWeight:600,fontSize:"15px"},children:" Simulador de Chat"}),f.jsx("div",{style:{fontSize:"12px",opacity:.8},children:"Prueba tu flujo aqu"})]}),f.jsxs("div",{style:{display:"flex",gap:"8px"},children:[f.jsx("button",{onClick:U,style:{background:"rgba(255,255,255,0.2)",border:"none",color:"white",padding:"6px 12px",borderRadius:"6px",cursor:"pointer",fontSize:"12px"},children:""}),f.jsx("button",{onClick:i,style:{background:"none",border:"none",color:"white",fontSize:"20px",cursor:"pointer",padding:"0 4px"},children:""})]})]}),f.jsxs("div",{style:{display:"flex",gap:"8px",background:"rgba(0,0,0,0.2)",borderRadius:"8px",padding:"4px"},children:[f.jsx("button",{onClick:()=>j("local"),style:{flex:1,background:N==="local"?"white":"transparent",color:N==="local"?"#075E54":"white",border:"none",padding:"6px 12px",borderRadius:"6px",cursor:"pointer",fontSize:"11px",fontWeight:N==="local"?600:400},children:"Local"}),f.jsx("button",{onClick:()=>j("server"),style:{flex:1,background:N==="server"?"white":"transparent",color:N==="server"?"#075E54":"white",border:"none",padding:"6px 12px",borderRadius:"6px",cursor:"pointer",fontSize:"11px",fontWeight:N==="server"?600:400},children:"Servidor"})]})]}),Object.keys(y).length>0&&f.jsxs("div",{style:{background:"#f0fdf4",padding:"8px 16px",fontSize:"11px",borderBottom:"1px solid #e5e7eb"},children:[f.jsx("strong",{children:"Variables:"})," ",Object.entries(y).map(([O,L])=>f.jsxs("span",{style:{background:"#dcfce7",padding:"2px 6px",borderRadius:"4px",marginLeft:"4px"},children:[O,"=",typeof L=="object"?JSON.stringify(L).substring(0,30)+"...":String(L)]},O))]}),f.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"16px",background:"#e5ddd5",backgroundImage:'url("data:image/svg+xml,%3Csvg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="none" fill-rule="evenodd"%3E%3Cg fill="%239C92AC" fill-opacity="0.05"%3E%3Cpath d="M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")'},children:[c.map((O,L)=>f.jsx(rM,{message:O,onOptionClick:G},L)),S&&f.jsx("div",{style:{display:"flex",justifyContent:"flex-start",marginBottom:"8px"},children:f.jsxs("div",{style:{background:"white",padding:"12px 16px",borderRadius:"12px 12px 12px 0",boxShadow:"0 1px 2px rgba(0,0,0,0.1)",display:"flex",gap:"4px"},children:[f.jsx("span",{className:"typing-dot",style:{width:"8px",height:"8px",background:"#90a3ae",borderRadius:"50%",animation:"typing 1.4s infinite ease-in-out",animationDelay:"0s"}}),f.jsx("span",{className:"typing-dot",style:{width:"8px",height:"8px",background:"#90a3ae",borderRadius:"50%",animation:"typing 1.4s infinite ease-in-out",animationDelay:"0.2s"}}),f.jsx("span",{className:"typing-dot",style:{width:"8px",height:"8px",background:"#90a3ae",borderRadius:"50%",animation:"typing 1.4s infinite ease-in-out",animationDelay:"0.4s"}})]})}),f.jsx("div",{ref:k})]}),f.jsxs("div",{style:{padding:"12px",background:"#f0f2f5",display:"flex",gap:"8px"},children:[f.jsx("input",{type:"text",value:m,onChange:O=>p(O.target.value),onKeyPress:A,placeholder:E?"Escribe un mensaje...":"Esperando respuesta...",disabled:!E,style:{flex:1,padding:"10px 16px",border:"none",borderRadius:"24px",fontSize:"14px",outline:"none"}}),f.jsx("button",{onClick:B,disabled:!E||!m.trim(),style:{background:"#25D366",color:"white",border:"none",borderRadius:"50%",width:"40px",height:"40px",cursor:E&&m.trim()?"pointer":"not-allowed",opacity:E&&m.trim()?1:.5,fontSize:"18px"},children:""})]})]}):null}function rM({message:t,onOptionClick:i}){const{type:l,text:o}=t,s=d=>typeof d=="object"&&d!==null?JSON.stringify(d,null,2):String(d);if(l==="system")return f.jsx("div",{style:{textAlign:"center",margin:"8px 0",fontSize:"11px",color:"#667781",background:"rgba(255,255,255,0.8)",padding:"4px 12px",borderRadius:"8px",display:"inline-block",width:"100%"},children:s(o)});if(l==="options")return f.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px",margin:"8px 0"},children:o.map((d,m)=>f.jsx("button",{onClick:()=>i(d),style:{background:"white",border:"1px solid #25D366",color:"#25D366",padding:"8px 16px",borderRadius:"16px",cursor:"pointer",fontSize:"13px",fontWeight:500},children:d.label},m))});const c=l==="user";return f.jsx("div",{style:{display:"flex",justifyContent:c?"flex-end":"flex-start",marginBottom:"8px"},children:f.jsx("div",{style:{maxWidth:"80%",padding:"8px 12px",borderRadius:c?"12px 12px 0 12px":"12px 12px 12px 0",background:c?"#dcf8c6":"white",boxShadow:"0 1px 2px rgba(0,0,0,0.1)",fontSize:"14px",lineHeight:"1.4",whiteSpace:"pre-wrap"},children:s(o)})})}const gf=[{title:"Bienvenido al Flow Builder!",description:"Crea flujos de conversacin para tu chatbot de WhatsApp de forma visual, sin escribir cdigo.",icon:"",image:null},{title:"Arrastra nodos al canvas",description:"En la barra izquierda encontrars los nodos disponibles. Arrstralos al canvas para construir tu flujo.",icon:"",tips:[" Mensaje: Enva un texto al usuario"," Pregunta: Espera una respuesta del usuario"," Condicin: Bifurca el flujo segn una variable"," Accin: Ejecuta una accin (notificar, guardar, etc.)"]},{title:"Conecta los nodos",description:"Arrastra desde el punto verde (salida) de un nodo hasta el punto gris (entrada) de otro para conectarlos.",icon:"",tips:["El flujo siempre empieza en el Trigger","Puedes tener mltiples caminos con Condiciones","Termina con un nodo Fin o Transferir"]},{title:"Configura cada nodo",description:"Haz clic en un nodo para ver sus propiedades a la derecha. Ah puedes editar el contenido, opciones y variables.",icon:"",tips:["Usa {{variable}} para insertar datos dinmicos","Las preguntas guardan la respuesta en una variable","Las condiciones evalan esas variables"]},{title:"Guarda y activa!",description:"Cuando termines, guarda tu flujo y actvalo para que empiece a responder mensajes automticamente.",icon:"",tips:["Puedes tener varios flujos, pero solo algunos activos",'Usa "Abrir" para cargar flujos guardados',"Las plantillas te dan flujos de ejemplo para empezar"]}];function oM({onComplete:t}){const[i,l]=M.useState(0),[o,s]=M.useState(!1),c=gf[i],d=i===gf.length-1,m=()=>{d?s(!0):l(i+1)},p=()=>{t(null)},g=x=>{t(x)};return o?f.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:f.jsxs("div",{style:{background:"white",borderRadius:"16px",padding:"32px",maxWidth:"600px",width:"90%"},children:[f.jsx("h2",{style:{margin:"0 0 8px 0",fontSize:"24px"},children:"Cmo quieres empezar?"}),f.jsx("p",{style:{color:"#6b7280",margin:"0 0 24px 0"},children:"Puedes empezar desde cero o usar una plantilla predefinida"}),f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[f.jsx(Ls,{icon:"",title:"Empezar vaco",description:"Canvas en blanco para crear tu propio flujo",onClick:()=>g(null)}),f.jsx(Ls,{icon:"",title:"Embudo de Ventas",description:"Califica leads y gualos a la compra",onClick:()=>g("sales_funnel"),color:"#25D366"}),f.jsx(Ls,{icon:"",title:"Embudo de Soporte",description:"Resuelve dudas con FAQ y escala a humanos",onClick:()=>g("support_funnel"),color:"#34B7F1"}),f.jsx(Ls,{icon:"",title:"Captura de Leads",description:"Recolecta informacin de contacto",onClick:()=>g("lead_capture"),color:"#f59e0b"})]}),f.jsx("button",{onClick:()=>g(null),style:{marginTop:"16px",padding:"8px",background:"none",border:"none",color:"#6b7280",cursor:"pointer",fontSize:"13px",width:"100%"},children:"Saltar y empezar vaco "})]})}):f.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:f.jsxs("div",{style:{background:"white",borderRadius:"16px",padding:"32px",maxWidth:"500px",width:"90%",textAlign:"center"},children:[f.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"8px",marginBottom:"24px"},children:gf.map((x,y)=>f.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:y===i?"#25D366":"#e5e7eb",transition:"background 0.2s"}},y))}),f.jsx("div",{style:{fontSize:"64px",marginBottom:"16px"},children:c.icon}),f.jsx("h2",{style:{margin:"0 0 12px 0",fontSize:"24px",color:"#111827"},children:c.title}),f.jsx("p",{style:{color:"#6b7280",margin:"0 0 20px 0",lineHeight:"1.6"},children:c.description}),c.tips&&f.jsx("div",{style:{background:"#f9fafb",borderRadius:"8px",padding:"16px",textAlign:"left",marginBottom:"24px"},children:c.tips.map((x,y)=>f.jsx("div",{style:{fontSize:"13px",color:"#4b5563",marginBottom:y<c.tips.length-1?"8px":0},children:x},y))}),f.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[f.jsx("button",{onClick:p,style:{padding:"12px 24px",background:"white",border:"1px solid #d1d5db",borderRadius:"8px",cursor:"pointer",fontSize:"14px",color:"#6b7280"},children:"Saltar"}),f.jsx("button",{onClick:m,style:{padding:"12px 24px",background:"#25D366",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:500},children:d?"Empezar":"Siguiente"})]})]})})}function Ls({icon:t,title:i,description:l,onClick:o,color:s}){return f.jsxs("div",{onClick:o,style:{padding:"16px",border:"2px solid #e5e7eb",borderRadius:"12px",cursor:"pointer",transition:"all 0.2s",textAlign:"left"},onMouseOver:c=>{c.currentTarget.style.borderColor=s||"#25D366",c.currentTarget.style.transform="translateY(-2px)"},onMouseOut:c=>{c.currentTarget.style.borderColor="#e5e7eb",c.currentTarget.style.transform="none"},children:[f.jsx("div",{style:{fontSize:"28px",marginBottom:"8px"},children:t}),f.jsx("div",{style:{fontWeight:600,fontSize:"14px",marginBottom:"4px"},children:i}),f.jsx("div",{style:{fontSize:"12px",color:"#6b7280"},children:l})]})}function sM(){const[t,i]=M.useState(!1),[l,o]=M.useState(!1),[s,c]=M.useState(null),[d,m]=M.useState(!1),{loadFlow:p}=Nl();M.useEffect(()=>{localStorage.getItem("flowbuilder_onboarding_seen")||o(!0)},[]);const g=(y,v="info")=>{c({message:y,type:v}),setTimeout(()=>c(null),4e3)},x=async y=>{if(localStorage.setItem("flowbuilder_onboarding_seen","true"),o(!1),y){m(!0);try{console.log("Creating flow from template:",y);const v=await W6(y,null);if(console.log("Template created, result:",v),v.id){const E=await e1(v.id);if(console.log("Flow data loaded:",E),E.flow)p(E.flow),g(`Flujo "${E.flow.name}" cargado correctamente`,"success");else throw new Error("No se pudo obtener los datos del flujo")}else throw new Error("No se recibi el ID del flujo creado")}catch(v){console.error("Error loading template:",v),g(`Error al cargar template: ${v.message}`,"error")}finally{m(!1)}}};return f.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100vh",overflow:"hidden"},children:[f.jsx(K6,{onTestClick:()=>i(!0)}),f.jsxs("div",{style:{display:"flex",flex:1,overflow:"hidden"},children:[f.jsx(J6,{}),f.jsx(tM,{}),f.jsx(iM,{})]}),f.jsxs("button",{onClick:()=>i(!0),style:{position:"fixed",right:"20px",bottom:"20px",background:"linear-gradient(135deg, #075E54 0%, #25D366 100%)",color:"white",border:"none",borderRadius:"50px",padding:"14px 24px",cursor:"pointer",boxShadow:"0 4px 15px rgba(37, 211, 102, 0.4)",fontSize:"14px",fontWeight:600,display:t?"none":"flex",alignItems:"center",gap:"8px",zIndex:100},children:[f.jsx("span",{style:{fontSize:"18px"},children:""}),"Probar flujo"]}),d&&f.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1001},children:f.jsxs("div",{style:{background:"white",padding:"24px 32px",borderRadius:"12px",display:"flex",alignItems:"center",gap:"12px"},children:[f.jsx("div",{style:{width:"24px",height:"24px",border:"3px solid #e5e7eb",borderTop:"3px solid #25D366",borderRadius:"50%",animation:"spin 1s linear infinite"}}),f.jsx("span",{children:"Cargando flujo..."})]})}),s&&f.jsxs("div",{style:{position:"fixed",top:"20px",right:"20px",padding:"12px 20px",borderRadius:"8px",background:s.type==="success"?"#10b981":s.type==="error"?"#ef4444":"#3b82f6",color:"white",fontWeight:500,boxShadow:"0 4px 12px rgba(0,0,0,0.15)",zIndex:1002,animation:"slideIn 0.3s ease"},children:[s.type==="success"&&" ",s.type==="error"&&" ",s.message]}),f.jsx(lM,{isOpen:t,onClose:()=>i(!1)}),l&&f.jsx(oM,{onComplete:x})]})}const fh="/api/flow-logs";async function hh(t,i){if(!t.ok){let l=i;try{const o=await t.json();o.error&&(l=o.error)}catch{}throw new Error(l)}return t.json()}async function uM(t={}){const i=new URLSearchParams(t).toString(),l=await fetch(`${fh}?${i}`);return hh(l,"Error al cargar logs")}async function cM(t){const i=await fetch(`${fh}/${t}`);return hh(i,"Log no encontrado")}async function dM(t=7){const i=await fetch(`${fh}/stats/summary?days=${t}`);return hh(i,"Error al cargar estadsticas")}const jr={completed:{label:"Completado",color:"#10b981",icon:tx},failed:{label:"Fallido",color:"#ef4444",icon:nx},transferred:{label:"Transferido",color:"#f59e0b",icon:uS},running:{label:"En progreso",color:"#3b82f6",icon:du},timeout:{label:"Timeout",color:"#6b7280",icon:Ks}};function fM(){const[t,i]=M.useState([]),[l,o]=M.useState(null),[s,c]=M.useState(!0),[d,m]=M.useState(null),[p,g]=M.useState(!1),[x,y]=M.useState({status:"",phone:"",flow_id:""});M.useEffect(()=>{v()},[]);const v=async()=>{c(!0);try{const[w,N]=await Promise.all([uM({limit:50,...x}),dM(7)]);i(w.logs||[]),o(N.stats)}catch(w){console.error("Error loading logs:",w)}finally{c(!1)}},E=async w=>{g(!0);try{const N=await cM(w.id);m(N.log)}catch(N){console.error("Error loading log detail:",N)}finally{g(!1)}},_=(w,N)=>{y(j=>({...j,[w]:N}))},T=()=>{v()};return s?f.jsx("div",{className:"p-8 flex items-center justify-center h-full",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-500"})}):f.jsxs("div",{className:"p-8",children:[f.jsxs("div",{className:"flex items-center justify-between mb-8",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Logs de Ejecucin"}),f.jsx("p",{className:"text-gray-500 mt-1",children:"Historial de ejecucin de flujos"})]}),f.jsxs("button",{onClick:v,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg text-gray-700 transition",children:[f.jsx(Gf,{className:"w-4 h-4"}),"Actualizar"]})]}),l&&f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[f.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:[f.jsx("p",{className:"text-sm text-gray-500",children:"Total ejecuciones"}),f.jsx("p",{className:"text-2xl font-bold text-gray-800",children:l.total_executions||0}),f.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"ltimos 7 das"})]}),f.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:[f.jsx("p",{className:"text-sm text-gray-500",children:"Tasa de completado"}),f.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[l.completion_rate||0,"%"]}),f.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[l.completed||0," completados"]})]}),f.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:[f.jsx("p",{className:"text-sm text-gray-500",children:"Fallidos"}),f.jsx("p",{className:"text-2xl font-bold text-red-500",children:l.failed||0}),f.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Requieren atencin"})]}),f.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:[f.jsx("p",{className:"text-sm text-gray-500",children:"Tiempo promedio"}),f.jsx("p",{className:"text-2xl font-bold text-blue-600",children:l.avg_duration_ms?`${Math.round(l.avg_duration_ms)}ms`:"-"}),f.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Por ejecucin"})]})]}),f.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm mb-6",children:f.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(ax,{className:"w-4 h-4 text-gray-400"}),f.jsx("span",{className:"text-sm text-gray-600",children:"Filtrar:"})]}),f.jsxs("select",{value:x.status,onChange:w=>_("status",w.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none",children:[f.jsx("option",{value:"",children:"Todos los estados"}),f.jsx("option",{value:"completed",children:"Completados"}),f.jsx("option",{value:"failed",children:"Fallidos"}),f.jsx("option",{value:"transferred",children:"Transferidos"}),f.jsx("option",{value:"running",children:"En progreso"})]}),f.jsx("input",{type:"text",value:x.phone,onChange:w=>_("phone",w.target.value),placeholder:"Telfono...",className:"px-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none w-40"}),f.jsx("button",{onClick:T,className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg text-sm transition",children:"Aplicar"})]})}),f.jsx("div",{className:"bg-white rounded-xl border border-gray-100 shadow-sm overflow-hidden",children:t.length===0?f.jsxs("div",{className:"p-12 text-center text-gray-400",children:[f.jsx(du,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),f.jsx("p",{children:"No hay logs de ejecucin"}),f.jsx("p",{className:"text-sm mt-1",children:"Los logs aparecern cuando se ejecuten flujos"})]}):f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-gray-50 text-left text-xs text-gray-500 uppercase tracking-wider",children:[f.jsx("th",{className:"px-4 py-3",children:"Fecha"}),f.jsx("th",{className:"px-4 py-3",children:"Flujo"}),f.jsx("th",{className:"px-4 py-3",children:"Telfono"}),f.jsx("th",{className:"px-4 py-3",children:"Estado"}),f.jsx("th",{className:"px-4 py-3",children:"Nodos"}),f.jsx("th",{className:"px-4 py-3",children:"Duracin"}),f.jsx("th",{className:"px-4 py-3"})]})}),f.jsx("tbody",{className:"divide-y divide-gray-100",children:t.map(w=>{const N=jr[w.status]||jr.running,j=N.icon;return f.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[f.jsxs("td",{className:"px-4 py-3 text-sm",children:[f.jsx("div",{className:"text-gray-800",children:Qf(new Date(w.started_at),"dd/MM HH:mm")}),f.jsx("div",{className:"text-xs text-gray-400",children:hu(new Date(w.started_at),{addSuffix:!0,locale:Dr})})]}),f.jsxs("td",{className:"px-4 py-3",children:[f.jsx("div",{className:"font-medium text-gray-800",children:w.flow_name||"Sin nombre"}),f.jsx("div",{className:"text-xs text-gray-400",children:w.trigger_type})]}),f.jsx("td",{className:"px-4 py-3",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Xf,{className:"w-3 h-3 text-gray-400"}),f.jsx("span",{className:"text-sm text-gray-700",children:w.phone})]})}),f.jsx("td",{className:"px-4 py-3",children:f.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium",style:{background:`${N.color}20`,color:N.color},children:[f.jsx(j,{className:"w-3 h-3"}),N.label]})}),f.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:w.total_nodes_executed||0}),f.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:w.total_duration_ms?`${Math.round(w.total_duration_ms)}ms`:"-"}),f.jsx("td",{className:"px-4 py-3",children:f.jsx("button",{onClick:()=>E(w),className:"p-2 hover:bg-gray-100 rounded-lg transition",title:"Ver detalle",children:f.jsx(ex,{className:"w-4 h-4 text-gray-400"})})})]},w.id)})})]})}),d&&f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>m(null),children:f.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-2xl max-h-[80vh] overflow-auto m-4",onClick:w=>w.stopPropagation(),children:[f.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between sticky top-0 bg-white",children:[f.jsx("h3",{className:"font-semibold text-gray-800",children:"Detalle de Ejecucin"}),f.jsx("button",{onClick:()=>m(null),className:"p-2 hover:bg-gray-100 rounded-lg",children:f.jsx(US,{className:"w-4 h-4"})})]}),p?f.jsx("div",{className:"p-8 text-center",children:f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-500 mx-auto"})}):f.jsxs("div",{className:"p-4 space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Flujo"}),f.jsx("p",{className:"font-medium",children:d.flow_name})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Telfono"}),f.jsx("p",{className:"font-medium",children:d.phone})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Mensaje trigger"}),f.jsx("p",{className:"text-sm bg-gray-100 p-2 rounded",children:d.trigger_message||"-"})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Estado final"}),f.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium",style:{background:`${jr[d.status]?.color}20`,color:jr[d.status]?.color},children:jr[d.status]?.label})]})]}),d.variables&&Object.keys(d.variables).length>0&&f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Variables capturadas"}),f.jsx("div",{className:"bg-gray-50 rounded-lg p-3 space-y-1",children:Object.entries(d.variables).map(([w,N])=>f.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[f.jsxs("span",{className:"font-mono text-purple-600",children:[w,":"]}),f.jsx("span",{className:"text-gray-700",children:String(N)})]},w))})]}),d.steps&&d.steps.length>0&&f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Nodos ejecutados"}),f.jsx("div",{className:"space-y-2",children:d.steps.map((w,N)=>f.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg",children:[f.jsx("div",{className:"w-6 h-6 rounded-full bg-green-100 text-green-600 flex items-center justify-center text-xs font-medium",children:N+1}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"font-medium text-sm",children:w.node_id}),f.jsx("span",{className:"text-xs px-2 py-0.5 bg-gray-200 rounded text-gray-600",children:w.node_type}),f.jsxs("span",{className:"text-xs text-gray-400",children:[w.duration_ms,"ms"]})]}),w.output&&f.jsx("p",{className:"text-sm text-gray-600 mt-1 break-words",children:w.output})]})]},N))})]}),d.error_message&&f.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[f.jsx("p",{className:"text-xs text-red-600 font-medium mb-1",children:"Error"}),f.jsx("p",{className:"text-sm text-red-700",children:d.error_message}),d.error_node_id&&f.jsxs("p",{className:"text-xs text-red-500 mt-1",children:["En nodo: ",d.error_node_id]})]})]})]})})]})}const _u="/api/leads";async function Cu(t,i){if(!t.ok){let l=i;try{const o=await t.json();o.error&&(l=o.error)}catch{}throw new Error(l)}return t.json()}async function hM(t={}){const i=new URLSearchParams(t).toString(),l=await fetch(`${_u}?${i}`);return Cu(l,"Error al cargar leads")}async function mM(){const t=await fetch(`${_u}/stats`);return Cu(t,"Error al cargar estadsticas")}async function gM(t,i){const l=await fetch(`${_u}/${encodeURIComponent(t)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});return Cu(l,"Error al actualizar lead")}async function pM(t,i,l){const o=await fetch(`${_u}/${encodeURIComponent(t)}/adjust-score`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({adjustment:i,reason:l})});return Cu(o,"Error al ajustar score")}const Us={new:{label:"Nuevo",color:"#6b7280",bg:"#f3f4f6"},engaged:{label:"Interesado",color:"#3b82f6",bg:"#dbeafe"},qualified:{label:"Calificado",color:"#10b981",bg:"#d1fae5"},customer:{label:"Cliente",color:"#8b5cf6",bg:"#ede9fe"},inactive:{label:"Inactivo",color:"#9ca3af",bg:"#f9fafb"}},zy={hot:{color:"#ef4444",label:"Caliente",range:"80-100"},warm:{color:"#f59e0b",label:"Tibio",range:"50-79"},cold:{color:"#3b82f6",label:"Fro",range:"20-49"},new:{color:"#6b7280",label:"Nuevo",range:"0-19"}};function yM(t){return t>=80?"hot":t>=50?"warm":t>=20?"cold":"new"}function xM(){const t=El(),[i,l]=M.useState([]),[o,s]=M.useState(null),[c,d]=M.useState(!0),[m,p]=M.useState(null),[g,x]=M.useState({status:"",min_score:"",search:"",sort_by:"current_score",sort_dir:"desc"});M.useEffect(()=>{y()},[]);const y=async()=>{d(!0);try{const[w,N]=await Promise.all([hM({limit:100,...g}),mM()]);l(w.leads||[]),s(N)}catch(w){console.error("Error loading leads:",w)}finally{d(!1)}},v=(w,N)=>{x(j=>({...j,[w]:N}))},E=()=>{y()},_=async(w,N)=>{try{await gM(w,{status:N}),y()}catch(j){console.error("Error updating lead:",j)}},T=async(w,N)=>{try{await pM(w,N,"Manual adjustment"),y()}catch(j){console.error("Error adjusting score:",j)}};return c?f.jsx("div",{className:"p-8 flex items-center justify-center h-full",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-500"})}):f.jsxs("div",{className:"p-8",children:[f.jsxs("div",{className:"flex items-center justify-between mb-8",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Gestin de Leads"}),f.jsx("p",{className:"text-gray-500 mt-1",children:"Administra y califica tus leads"})]}),f.jsxs("button",{onClick:y,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg text-gray-700 transition",children:[f.jsx(Gf,{className:"w-4 h-4"}),"Actualizar"]})]}),o&&f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-8",children:[f.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:[f.jsx("p",{className:"text-sm text-gray-500",children:"Total Leads"}),f.jsx("p",{className:"text-2xl font-bold text-gray-800",children:o.stats?.total_leads||0})]}),f.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:[f.jsx("p",{className:"text-sm text-gray-500",children:"Score Promedio"}),f.jsx("p",{className:"text-2xl font-bold text-blue-600",children:o.stats?.avg_score||0})]}),f.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:[f.jsx("p",{className:"text-sm text-gray-500",children:"Nuevos"}),f.jsx("p",{className:"text-2xl font-bold text-gray-600",children:o.stats?.new_leads||0})]}),f.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:[f.jsx("p",{className:"text-sm text-gray-500",children:"Calificados"}),f.jsx("p",{className:"text-2xl font-bold text-green-600",children:o.stats?.qualified_leads||0})]}),f.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:[f.jsx("p",{className:"text-sm text-gray-500",children:"Clientes"}),f.jsx("p",{className:"text-2xl font-bold text-purple-600",children:o.stats?.customers||0})]})]}),o?.score_distribution&&f.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm mb-6",children:[f.jsx("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Distribucin de Scores"}),f.jsx("div",{className:"flex gap-4",children:Object.entries(zy).map(([w,N])=>{const j=o.score_distribution.find(S=>S.category===w)?.count||0;return f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-3 h-3 rounded-full",style:{background:N.color}}),f.jsxs("span",{className:"text-sm text-gray-600",children:[N.label,": ",f.jsx("strong",{children:j})]})]},w)})})]}),f.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm mb-6",children:f.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(ax,{className:"w-4 h-4 text-gray-400"}),f.jsx("span",{className:"text-sm text-gray-600",children:"Filtrar:"})]}),f.jsxs("div",{className:"relative",children:[f.jsx(lx,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),f.jsx("input",{type:"text",value:g.search,onChange:w=>v("search",w.target.value),placeholder:"Buscar...",className:"pl-10 pr-4 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none w-48"})]}),f.jsxs("select",{value:g.status,onChange:w=>v("status",w.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none",children:[f.jsx("option",{value:"",children:"Todos los estados"}),Object.entries(Us).map(([w,N])=>f.jsx("option",{value:w,children:N.label},w))]}),f.jsxs("select",{value:g.min_score,onChange:w=>v("min_score",w.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none",children:[f.jsx("option",{value:"",children:"Todos los scores"}),f.jsx("option",{value:"80",children:"Score 80+ (Caliente)"}),f.jsx("option",{value:"50",children:"Score 50+ (Tibio)"}),f.jsx("option",{value:"20",children:"Score 20+ (Fro)"})]}),f.jsxs("select",{value:`${g.sort_by}-${g.sort_dir}`,onChange:w=>{const[N,j]=w.target.value.split("-");v("sort_by",N),v("sort_dir",j)},className:"px-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none",children:[f.jsx("option",{value:"current_score-desc",children:"Mayor score"}),f.jsx("option",{value:"current_score-asc",children:"Menor score"}),f.jsx("option",{value:"last_interaction-desc",children:"Ms reciente"}),f.jsx("option",{value:"total_messages-desc",children:"Ms mensajes"})]}),f.jsx("button",{onClick:E,className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg text-sm transition",children:"Aplicar"})]})}),f.jsx("div",{className:"bg-white rounded-xl border border-gray-100 shadow-sm overflow-hidden",children:i.length===0?f.jsxs("div",{className:"p-12 text-center text-gray-400",children:[f.jsx(Zf,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),f.jsx("p",{children:"No hay leads registrados"}),f.jsx("p",{className:"text-sm mt-1",children:"Los leads se crean automticamente cuando interactan"})]}):f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-gray-50 text-left text-xs text-gray-500 uppercase tracking-wider",children:[f.jsx("th",{className:"px-4 py-3",children:"Lead"}),f.jsx("th",{className:"px-4 py-3",children:"Score"}),f.jsx("th",{className:"px-4 py-3",children:"Estado"}),f.jsx("th",{className:"px-4 py-3",children:"Mensajes"}),f.jsx("th",{className:"px-4 py-3",children:"ltima actividad"}),f.jsx("th",{className:"px-4 py-3",children:"Acciones"})]})}),f.jsx("tbody",{className:"divide-y divide-gray-100",children:i.map(w=>{const N=yM(w.current_score),j=zy[N],S=Us[w.status]||Us.new;return f.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[f.jsx("td",{className:"px-4 py-3",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:f.jsx("span",{className:"text-green-600 font-medium",children:w.contact_name?.[0]?.toUpperCase()||w.phone.slice(-2)})}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium text-gray-800",children:w.contact_name||"Sin nombre"}),f.jsxs("div",{className:"text-xs text-gray-400 flex items-center gap-1",children:[f.jsx(Xf,{className:"w-3 h-3"}),w.phone]})]})]})}),f.jsx("td",{className:"px-4 py-3",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center font-bold text-sm",style:{background:`${j.color}20`,color:j.color},children:w.current_score}),f.jsxs("div",{className:"flex flex-col gap-0.5",children:[f.jsx("button",{onClick:()=>T(w.phone,5),className:"p-1 hover:bg-green-100 rounded text-green-600",title:"+5 puntos",children:f.jsx(TS,{className:"w-3 h-3"})}),f.jsx("button",{onClick:()=>T(w.phone,-5),className:"p-1 hover:bg-red-100 rounded text-red-600",title:"-5 puntos",children:f.jsx(_S,{className:"w-3 h-3"})})]})]})}),f.jsx("td",{className:"px-4 py-3",children:f.jsx("select",{value:w.status,onChange:z=>_(w.phone,z.target.value),className:"px-2 py-1 rounded-full text-xs font-medium border-0 cursor-pointer",style:{background:S.bg,color:S.color},children:Object.entries(Us).map(([z,k])=>f.jsx("option",{value:z,children:k.label},z))})}),f.jsx("td",{className:"px-4 py-3",children:f.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[f.jsx(dl,{className:"w-4 h-4"}),w.total_messages||w.message_count||0]})}),f.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:w.last_interaction?hu(new Date(w.last_interaction),{addSuffix:!0,locale:Dr}):"-"}),f.jsx("td",{className:"px-4 py-3",children:f.jsx("button",{onClick:()=>t(`/conversations?phone=${encodeURIComponent(w.phone)}`),className:"p-2 hover:bg-gray-100 rounded-lg transition",title:"Ver conversacin",children:f.jsx(ex,{className:"w-4 h-4 text-gray-400"})})})]},w.phone)})})]})})]})}const eo="/api/flow-analytics";async function to(t,i){if(!t.ok){let l=i;try{const o=await t.json();o.error&&(l=o.error)}catch{}throw new Error(l)}return t.json()}async function vM(t=7){const i=await fetch(`${eo}/summary?days=${t}`);return to(i,"Error al cargar resumen")}async function bM(t=14){const i=await fetch(`${eo}/timeline?days=${t}`);return to(i,"Error al cargar timeline")}async function wM(t=7){const i=await fetch(`${eo}/by-flow?days=${t}`);return to(i,"Error al cargar mtricas por flujo")}async function SM(t=7){const i=await fetch(`${eo}/by-hour?days=${t}`);return to(i,"Error al cargar distribucin horaria")}async function EM(t=7){const i=await fetch(`${eo}/trigger-types?days=${t}`);return to(i,"Error al cargar tipos de trigger")}function NM(){const[t,i]=M.useState(null),[l,o]=M.useState([]),[s,c]=M.useState([]),[d,m]=M.useState([]),[p,g]=M.useState([]),[x,y]=M.useState(!0),[v,E]=M.useState(7);M.useEffect(()=>{_()},[v]);const _=async()=>{y(!0);try{const[N,j,S,z,k]=await Promise.all([vM(v),bM(v),wM(v),SM(v),EM(v)]);i(N.summary),o(j.timeline||[]),c(S.flows||[]),m(z.hourly||[]),g(k.trigger_types||[])}catch(N){console.error("Error loading analytics:",N)}finally{y(!1)}};if(x)return f.jsx("div",{className:"p-8 flex items-center justify-center h-full",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-500"})});const T=Math.max(...l.map(N=>N.total),1),w=Math.max(...d.map(N=>N.executions),1);return f.jsxs("div",{className:"p-8",children:[f.jsxs("div",{className:"flex items-center justify-between mb-8",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Analytics de Flujos"}),f.jsx("p",{className:"text-gray-500 mt-1",children:"Mtricas y anlisis de rendimiento"})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("select",{value:v,onChange:N=>E(parseInt(N.target.value)),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none",children:[f.jsx("option",{value:7,children:"ltimos 7 das"}),f.jsx("option",{value:14,children:"ltimos 14 das"}),f.jsx("option",{value:30,children:"ltimos 30 das"})]}),f.jsxs("button",{onClick:_,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg text-gray-700 transition",children:[f.jsx(Gf,{className:"w-4 h-4"}),"Actualizar"]})]})]}),t&&f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[f.jsx("div",{className:"bg-white rounded-xl p-5 border border-gray-100 shadow-sm",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-500",children:"Total Ejecuciones"}),f.jsx("p",{className:"text-3xl font-bold text-gray-800 mt-1",children:t.executions.total}),f.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[t.executions.unique_users," usuarios nicos"]})]}),f.jsx("div",{className:"p-3 bg-blue-50 rounded-xl",children:f.jsx(du,{className:"w-6 h-6 text-blue-600"})})]})}),f.jsx("div",{className:"bg-white rounded-xl p-5 border border-gray-100 shadow-sm",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-500",children:"Tasa de Completado"}),f.jsxs("p",{className:"text-3xl font-bold text-green-600 mt-1",children:[t.executions.completion_rate,"%"]}),f.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[t.executions.completed," completados"]})]}),f.jsx("div",{className:"p-3 bg-green-50 rounded-xl",children:f.jsx(tx,{className:"w-6 h-6 text-green-600"})})]})}),f.jsx("div",{className:"bg-white rounded-xl p-5 border border-gray-100 shadow-sm",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-500",children:"Fallidos"}),f.jsx("p",{className:"text-3xl font-bold text-red-500 mt-1",children:t.executions.failed}),f.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[t.executions.transferred," transferidos"]})]}),f.jsx("div",{className:"p-3 bg-red-50 rounded-xl",children:f.jsx(nx,{className:"w-6 h-6 text-red-500"})})]})}),f.jsx("div",{className:"bg-white rounded-xl p-5 border border-gray-100 shadow-sm",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-500",children:"Tiempo Promedio"}),f.jsxs("p",{className:"text-3xl font-bold text-purple-600 mt-1",children:[t.executions.avg_duration_ms,"ms"]}),f.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[t.executions.avg_nodes," nodos promedio"]})]}),f.jsx("div",{className:"p-3 bg-purple-50 rounded-xl",children:f.jsx(Ks,{className:"w-6 h-6 text-purple-600"})})]})})]}),f.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 shadow-sm p-6 mb-6",children:[f.jsxs("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[f.jsx(HS,{className:"w-5 h-5 text-gray-400"}),"Ejecuciones por da"]}),l.length===0?f.jsx("div",{className:"text-center text-gray-400 py-8",children:"No hay datos para mostrar"}):f.jsx("div",{className:"flex items-end gap-2 h-40",children:l.map((N,j)=>f.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[f.jsxs("div",{className:"w-full flex flex-col gap-0.5",style:{height:"120px"},children:[f.jsx("div",{className:"w-full bg-green-500 rounded-t",style:{height:`${N.completed/T*100}%`},title:`Completados: ${N.completed}`}),f.jsx("div",{className:"w-full bg-red-400",style:{height:`${N.failed/T*100}%`},title:`Fallidos: ${N.failed}`}),f.jsx("div",{className:"w-full bg-yellow-400 rounded-b",style:{height:`${N.transferred/T*100}%`},title:`Transferidos: ${N.transferred}`})]}),f.jsx("div",{className:"text-xs text-gray-400 mt-2",children:Qf(new Date(N.date),"dd/MM")})]},j))}),f.jsxs("div",{className:"flex items-center gap-4 mt-4 pt-4 border-t border-gray-100",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-3 h-3 rounded bg-green-500"}),f.jsx("span",{className:"text-xs text-gray-500",children:"Completados"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-3 h-3 rounded bg-red-400"}),f.jsx("span",{className:"text-xs text-gray-500",children:"Fallidos"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-3 h-3 rounded bg-yellow-400"}),f.jsx("span",{className:"text-xs text-gray-500",children:"Transferidos"})]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[f.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 shadow-sm p-6",children:[f.jsxs("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[f.jsx(ix,{className:"w-5 h-5 text-gray-400"}),"Rendimiento por Flujo"]}),s.length===0?f.jsx("div",{className:"text-center text-gray-400 py-8",children:"No hay flujos configurados"}):f.jsx("div",{className:"space-y-3",children:s.slice(0,5).map((N,j)=>f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-100 flex items-center justify-center text-sm font-medium text-gray-600",children:j+1}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("p",{className:"font-medium text-gray-800 truncate",children:N.flow_name}),f.jsxs("span",{className:"text-sm text-gray-500",children:[N.recent_executions," ejecuciones"]})]}),f.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[f.jsx("div",{className:"flex-1 h-2 bg-gray-100 rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-green-500",style:{width:`${N.completion_rate}%`}})}),f.jsxs("span",{className:"text-xs text-gray-400",children:[N.completion_rate,"%"]})]})]})]},N.flow_id))}),f.jsx(oi,{to:"/flows",className:"block text-center text-sm text-green-600 hover:text-green-700 mt-4 pt-4 border-t border-gray-100",children:"Ver todos los flujos"})]}),f.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 shadow-sm p-6",children:[f.jsxs("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[f.jsx(Ks,{className:"w-5 h-5 text-gray-400"}),"Actividad por Hora"]}),f.jsx("div",{className:"flex items-end gap-1 h-32",children:d.map((N,j)=>f.jsx("div",{className:"flex-1 bg-blue-500 rounded-t transition-all hover:bg-blue-600",style:{height:`${N.executions/w*100}%`,minHeight:N.executions>0?"4px":"0"},title:`${N.hour}:00 - ${N.executions} ejecuciones`},j))}),f.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-2",children:[f.jsx("span",{children:"00:00"}),f.jsx("span",{children:"06:00"}),f.jsx("span",{children:"12:00"}),f.jsx("span",{children:"18:00"}),f.jsx("span",{children:"23:00"})]})]})]}),f.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 shadow-sm p-6",children:[f.jsxs("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[f.jsx(Iy,{className:"w-5 h-5 text-gray-400"}),"Distribucin por Tipo de Trigger"]}),p.length===0?f.jsx("div",{className:"text-center text-gray-400 py-8",children:"No hay datos de triggers"}):f.jsx("div",{className:"flex gap-6",children:p.map((N,j)=>{const S=["#10b981","#3b82f6","#f59e0b","#8b5cf6","#ec4899"],z=S[j%S.length],k=p.reduce((R,V)=>R+V.count,0),U=k>0?Math.round(N.count/k*100):0;return f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-2",style:{background:`${z}20`},children:f.jsxs("span",{className:"text-xl font-bold",style:{color:z},children:[U,"%"]})}),f.jsx("p",{className:"text-sm font-medium text-gray-800 capitalize",children:N.trigger_type}),f.jsxs("p",{className:"text-xs text-gray-400",children:[N.count," ejecuciones"]})]},N.trigger_type)})})]})]})}function jM({children:t}){return Gr(l=>l.isAuthenticated)?t:f.jsx(yf,{to:"/login",replace:!0})}function _M(){return f.jsxs(gw,{children:[f.jsx(nn,{path:"/login",element:f.jsx($S,{})}),f.jsxs(nn,{path:"/",element:f.jsx(jM,{children:f.jsx(qS,{})}),children:[f.jsx(nn,{index:!0,element:f.jsx(yf,{to:"/dashboard",replace:!0})}),f.jsx(nn,{path:"dashboard",element:f.jsx(BN,{})}),f.jsx(nn,{path:"conversations",element:f.jsx(LN,{})}),f.jsx(nn,{path:"flows",element:f.jsx(sM,{})}),f.jsx(nn,{path:"logs",element:f.jsx(fM,{})}),f.jsx(nn,{path:"leads",element:f.jsx(xM,{})}),f.jsx(nn,{path:"analytics",element:f.jsx(NM,{})})]}),f.jsx(nn,{path:"*",element:f.jsx(yf,{to:"/dashboard",replace:!0})})]})}g2.createRoot(document.getElementById("root")).render(f.jsx(ll.StrictMode,{children:f.jsx(Yw,{children:f.jsx(_M,{})})}));
