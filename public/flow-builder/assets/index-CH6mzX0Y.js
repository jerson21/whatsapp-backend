(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();function mh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var pf={exports:{}},Rs={};var z0;function dw(){if(z0)return Rs;z0=1;var t=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function i(s,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:t,type:s,key:f,ref:l!==void 0?l:null,props:u}}return Rs.Fragment=a,Rs.jsx=i,Rs.jsxs=i,Rs}var D0;function fw(){return D0||(D0=1,pf.exports=dw()),pf.exports}var c=fw(),gf={exports:{}},we={};var O0;function hw(){if(O0)return we;O0=1;var t=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),v=Symbol.iterator;function N(z){return z===null||typeof z!="object"?null:(z=v&&z[v]||z["@@iterator"],typeof z=="function"?z:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,S={};function j(z,V,I){this.props=z,this.context=V,this.refs=S,this.updater=I||E}j.prototype.isReactComponent={},j.prototype.setState=function(z,V){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,V,"setState")},j.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function _(){}_.prototype=j.prototype;function w(z,V,I){this.props=z,this.context=V,this.refs=S,this.updater=I||E}var M=w.prototype=new _;M.constructor=w,A(M,j.prototype),M.isPureReactComponent=!0;var B=Array.isArray;function L(){}var O={H:null,A:null,T:null,S:null},X=Object.prototype.hasOwnProperty;function J(z,V,I){var te=I.ref;return{$$typeof:t,type:z,key:V,ref:te!==void 0?te:null,props:I}}function se(z,V){return J(z.type,V,z.props)}function P(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function F(z){var V={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(I){return V[I]})}var q=/\/+/g;function H(z,V){return typeof z=="object"&&z!==null&&z.key!=null?F(""+z.key):V.toString(36)}function Q(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(L,L):(z.status="pending",z.then(function(V){z.status==="pending"&&(z.status="fulfilled",z.value=V)},function(V){z.status==="pending"&&(z.status="rejected",z.reason=V)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function R(z,V,I,te,le){var ue=typeof z;(ue==="undefined"||ue==="boolean")&&(z=null);var ce=!1;if(z===null)ce=!0;else switch(ue){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(z.$$typeof){case t:case a:ce=!0;break;case x:return ce=z._init,R(ce(z._payload),V,I,te,le)}}if(ce)return le=le(z),ce=te===""?"."+H(z,0):te,B(le)?(I="",ce!=null&&(I=ce.replace(q,"$&/")+"/"),R(le,V,I,"",function(be){return be})):le!=null&&(P(le)&&(le=se(le,I+(le.key==null||z&&z.key===le.key?"":(""+le.key).replace(q,"$&/")+"/")+ce)),V.push(le)),1;ce=0;var oe=te===""?".":te+":";if(B(z))for(var de=0;de<z.length;de++)te=z[de],ue=oe+H(te,de),ce+=R(te,V,I,ue,le);else if(de=N(z),typeof de=="function")for(z=de.call(z),de=0;!(te=z.next()).done;)te=te.value,ue=oe+H(te,de++),ce+=R(te,V,I,ue,le);else if(ue==="object"){if(typeof z.then=="function")return R(Q(z),V,I,te,le);throw V=String(z),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return ce}function D(z,V,I){if(z==null)return z;var te=[],le=0;return R(z,te,"","",function(ue){return V.call(I,ue,le++)}),te}function U(z){if(z._status===-1){var V=z._result;V=V(),V.then(function(I){(z._status===0||z._status===-1)&&(z._status=1,z._result=I)},function(I){(z._status===0||z._status===-1)&&(z._status=2,z._result=I)}),z._status===-1&&(z._status=0,z._result=V)}if(z._status===1)return z._result.default;throw z._result}var k=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},Z={map:D,forEach:function(z,V,I){D(z,function(){V.apply(this,arguments)},I)},count:function(z){var V=0;return D(z,function(){V++}),V},toArray:function(z){return D(z,function(V){return V})||[]},only:function(z){if(!P(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return we.Activity=y,we.Children=Z,we.Component=j,we.Fragment=i,we.Profiler=l,we.PureComponent=w,we.StrictMode=s,we.Suspense=g,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,we.__COMPILER_RUNTIME={__proto__:null,c:function(z){return O.H.useMemoCache(z)}},we.cache=function(z){return function(){return z.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(z,V,I){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var te=A({},z.props),le=z.key;if(V!=null)for(ue in V.key!==void 0&&(le=""+V.key),V)!X.call(V,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&V.ref===void 0||(te[ue]=V[ue]);var ue=arguments.length-2;if(ue===1)te.children=I;else if(1<ue){for(var ce=Array(ue),oe=0;oe<ue;oe++)ce[oe]=arguments[oe+2];te.children=ce}return J(z.type,le,te)},we.createContext=function(z){return z={$$typeof:f,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:u,_context:z},z},we.createElement=function(z,V,I){var te,le={},ue=null;if(V!=null)for(te in V.key!==void 0&&(ue=""+V.key),V)X.call(V,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(le[te]=V[te]);var ce=arguments.length-2;if(ce===1)le.children=I;else if(1<ce){for(var oe=Array(ce),de=0;de<ce;de++)oe[de]=arguments[de+2];le.children=oe}if(z&&z.defaultProps)for(te in ce=z.defaultProps,ce)le[te]===void 0&&(le[te]=ce[te]);return J(z,ue,le)},we.createRef=function(){return{current:null}},we.forwardRef=function(z){return{$$typeof:m,render:z}},we.isValidElement=P,we.lazy=function(z){return{$$typeof:x,_payload:{_status:-1,_result:z},_init:U}},we.memo=function(z,V){return{$$typeof:p,type:z,compare:V===void 0?null:V}},we.startTransition=function(z){var V=O.T,I={};O.T=I;try{var te=z(),le=O.S;le!==null&&le(I,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(L,k)}catch(ue){k(ue)}finally{V!==null&&I.types!==null&&(V.types=I.types),O.T=V}},we.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},we.use=function(z){return O.H.use(z)},we.useActionState=function(z,V,I){return O.H.useActionState(z,V,I)},we.useCallback=function(z,V){return O.H.useCallback(z,V)},we.useContext=function(z){return O.H.useContext(z)},we.useDebugValue=function(){},we.useDeferredValue=function(z,V){return O.H.useDeferredValue(z,V)},we.useEffect=function(z,V){return O.H.useEffect(z,V)},we.useEffectEvent=function(z){return O.H.useEffectEvent(z)},we.useId=function(){return O.H.useId()},we.useImperativeHandle=function(z,V,I){return O.H.useImperativeHandle(z,V,I)},we.useInsertionEffect=function(z,V){return O.H.useInsertionEffect(z,V)},we.useLayoutEffect=function(z,V){return O.H.useLayoutEffect(z,V)},we.useMemo=function(z,V){return O.H.useMemo(z,V)},we.useOptimistic=function(z,V){return O.H.useOptimistic(z,V)},we.useReducer=function(z,V,I){return O.H.useReducer(z,V,I)},we.useRef=function(z){return O.H.useRef(z)},we.useState=function(z){return O.H.useState(z)},we.useSyncExternalStore=function(z,V,I){return O.H.useSyncExternalStore(z,V,I)},we.useTransition=function(){return O.H.useTransition()},we.version="19.2.3",we}var k0;function eo(){return k0||(k0=1,gf.exports=hw()),gf.exports}var C=eo();const gr=mh(C);var yf={exports:{}},zs={},xf={exports:{}},vf={};var B0;function mw(){return B0||(B0=1,(function(t){function a(R,D){var U=R.length;R.push(D);e:for(;0<U;){var k=U-1>>>1,Z=R[k];if(0<l(Z,D))R[k]=D,R[U]=Z,U=k;else break e}}function i(R){return R.length===0?null:R[0]}function s(R){if(R.length===0)return null;var D=R[0],U=R.pop();if(U!==D){R[0]=U;e:for(var k=0,Z=R.length,z=Z>>>1;k<z;){var V=2*(k+1)-1,I=R[V],te=V+1,le=R[te];if(0>l(I,U))te<Z&&0>l(le,I)?(R[k]=le,R[te]=U,k=te):(R[k]=I,R[V]=U,k=V);else if(te<Z&&0>l(le,U))R[k]=le,R[te]=U,k=te;else break e}}return D}function l(R,D){var U=R.sortIndex-D.sortIndex;return U!==0?U:R.id-D.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();t.unstable_now=function(){return f.now()-m}}var g=[],p=[],x=1,y=null,v=3,N=!1,E=!1,A=!1,S=!1,j=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function M(R){for(var D=i(p);D!==null;){if(D.callback===null)s(p);else if(D.startTime<=R)s(p),D.sortIndex=D.expirationTime,a(g,D);else break;D=i(p)}}function B(R){if(A=!1,M(R),!E)if(i(g)!==null)E=!0,L||(L=!0,F());else{var D=i(p);D!==null&&Q(B,D.startTime-R)}}var L=!1,O=-1,X=5,J=-1;function se(){return S?!0:!(t.unstable_now()-J<X)}function P(){if(S=!1,L){var R=t.unstable_now();J=R;var D=!0;try{e:{E=!1,A&&(A=!1,_(O),O=-1),N=!0;var U=v;try{t:{for(M(R),y=i(g);y!==null&&!(y.expirationTime>R&&se());){var k=y.callback;if(typeof k=="function"){y.callback=null,v=y.priorityLevel;var Z=k(y.expirationTime<=R);if(R=t.unstable_now(),typeof Z=="function"){y.callback=Z,M(R),D=!0;break t}y===i(g)&&s(g),M(R)}else s(g);y=i(g)}if(y!==null)D=!0;else{var z=i(p);z!==null&&Q(B,z.startTime-R),D=!1}}break e}finally{y=null,v=U,N=!1}D=void 0}}finally{D?F():L=!1}}}var F;if(typeof w=="function")F=function(){w(P)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,H=q.port2;q.port1.onmessage=P,F=function(){H.postMessage(null)}}else F=function(){j(P,0)};function Q(R,D){O=j(function(){R(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(R){switch(v){case 1:case 2:case 3:var D=3;break;default:D=v}var U=v;v=D;try{return R()}finally{v=U}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(R,D){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var U=v;v=R;try{return D()}finally{v=U}},t.unstable_scheduleCallback=function(R,D,U){var k=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?k+U:k):U=k,R){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=U+Z,R={id:x++,callback:D,priorityLevel:R,startTime:U,expirationTime:Z,sortIndex:-1},U>k?(R.sortIndex=U,a(p,R),i(g)===null&&R===i(p)&&(A?(_(O),O=-1):A=!0,Q(B,U-k))):(R.sortIndex=Z,a(g,R),E||N||(E=!0,L||(L=!0,F()))),R},t.unstable_shouldYield=se,t.unstable_wrapCallback=function(R){var D=v;return function(){var U=v;v=D;try{return R.apply(this,arguments)}finally{v=U}}}})(vf)),vf}var H0;function pw(){return H0||(H0=1,xf.exports=mw()),xf.exports}var bf={exports:{}},bt={};var L0;function gw(){if(L0)return bt;L0=1;var t=eo();function a(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)p+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(a(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(g,p,x){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:y==null?null:""+y,children:g,containerInfo:p,implementation:x}}var f=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return bt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,bt.createPortal=function(g,p){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(a(299));return u(g,p,null,x)},bt.flushSync=function(g){var p=f.T,x=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=p,s.p=x,s.d.f()}},bt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},bt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},bt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var x=p.as,y=m(x,p.crossOrigin),v=typeof p.integrity=="string"?p.integrity:void 0,N=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;x==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:N}):x==="script"&&s.d.X(g,{crossOrigin:y,integrity:v,fetchPriority:N,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},bt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var x=m(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},bt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var x=p.as,y=m(x,p.crossOrigin);s.d.L(g,x,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},bt.preloadModule=function(g,p){if(typeof g=="string")if(p){var x=m(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},bt.requestFormReset=function(g){s.d.r(g)},bt.unstable_batchedUpdates=function(g,p){return g(p)},bt.useFormState=function(g,p,x){return f.H.useFormState(g,p,x)},bt.useFormStatus=function(){return f.H.useHostTransitionStatus()},bt.version="19.2.3",bt}var U0;function wx(){if(U0)return bf.exports;U0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(a){console.error(a)}}return t(),bf.exports=gw(),bf.exports}var $0;function yw(){if($0)return zs;$0=1;var t=pw(),a=eo(),i=wx();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function f(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(s(188))}function p(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(s(188));return n!==e?null:e}for(var r=e,o=n;;){var d=r.return;if(d===null)break;var h=d.alternate;if(h===null){if(o=d.return,o!==null){r=o;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===r)return g(d),e;if(h===o)return g(d),n;h=h.sibling}throw Error(s(188))}if(r.return!==o.return)r=d,o=h;else{for(var b=!1,T=d.child;T;){if(T===r){b=!0,r=d,o=h;break}if(T===o){b=!0,o=d,r=h;break}T=T.sibling}if(!b){for(T=h.child;T;){if(T===r){b=!0,r=h,o=d;break}if(T===o){b=!0,o=h,r=d;break}T=T.sibling}if(!b)throw Error(s(189))}}if(r.alternate!==o)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:n}function x(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=x(e),n!==null)return n;e=e.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),w=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),se=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function F(e){return e===null||typeof e!="object"?null:(e=P&&e[P]||e["@@iterator"],typeof e=="function"?e:null)}var q=Symbol.for("react.client.reference");function H(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===q?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case A:return"Fragment";case j:return"Profiler";case S:return"StrictMode";case B:return"Suspense";case L:return"SuspenseList";case J:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case w:return e.displayName||"Context";case _:return(e._context.displayName||"Context")+".Consumer";case M:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case O:return n=e.displayName||null,n!==null?n:H(e.type)||"Memo";case X:n=e._payload,e=e._init;try{return H(e(n))}catch{}}return null}var Q=Array.isArray,R=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U={pending:!1,data:null,method:null,action:null},k=[],Z=-1;function z(e){return{current:e}}function V(e){0>Z||(e.current=k[Z],k[Z]=null,Z--)}function I(e,n){Z++,k[Z]=e.current,e.current=n}var te=z(null),le=z(null),ue=z(null),ce=z(null);function oe(e,n){switch(I(ue,n),I(le,e),I(te,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?t0(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=t0(n),e=n0(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(te),I(te,e)}function de(){V(te),V(le),V(ue)}function be(e){e.memoizedState!==null&&I(ce,e);var n=te.current,r=n0(n,e.type);n!==r&&(I(le,e),I(te,r))}function ve(e){le.current===e&&(V(te),V(le)),ce.current===e&&(V(ce),Cs._currentValue=U)}var me,pe;function Ne(e){if(me===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);me=n&&n[1]||"",pe=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+me+e+pe}var ze=!1;function je(e,n){if(!e||ze)return"";ze=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(ne){var ee=ne}Reflect.construct(e,[],re)}else{try{re.call()}catch(ne){ee=ne}e.call(re.prototype)}}else{try{throw Error()}catch(ne){ee=ne}(re=e())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(ne){if(ne&&ee&&typeof ne.stack=="string")return[ne.stack,ee.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=o.DetermineComponentFrameRoot(),b=h[0],T=h[1];if(b&&T){var $=b.split(`
`),K=T.split(`
`);for(d=o=0;o<$.length&&!$[o].includes("DetermineComponentFrameRoot");)o++;for(;d<K.length&&!K[d].includes("DetermineComponentFrameRoot");)d++;if(o===$.length||d===K.length)for(o=$.length-1,d=K.length-1;1<=o&&0<=d&&$[o]!==K[d];)d--;for(;1<=o&&0<=d;o--,d--)if($[o]!==K[d]){if(o!==1||d!==1)do if(o--,d--,0>d||$[o]!==K[d]){var ae=`
`+$[o].replace(" at new "," at ");return e.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",e.displayName)),ae}while(1<=o&&0<=d);break}}}finally{ze=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Ne(r):""}function Je(e,n){switch(e.tag){case 26:case 27:case 5:return Ne(e.type);case 16:return Ne("Lazy");case 13:return e.child!==n&&n!==null?Ne("Suspense Fallback"):Ne("Suspense");case 19:return Ne("SuspenseList");case 0:case 15:return je(e.type,!1);case 11:return je(e.type.render,!1);case 1:return je(e.type,!0);case 31:return Ne("Activity");default:return""}}function Et(e){try{var n="",r=null;do n+=Je(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var xt=Object.prototype.hasOwnProperty,an=t.unstable_scheduleCallback,Mn=t.unstable_cancelCallback,Va=t.unstable_shouldYield,Ya=t.unstable_requestPaint,ht=t.unstable_now,_i=t.unstable_getCurrentPriorityLevel,An=t.unstable_ImmediatePriority,oa=t.unstable_UserBlockingPriority,Xa=t.unstable_NormalPriority,Wc=t.unstable_LowPriority,Ci=t.unstable_IdlePriority,Kc=t.log,Jc=t.unstable_setDisableYieldValue,Ga=null,wt=null;function pn(e){if(typeof Kc=="function"&&Jc(e),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(Ga,e)}catch{}}var St=Math.clz32?Math.clz32:nu,eu=Math.log,tu=Math.LN2;function nu(e){return e>>>=0,e===0?32:31-(eu(e)/tu|0)|0}var Ti=256,Mi=262144,Ai=4194304;function Rn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ri(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var d=0,h=e.suspendedLanes,b=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~h,o!==0?d=Rn(o):(b&=T,b!==0?d=Rn(b):r||(r=T&~e,r!==0&&(d=Rn(r))))):(T=o&~h,T!==0?d=Rn(T):b!==0?d=Rn(b):r||(r=o&~e,r!==0&&(d=Rn(r)))),d===0?0:n!==0&&n!==d&&(n&h)===0&&(h=d&-d,r=n&-n,h>=r||h===32&&(r&4194048)!==0)?n:d}function Za(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function au(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mo(){var e=Ai;return Ai<<=1,(Ai&62914560)===0&&(Ai=4194304),e}function Lr(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function Qa(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function iu(e,n,r,o,d,h){var b=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var T=e.entanglements,$=e.expirationTimes,K=e.hiddenUpdates;for(r=b&~r;0<r;){var ae=31-St(r),re=1<<ae;T[ae]=0,$[ae]=-1;var ee=K[ae];if(ee!==null)for(K[ae]=null,ae=0;ae<ee.length;ae++){var ne=ee[ae];ne!==null&&(ne.lane&=-536870913)}r&=~re}o!==0&&po(e,o,0),h!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=h&~(b&~n))}function po(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-St(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function go(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-St(r),d=1<<o;d&n|e[o]&n&&(e[o]|=n),r&=~d}}function yo(e,n){var r=n&-n;return r=(r&42)!==0?1:Ur(r),(r&(e.suspendedLanes|n))!==0?0:r}function Ur(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function $r(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function xo(){var e=D.p;return e!==0?e:(e=window.event,e===void 0?32:j0(e.type))}function vo(e,n){var r=D.p;try{return D.p=e,n()}finally{D.p=r}}var gn=Math.random().toString(36).slice(2),ct="__reactFiber$"+gn,vt="__reactProps$"+gn,zn="__reactContainer$"+gn,zi="__reactEvents$"+gn,bo="__reactListeners$"+gn,ru="__reactHandles$"+gn,wo="__reactResources$"+gn,Pa="__reactMarker$"+gn;function qr(e){delete e[ct],delete e[vt],delete e[zi],delete e[bo],delete e[ru]}function la(e){var n=e[ct];if(n)return n;for(var r=e.parentNode;r;){if(n=r[zn]||r[ct]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=c0(e);e!==null;){if(r=e[ct])return r;e=c0(e)}return n}e=r,r=e.parentNode}return null}function ca(e){if(e=e[ct]||e[zn]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function ua(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function da(e){var n=e[wo];return n||(n=e[wo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function nt(e){e[Pa]=!0}var So=new Set,No={};function Dn(e,n){fa(e,n),fa(e+"Capture",n)}function fa(e,n){for(No[e]=n,e=0;e<n.length;e++)So.add(n[e])}var su=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vr={},Eo={};function ou(e){return xt.call(Eo,e)?!0:xt.call(Vr,e)?!1:su.test(e)?Eo[e]=!0:(Vr[e]=!0,!1)}function Di(e,n,r){if(ou(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function Oi(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function rn(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function jt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jo(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function lu(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,h=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(b){r=""+b,h.call(this,b)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(b){r=""+b},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ki(e){if(!e._valueTracker){var n=jo(e)?"checked":"value";e._valueTracker=lu(e,n,""+e[n])}}function _o(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=jo(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function Ia(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var cu=/[\n"\\]/g;function _t(e){return e.replace(cu,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Fa(e,n,r,o,d,h,b,T){e.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.type=b:e.removeAttribute("type"),n!=null?b==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+jt(n)):e.value!==""+jt(n)&&(e.value=""+jt(n)):b!=="submit"&&b!=="reset"||e.removeAttribute("value"),n!=null?Yr(e,b,jt(n)):r!=null?Yr(e,b,jt(r)):o!=null&&e.removeAttribute("value"),d==null&&h!=null&&(e.defaultChecked=!!h),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+jt(T):e.removeAttribute("name")}function Co(e,n,r,o,d,h,b,T){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),n!=null||r!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){ki(e);return}r=r!=null?""+jt(r):"",n=n!=null?""+jt(n):r,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??d,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.name=b),ki(e)}function Yr(e,n,r){n==="number"&&Ia(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function On(e,n,r,o){if(e=e.options,n){n={};for(var d=0;d<r.length;d++)n["$"+r[d]]=!0;for(r=0;r<e.length;r++)d=n.hasOwnProperty("$"+e[r].value),e[r].selected!==d&&(e[r].selected=d),d&&o&&(e[r].defaultSelected=!0)}else{for(r=""+jt(r),n=null,d=0;d<e.length;d++){if(e[d].value===r){e[d].selected=!0,o&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function Fh(e,n,r){if(n!=null&&(n=""+jt(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+jt(r):""}function Wh(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(s(92));if(Q(o)){if(1<o.length)throw Error(s(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=jt(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),ki(e)}function Bi(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var sb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kh(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||sb.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Jh(e,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var d in n)o=n[d],n.hasOwnProperty(d)&&r[d]!==o&&Kh(e,d,o)}else for(var h in n)n.hasOwnProperty(h)&&Kh(e,h,n[h])}function uu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ob=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function To(e){return lb.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function kn(){}var du=null;function fu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hi=null,Li=null;function em(e){var n=ca(e);if(n&&(e=n.stateNode)){var r=e[vt]||null;e:switch(e=n.stateNode,n.type){case"input":if(Fa(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+_t(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var d=o[vt]||null;if(!d)throw Error(s(90));Fa(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&_o(o)}break e;case"textarea":Fh(e,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&On(e,!!r.multiple,n,!1)}}}var hu=!1;function tm(e,n,r){if(hu)return e(n,r);hu=!0;try{var o=e(n);return o}finally{if(hu=!1,(Hi!==null||Li!==null)&&(pl(),Hi&&(n=Hi,e=Li,Li=Hi=null,em(n),e)))for(n=0;n<e.length;n++)em(e[n])}}function Xr(e,n){var r=e.stateNode;if(r===null)return null;var o=r[vt]||null;if(o===null)return null;r=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mu=!1;if(Bn)try{var Gr={};Object.defineProperty(Gr,"passive",{get:function(){mu=!0}}),window.addEventListener("test",Gr,Gr),window.removeEventListener("test",Gr,Gr)}catch{mu=!1}var ha=null,pu=null,Mo=null;function nm(){if(Mo)return Mo;var e,n=pu,r=n.length,o,d="value"in ha?ha.value:ha.textContent,h=d.length;for(e=0;e<r&&n[e]===d[e];e++);var b=r-e;for(o=1;o<=b&&n[r-o]===d[h-o];o++);return Mo=d.slice(e,1<o?1-o:void 0)}function Ao(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ro(){return!0}function am(){return!1}function Ct(e){function n(r,o,d,h,b){this._reactName=r,this._targetInst=d,this.type=o,this.nativeEvent=h,this.target=b,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(r=e[T],this[T]=r?r(h):h[T]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Ro:am,this.isPropagationStopped=am,this}return y(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ro)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ro)},persist:function(){},isPersistent:Ro}),n}var Wa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zo=Ct(Wa),Zr=y({},Wa,{view:0,detail:0}),cb=Ct(Zr),gu,yu,Qr,Do=y({},Zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qr&&(Qr&&e.type==="mousemove"?(gu=e.screenX-Qr.screenX,yu=e.screenY-Qr.screenY):yu=gu=0,Qr=e),gu)},movementY:function(e){return"movementY"in e?e.movementY:yu}}),im=Ct(Do),ub=y({},Do,{dataTransfer:0}),db=Ct(ub),fb=y({},Zr,{relatedTarget:0}),xu=Ct(fb),hb=y({},Wa,{animationName:0,elapsedTime:0,pseudoElement:0}),mb=Ct(hb),pb=y({},Wa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gb=Ct(pb),yb=y({},Wa,{data:0}),rm=Ct(yb),xb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wb(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=bb[e])?!!n[e]:!1}function vu(){return wb}var Sb=y({},Zr,{key:function(e){if(e.key){var n=xb[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ao(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vu,charCode:function(e){return e.type==="keypress"?Ao(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ao(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Nb=Ct(Sb),Eb=y({},Do,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sm=Ct(Eb),jb=y({},Zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vu}),_b=Ct(jb),Cb=y({},Wa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tb=Ct(Cb),Mb=y({},Do,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ab=Ct(Mb),Rb=y({},Wa,{newState:0,oldState:0}),zb=Ct(Rb),Db=[9,13,27,32],bu=Bn&&"CompositionEvent"in window,Pr=null;Bn&&"documentMode"in document&&(Pr=document.documentMode);var Ob=Bn&&"TextEvent"in window&&!Pr,om=Bn&&(!bu||Pr&&8<Pr&&11>=Pr),lm=" ",cm=!1;function um(e,n){switch(e){case"keyup":return Db.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ui=!1;function kb(e,n){switch(e){case"compositionend":return dm(n);case"keypress":return n.which!==32?null:(cm=!0,lm);case"textInput":return e=n.data,e===lm&&cm?null:e;default:return null}}function Bb(e,n){if(Ui)return e==="compositionend"||!bu&&um(e,n)?(e=nm(),Mo=pu=ha=null,Ui=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return om&&n.locale!=="ko"?null:n.data;default:return null}}var Hb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fm(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Hb[e.type]:n==="textarea"}function hm(e,n,r,o){Hi?Li?Li.push(o):Li=[o]:Hi=o,n=Sl(n,"onChange"),0<n.length&&(r=new zo("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Ir=null,Fr=null;function Lb(e){Ig(e,0)}function Oo(e){var n=ua(e);if(_o(n))return e}function mm(e,n){if(e==="change")return n}var pm=!1;if(Bn){var wu;if(Bn){var Su="oninput"in document;if(!Su){var gm=document.createElement("div");gm.setAttribute("oninput","return;"),Su=typeof gm.oninput=="function"}wu=Su}else wu=!1;pm=wu&&(!document.documentMode||9<document.documentMode)}function ym(){Ir&&(Ir.detachEvent("onpropertychange",xm),Fr=Ir=null)}function xm(e){if(e.propertyName==="value"&&Oo(Fr)){var n=[];hm(n,Fr,e,fu(e)),tm(Lb,n)}}function Ub(e,n,r){e==="focusin"?(ym(),Ir=n,Fr=r,Ir.attachEvent("onpropertychange",xm)):e==="focusout"&&ym()}function $b(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Oo(Fr)}function qb(e,n){if(e==="click")return Oo(n)}function Vb(e,n){if(e==="input"||e==="change")return Oo(n)}function Yb(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Ot=typeof Object.is=="function"?Object.is:Yb;function Wr(e,n){if(Ot(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var d=r[o];if(!xt.call(n,d)||!Ot(e[d],n[d]))return!1}return!0}function vm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bm(e,n){var r=vm(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vm(r)}}function wm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?wm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Sm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ia(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=Ia(e.document)}return n}function Nu(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Xb=Bn&&"documentMode"in document&&11>=document.documentMode,$i=null,Eu=null,Kr=null,ju=!1;function Nm(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ju||$i==null||$i!==Ia(o)||(o=$i,"selectionStart"in o&&Nu(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Kr&&Wr(Kr,o)||(Kr=o,o=Sl(Eu,"onSelect"),0<o.length&&(n=new zo("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=$i)))}function Ka(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var qi={animationend:Ka("Animation","AnimationEnd"),animationiteration:Ka("Animation","AnimationIteration"),animationstart:Ka("Animation","AnimationStart"),transitionrun:Ka("Transition","TransitionRun"),transitionstart:Ka("Transition","TransitionStart"),transitioncancel:Ka("Transition","TransitionCancel"),transitionend:Ka("Transition","TransitionEnd")},_u={},Em={};Bn&&(Em=document.createElement("div").style,"AnimationEvent"in window||(delete qi.animationend.animation,delete qi.animationiteration.animation,delete qi.animationstart.animation),"TransitionEvent"in window||delete qi.transitionend.transition);function Ja(e){if(_u[e])return _u[e];if(!qi[e])return e;var n=qi[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Em)return _u[e]=n[r];return e}var jm=Ja("animationend"),_m=Ja("animationiteration"),Cm=Ja("animationstart"),Gb=Ja("transitionrun"),Zb=Ja("transitionstart"),Qb=Ja("transitioncancel"),Tm=Ja("transitionend"),Mm=new Map,Cu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cu.push("scrollEnd");function sn(e,n){Mm.set(e,n),Dn(n,[e])}var ko=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Qt=[],Vi=0,Tu=0;function Bo(){for(var e=Vi,n=Tu=Vi=0;n<e;){var r=Qt[n];Qt[n++]=null;var o=Qt[n];Qt[n++]=null;var d=Qt[n];Qt[n++]=null;var h=Qt[n];if(Qt[n++]=null,o!==null&&d!==null){var b=o.pending;b===null?d.next=d:(d.next=b.next,b.next=d),o.pending=d}h!==0&&Am(r,d,h)}}function Ho(e,n,r,o){Qt[Vi++]=e,Qt[Vi++]=n,Qt[Vi++]=r,Qt[Vi++]=o,Tu|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Mu(e,n,r,o){return Ho(e,n,r,o),Lo(e)}function ei(e,n){return Ho(e,null,null,n),Lo(e)}function Am(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var d=!1,h=e.return;h!==null;)h.childLanes|=r,o=h.alternate,o!==null&&(o.childLanes|=r),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(d=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,d&&n!==null&&(d=31-St(r),e=h.hiddenUpdates,o=e[d],o===null?e[d]=[n]:o.push(n),n.lane=r|536870912),h):null}function Lo(e){if(50<bs)throw bs=0,Ld=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Yi={};function Pb(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(e,n,r,o){return new Pb(e,n,r,o)}function Au(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Hn(e,n){var r=e.alternate;return r===null?(r=kt(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Rm(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Uo(e,n,r,o,d,h){var b=0;if(o=e,typeof e=="function")Au(e)&&(b=1);else if(typeof e=="string")b=J2(e,r,te.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case J:return e=kt(31,r,n,d),e.elementType=J,e.lanes=h,e;case A:return ti(r.children,d,h,n);case S:b=8,d|=24;break;case j:return e=kt(12,r,n,d|2),e.elementType=j,e.lanes=h,e;case B:return e=kt(13,r,n,d),e.elementType=B,e.lanes=h,e;case L:return e=kt(19,r,n,d),e.elementType=L,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case w:b=10;break e;case _:b=9;break e;case M:b=11;break e;case O:b=14;break e;case X:b=16,o=null;break e}b=29,r=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=kt(b,r,n,d),n.elementType=e,n.type=o,n.lanes=h,n}function ti(e,n,r,o){return e=kt(7,e,o,n),e.lanes=r,e}function Ru(e,n,r){return e=kt(6,e,null,n),e.lanes=r,e}function zm(e){var n=kt(18,null,null,0);return n.stateNode=e,n}function zu(e,n,r){return n=kt(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Dm=new WeakMap;function Pt(e,n){if(typeof e=="object"&&e!==null){var r=Dm.get(e);return r!==void 0?r:(n={value:e,source:n,stack:Et(n)},Dm.set(e,n),n)}return{value:e,source:n,stack:Et(n)}}var Xi=[],Gi=0,$o=null,Jr=0,It=[],Ft=0,ma=null,yn=1,xn="";function Ln(e,n){Xi[Gi++]=Jr,Xi[Gi++]=$o,$o=e,Jr=n}function Om(e,n,r){It[Ft++]=yn,It[Ft++]=xn,It[Ft++]=ma,ma=e;var o=yn;e=xn;var d=32-St(o)-1;o&=~(1<<d),r+=1;var h=32-St(n)+d;if(30<h){var b=d-d%5;h=(o&(1<<b)-1).toString(32),o>>=b,d-=b,yn=1<<32-St(n)+d|r<<d|o,xn=h+e}else yn=1<<h|r<<d|o,xn=e}function Du(e){e.return!==null&&(Ln(e,1),Om(e,1,0))}function Ou(e){for(;e===$o;)$o=Xi[--Gi],Xi[Gi]=null,Jr=Xi[--Gi],Xi[Gi]=null;for(;e===ma;)ma=It[--Ft],It[Ft]=null,xn=It[--Ft],It[Ft]=null,yn=It[--Ft],It[Ft]=null}function km(e,n){It[Ft++]=yn,It[Ft++]=xn,It[Ft++]=ma,yn=n.id,xn=n.overflow,ma=e}var mt=null,Ge=null,Re=!1,pa=null,Wt=!1,ku=Error(s(519));function ga(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw es(Pt(n,e)),ku}function Bm(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[ct]=e,n[vt]=o,r){case"dialog":Te("cancel",n),Te("close",n);break;case"iframe":case"object":case"embed":Te("load",n);break;case"video":case"audio":for(r=0;r<Ss.length;r++)Te(Ss[r],n);break;case"source":Te("error",n);break;case"img":case"image":case"link":Te("error",n),Te("load",n);break;case"details":Te("toggle",n);break;case"input":Te("invalid",n),Co(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Te("invalid",n);break;case"textarea":Te("invalid",n),Wh(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||Jg(n.textContent,r)?(o.popover!=null&&(Te("beforetoggle",n),Te("toggle",n)),o.onScroll!=null&&Te("scroll",n),o.onScrollEnd!=null&&Te("scrollend",n),o.onClick!=null&&(n.onclick=kn),n=!0):n=!1,n||ga(e,!0)}function Hm(e){for(mt=e.return;mt;)switch(mt.tag){case 5:case 31:case 13:Wt=!1;return;case 27:case 3:Wt=!0;return;default:mt=mt.return}}function Zi(e){if(e!==mt)return!1;if(!Re)return Hm(e),Re=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Jd(e.type,e.memoizedProps)),r=!r),r&&Ge&&ga(e),Hm(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Ge=l0(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Ge=l0(e)}else n===27?(n=Ge,Aa(e.type)?(e=rf,rf=null,Ge=e):Ge=n):Ge=mt?Jt(e.stateNode.nextSibling):null;return!0}function ni(){Ge=mt=null,Re=!1}function Bu(){var e=pa;return e!==null&&(Rt===null?Rt=e:Rt.push.apply(Rt,e),pa=null),e}function es(e){pa===null?pa=[e]:pa.push(e)}var Hu=z(null),ai=null,Un=null;function ya(e,n,r){I(Hu,n._currentValue),n._currentValue=r}function $n(e){e._currentValue=Hu.current,V(Hu)}function Lu(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function Uu(e,n,r,o){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var h=d.dependencies;if(h!==null){var b=d.child;h=h.firstContext;e:for(;h!==null;){var T=h;h=d;for(var $=0;$<n.length;$++)if(T.context===n[$]){h.lanes|=r,T=h.alternate,T!==null&&(T.lanes|=r),Lu(h.return,r,e),o||(b=null);break e}h=T.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(s(341));b.lanes|=r,h=b.alternate,h!==null&&(h.lanes|=r),Lu(b,r,e),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===e){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function Qi(e,n,r,o){e=null;for(var d=n,h=!1;d!==null;){if(!h){if((d.flags&524288)!==0)h=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var T=d.type;Ot(d.pendingProps.value,b.value)||(e!==null?e.push(T):e=[T])}}else if(d===ce.current){if(b=d.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(Cs):e=[Cs])}d=d.return}e!==null&&Uu(n,e,r,o),n.flags|=262144}function qo(e){for(e=e.firstContext;e!==null;){if(!Ot(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ii(e){ai=e,Un=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function pt(e){return Lm(ai,e)}function Vo(e,n){return ai===null&&ii(e),Lm(e,n)}function Lm(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Un===null){if(e===null)throw Error(s(308));Un=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Un=Un.next=n;return r}var Ib=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},Fb=t.unstable_scheduleCallback,Wb=t.unstable_NormalPriority,at={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $u(){return{controller:new Ib,data:new Map,refCount:0}}function ts(e){e.refCount--,e.refCount===0&&Fb(Wb,function(){e.controller.abort()})}var ns=null,qu=0,Pi=0,Ii=null;function Kb(e,n){if(ns===null){var r=ns=[];qu=0,Pi=Xd(),Ii={status:"pending",value:void 0,then:function(o){r.push(o)}}}return qu++,n.then(Um,Um),n}function Um(){if(--qu===0&&ns!==null){Ii!==null&&(Ii.status="fulfilled");var e=ns;ns=null,Pi=0,Ii=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Jb(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(d){r.push(d)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var d=0;d<r.length;d++)(0,r[d])(n)},function(d){for(o.status="rejected",o.reason=d,d=0;d<r.length;d++)(0,r[d])(void 0)}),o}var $m=R.S;R.S=function(e,n){Ng=ht(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Kb(e,n),$m!==null&&$m(e,n)};var ri=z(null);function Vu(){var e=ri.current;return e!==null?e:Xe.pooledCache}function Yo(e,n){n===null?I(ri,ri.current):I(ri,n.pool)}function qm(){var e=Vu();return e===null?null:{parent:at._currentValue,pool:e}}var Fi=Error(s(460)),Yu=Error(s(474)),Xo=Error(s(542)),Go={then:function(){}};function Vm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ym(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(kn,kn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Gm(e),e;default:if(typeof n.status=="string")n.then(kn,kn);else{if(e=Xe,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=o}},function(o){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Gm(e),e}throw oi=n,Fi}}function si(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(oi=r,Fi):r}}var oi=null;function Xm(){if(oi===null)throw Error(s(459));var e=oi;return oi=null,e}function Gm(e){if(e===Fi||e===Xo)throw Error(s(483))}var Wi=null,as=0;function Zo(e){var n=as;return as+=1,Wi===null&&(Wi=[]),Ym(Wi,e,n)}function is(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Qo(e,n){throw n.$$typeof===v?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Zm(e){function n(G,Y){if(e){var W=G.deletions;W===null?(G.deletions=[Y],G.flags|=16):W.push(Y)}}function r(G,Y){if(!e)return null;for(;Y!==null;)n(G,Y),Y=Y.sibling;return null}function o(G){for(var Y=new Map;G!==null;)G.key!==null?Y.set(G.key,G):Y.set(G.index,G),G=G.sibling;return Y}function d(G,Y){return G=Hn(G,Y),G.index=0,G.sibling=null,G}function h(G,Y,W){return G.index=W,e?(W=G.alternate,W!==null?(W=W.index,W<Y?(G.flags|=67108866,Y):W):(G.flags|=67108866,Y)):(G.flags|=1048576,Y)}function b(G){return e&&G.alternate===null&&(G.flags|=67108866),G}function T(G,Y,W,ie){return Y===null||Y.tag!==6?(Y=Ru(W,G.mode,ie),Y.return=G,Y):(Y=d(Y,W),Y.return=G,Y)}function $(G,Y,W,ie){var ye=W.type;return ye===A?ae(G,Y,W.props.children,ie,W.key):Y!==null&&(Y.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===X&&si(ye)===Y.type)?(Y=d(Y,W.props),is(Y,W),Y.return=G,Y):(Y=Uo(W.type,W.key,W.props,null,G.mode,ie),is(Y,W),Y.return=G,Y)}function K(G,Y,W,ie){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==W.containerInfo||Y.stateNode.implementation!==W.implementation?(Y=zu(W,G.mode,ie),Y.return=G,Y):(Y=d(Y,W.children||[]),Y.return=G,Y)}function ae(G,Y,W,ie,ye){return Y===null||Y.tag!==7?(Y=ti(W,G.mode,ie,ye),Y.return=G,Y):(Y=d(Y,W),Y.return=G,Y)}function re(G,Y,W){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=Ru(""+Y,G.mode,W),Y.return=G,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case N:return W=Uo(Y.type,Y.key,Y.props,null,G.mode,W),is(W,Y),W.return=G,W;case E:return Y=zu(Y,G.mode,W),Y.return=G,Y;case X:return Y=si(Y),re(G,Y,W)}if(Q(Y)||F(Y))return Y=ti(Y,G.mode,W,null),Y.return=G,Y;if(typeof Y.then=="function")return re(G,Zo(Y),W);if(Y.$$typeof===w)return re(G,Vo(G,Y),W);Qo(G,Y)}return null}function ee(G,Y,W,ie){var ye=Y!==null?Y.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return ye!==null?null:T(G,Y,""+W,ie);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case N:return W.key===ye?$(G,Y,W,ie):null;case E:return W.key===ye?K(G,Y,W,ie):null;case X:return W=si(W),ee(G,Y,W,ie)}if(Q(W)||F(W))return ye!==null?null:ae(G,Y,W,ie,null);if(typeof W.then=="function")return ee(G,Y,Zo(W),ie);if(W.$$typeof===w)return ee(G,Y,Vo(G,W),ie);Qo(G,W)}return null}function ne(G,Y,W,ie,ye){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return G=G.get(W)||null,T(Y,G,""+ie,ye);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case N:return G=G.get(ie.key===null?W:ie.key)||null,$(Y,G,ie,ye);case E:return G=G.get(ie.key===null?W:ie.key)||null,K(Y,G,ie,ye);case X:return ie=si(ie),ne(G,Y,W,ie,ye)}if(Q(ie)||F(ie))return G=G.get(W)||null,ae(Y,G,ie,ye,null);if(typeof ie.then=="function")return ne(G,Y,W,Zo(ie),ye);if(ie.$$typeof===w)return ne(G,Y,W,Vo(Y,ie),ye);Qo(Y,ie)}return null}function fe(G,Y,W,ie){for(var ye=null,Oe=null,he=Y,Ee=Y=0,Ae=null;he!==null&&Ee<W.length;Ee++){he.index>Ee?(Ae=he,he=null):Ae=he.sibling;var ke=ee(G,he,W[Ee],ie);if(ke===null){he===null&&(he=Ae);break}e&&he&&ke.alternate===null&&n(G,he),Y=h(ke,Y,Ee),Oe===null?ye=ke:Oe.sibling=ke,Oe=ke,he=Ae}if(Ee===W.length)return r(G,he),Re&&Ln(G,Ee),ye;if(he===null){for(;Ee<W.length;Ee++)he=re(G,W[Ee],ie),he!==null&&(Y=h(he,Y,Ee),Oe===null?ye=he:Oe.sibling=he,Oe=he);return Re&&Ln(G,Ee),ye}for(he=o(he);Ee<W.length;Ee++)Ae=ne(he,G,Ee,W[Ee],ie),Ae!==null&&(e&&Ae.alternate!==null&&he.delete(Ae.key===null?Ee:Ae.key),Y=h(Ae,Y,Ee),Oe===null?ye=Ae:Oe.sibling=Ae,Oe=Ae);return e&&he.forEach(function(ka){return n(G,ka)}),Re&&Ln(G,Ee),ye}function xe(G,Y,W,ie){if(W==null)throw Error(s(151));for(var ye=null,Oe=null,he=Y,Ee=Y=0,Ae=null,ke=W.next();he!==null&&!ke.done;Ee++,ke=W.next()){he.index>Ee?(Ae=he,he=null):Ae=he.sibling;var ka=ee(G,he,ke.value,ie);if(ka===null){he===null&&(he=Ae);break}e&&he&&ka.alternate===null&&n(G,he),Y=h(ka,Y,Ee),Oe===null?ye=ka:Oe.sibling=ka,Oe=ka,he=Ae}if(ke.done)return r(G,he),Re&&Ln(G,Ee),ye;if(he===null){for(;!ke.done;Ee++,ke=W.next())ke=re(G,ke.value,ie),ke!==null&&(Y=h(ke,Y,Ee),Oe===null?ye=ke:Oe.sibling=ke,Oe=ke);return Re&&Ln(G,Ee),ye}for(he=o(he);!ke.done;Ee++,ke=W.next())ke=ne(he,G,Ee,ke.value,ie),ke!==null&&(e&&ke.alternate!==null&&he.delete(ke.key===null?Ee:ke.key),Y=h(ke,Y,Ee),Oe===null?ye=ke:Oe.sibling=ke,Oe=ke);return e&&he.forEach(function(uw){return n(G,uw)}),Re&&Ln(G,Ee),ye}function Ye(G,Y,W,ie){if(typeof W=="object"&&W!==null&&W.type===A&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case N:e:{for(var ye=W.key;Y!==null;){if(Y.key===ye){if(ye=W.type,ye===A){if(Y.tag===7){r(G,Y.sibling),ie=d(Y,W.props.children),ie.return=G,G=ie;break e}}else if(Y.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===X&&si(ye)===Y.type){r(G,Y.sibling),ie=d(Y,W.props),is(ie,W),ie.return=G,G=ie;break e}r(G,Y);break}else n(G,Y);Y=Y.sibling}W.type===A?(ie=ti(W.props.children,G.mode,ie,W.key),ie.return=G,G=ie):(ie=Uo(W.type,W.key,W.props,null,G.mode,ie),is(ie,W),ie.return=G,G=ie)}return b(G);case E:e:{for(ye=W.key;Y!==null;){if(Y.key===ye)if(Y.tag===4&&Y.stateNode.containerInfo===W.containerInfo&&Y.stateNode.implementation===W.implementation){r(G,Y.sibling),ie=d(Y,W.children||[]),ie.return=G,G=ie;break e}else{r(G,Y);break}else n(G,Y);Y=Y.sibling}ie=zu(W,G.mode,ie),ie.return=G,G=ie}return b(G);case X:return W=si(W),Ye(G,Y,W,ie)}if(Q(W))return fe(G,Y,W,ie);if(F(W)){if(ye=F(W),typeof ye!="function")throw Error(s(150));return W=ye.call(W),xe(G,Y,W,ie)}if(typeof W.then=="function")return Ye(G,Y,Zo(W),ie);if(W.$$typeof===w)return Ye(G,Y,Vo(G,W),ie);Qo(G,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,Y!==null&&Y.tag===6?(r(G,Y.sibling),ie=d(Y,W),ie.return=G,G=ie):(r(G,Y),ie=Ru(W,G.mode,ie),ie.return=G,G=ie),b(G)):r(G,Y)}return function(G,Y,W,ie){try{as=0;var ye=Ye(G,Y,W,ie);return Wi=null,ye}catch(he){if(he===Fi||he===Xo)throw he;var Oe=kt(29,he,null,G.mode);return Oe.lanes=ie,Oe.return=G,Oe}}}var li=Zm(!0),Qm=Zm(!1),xa=!1;function Xu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function va(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ba(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Be&2)!==0){var d=o.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),o.pending=n,n=Lo(e),Am(e,null,r),n}return Ho(e,o,n,r),Lo(e)}function rs(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,go(e,r)}}function Zu(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var d=null,h=null;if(r=r.firstBaseUpdate,r!==null){do{var b={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};h===null?d=h=b:h=h.next=b,r=r.next}while(r!==null);h===null?d=h=n:h=h.next=n}else d=h=n;r={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var Qu=!1;function ss(){if(Qu){var e=Ii;if(e!==null)throw e}}function os(e,n,r,o){Qu=!1;var d=e.updateQueue;xa=!1;var h=d.firstBaseUpdate,b=d.lastBaseUpdate,T=d.shared.pending;if(T!==null){d.shared.pending=null;var $=T,K=$.next;$.next=null,b===null?h=K:b.next=K,b=$;var ae=e.alternate;ae!==null&&(ae=ae.updateQueue,T=ae.lastBaseUpdate,T!==b&&(T===null?ae.firstBaseUpdate=K:T.next=K,ae.lastBaseUpdate=$))}if(h!==null){var re=d.baseState;b=0,ae=K=$=null,T=h;do{var ee=T.lane&-536870913,ne=ee!==T.lane;if(ne?(Me&ee)===ee:(o&ee)===ee){ee!==0&&ee===Pi&&(Qu=!0),ae!==null&&(ae=ae.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var fe=e,xe=T;ee=n;var Ye=r;switch(xe.tag){case 1:if(fe=xe.payload,typeof fe=="function"){re=fe.call(Ye,re,ee);break e}re=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=xe.payload,ee=typeof fe=="function"?fe.call(Ye,re,ee):fe,ee==null)break e;re=y({},re,ee);break e;case 2:xa=!0}}ee=T.callback,ee!==null&&(e.flags|=64,ne&&(e.flags|=8192),ne=d.callbacks,ne===null?d.callbacks=[ee]:ne.push(ee))}else ne={lane:ee,tag:T.tag,payload:T.payload,callback:T.callback,next:null},ae===null?(K=ae=ne,$=re):ae=ae.next=ne,b|=ee;if(T=T.next,T===null){if(T=d.shared.pending,T===null)break;ne=T,T=ne.next,ne.next=null,d.lastBaseUpdate=ne,d.shared.pending=null}}while(!0);ae===null&&($=re),d.baseState=$,d.firstBaseUpdate=K,d.lastBaseUpdate=ae,h===null&&(d.shared.lanes=0),ja|=b,e.lanes=b,e.memoizedState=re}}function Pm(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function Im(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Pm(r[e],n)}var Ki=z(null),Po=z(0);function Fm(e,n){e=In,I(Po,e),I(Ki,n),In=e|n.baseLanes}function Pu(){I(Po,In),I(Ki,Ki.current)}function Iu(){In=Po.current,V(Ki),V(Po)}var Bt=z(null),Kt=null;function wa(e){var n=e.alternate;I(et,et.current&1),I(Bt,e),Kt===null&&(n===null||Ki.current!==null||n.memoizedState!==null)&&(Kt=e)}function Fu(e){I(et,et.current),I(Bt,e),Kt===null&&(Kt=e)}function Wm(e){e.tag===22?(I(et,et.current),I(Bt,e),Kt===null&&(Kt=e)):Sa()}function Sa(){I(et,et.current),I(Bt,Bt.current)}function Ht(e){V(Bt),Kt===e&&(Kt=null),V(et)}var et=z(0);function Io(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||nf(r)||af(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var qn=0,Se=null,qe=null,it=null,Fo=!1,Ji=!1,ci=!1,Wo=0,ls=0,er=null,e2=0;function We(){throw Error(s(321))}function Wu(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!Ot(e[r],n[r]))return!1;return!0}function Ku(e,n,r,o,d,h){return qn=h,Se=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,R.H=e===null||e.memoizedState===null?Op:hd,ci=!1,h=r(o,d),ci=!1,Ji&&(h=Jm(n,r,o,d)),Km(e),h}function Km(e){R.H=ds;var n=qe!==null&&qe.next!==null;if(qn=0,it=qe=Se=null,Fo=!1,ls=0,er=null,n)throw Error(s(300));e===null||rt||(e=e.dependencies,e!==null&&qo(e)&&(rt=!0))}function Jm(e,n,r,o){Se=e;var d=0;do{if(Ji&&(er=null),ls=0,Ji=!1,25<=d)throw Error(s(301));if(d+=1,it=qe=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}R.H=kp,h=n(r,o)}while(Ji);return h}function t2(){var e=R.H,n=e.useState()[0];return n=typeof n.then=="function"?cs(n):n,e=e.useState()[0],(qe!==null?qe.memoizedState:null)!==e&&(Se.flags|=1024),n}function Ju(){var e=Wo!==0;return Wo=0,e}function ed(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function td(e){if(Fo){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Fo=!1}qn=0,it=qe=Se=null,Ji=!1,ls=Wo=0,er=null}function Nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?Se.memoizedState=it=e:it=it.next=e,it}function tt(){if(qe===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=qe.next;var n=it===null?Se.memoizedState:it.next;if(n!==null)it=n,qe=e;else{if(e===null)throw Se.alternate===null?Error(s(467)):Error(s(310));qe=e,e={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},it===null?Se.memoizedState=it=e:it=it.next=e}return it}function Ko(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cs(e){var n=ls;return ls+=1,er===null&&(er=[]),e=Ym(er,e,n),n=Se,(it===null?n.memoizedState:it.next)===null&&(n=n.alternate,R.H=n===null||n.memoizedState===null?Op:hd),e}function Jo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return cs(e);if(e.$$typeof===w)return pt(e)}throw Error(s(438,String(e)))}function nd(e){var n=null,r=Se.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Se.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Ko(),Se.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=se;return n.index++,r}function Vn(e,n){return typeof n=="function"?n(e):n}function el(e){var n=tt();return ad(n,qe,e)}function ad(e,n,r){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var d=e.baseQueue,h=o.pending;if(h!==null){if(d!==null){var b=d.next;d.next=h.next,h.next=b}n.baseQueue=d=h,o.pending=null}if(h=e.baseState,d===null)e.memoizedState=h;else{n=d.next;var T=b=null,$=null,K=n,ae=!1;do{var re=K.lane&-536870913;if(re!==K.lane?(Me&re)===re:(qn&re)===re){var ee=K.revertLane;if(ee===0)$!==null&&($=$.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),re===Pi&&(ae=!0);else if((qn&ee)===ee){K=K.next,ee===Pi&&(ae=!0);continue}else re={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},$===null?(T=$=re,b=h):$=$.next=re,Se.lanes|=ee,ja|=ee;re=K.action,ci&&r(h,re),h=K.hasEagerState?K.eagerState:r(h,re)}else ee={lane:re,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},$===null?(T=$=ee,b=h):$=$.next=ee,Se.lanes|=re,ja|=re;K=K.next}while(K!==null&&K!==n);if($===null?b=h:$.next=T,!Ot(h,e.memoizedState)&&(rt=!0,ae&&(r=Ii,r!==null)))throw r;e.memoizedState=h,e.baseState=b,e.baseQueue=$,o.lastRenderedState=h}return d===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function id(e){var n=tt(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var o=r.dispatch,d=r.pending,h=n.memoizedState;if(d!==null){r.pending=null;var b=d=d.next;do h=e(h,b.action),b=b.next;while(b!==d);Ot(h,n.memoizedState)||(rt=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),r.lastRenderedState=h}return[h,o]}function ep(e,n,r){var o=Se,d=tt(),h=Re;if(h){if(r===void 0)throw Error(s(407));r=r()}else r=n();var b=!Ot((qe||d).memoizedState,r);if(b&&(d.memoizedState=r,rt=!0),d=d.queue,od(ap.bind(null,o,d,e),[e]),d.getSnapshot!==n||b||it!==null&&it.memoizedState.tag&1){if(o.flags|=2048,tr(9,{destroy:void 0},np.bind(null,o,d,r,n),null),Xe===null)throw Error(s(349));h||(qn&127)!==0||tp(o,n,r)}return r}function tp(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=Se.updateQueue,n===null?(n=Ko(),Se.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function np(e,n,r,o){n.value=r,n.getSnapshot=o,ip(n)&&rp(e)}function ap(e,n,r){return r(function(){ip(n)&&rp(e)})}function ip(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!Ot(e,r)}catch{return!0}}function rp(e){var n=ei(e,2);n!==null&&zt(n,e,2)}function rd(e){var n=Nt();if(typeof e=="function"){var r=e;if(e=r(),ci){pn(!0);try{r()}finally{pn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vn,lastRenderedState:e},n}function sp(e,n,r,o){return e.baseState=r,ad(e,qe,typeof o=="function"?o:Vn)}function n2(e,n,r,o,d){if(al(e))throw Error(s(485));if(e=n.action,e!==null){var h={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){h.listeners.push(b)}};R.T!==null?r(!0):h.isTransition=!1,o(h),r=n.pending,r===null?(h.next=n.pending=h,op(n,h)):(h.next=r.next,n.pending=r.next=h)}}function op(e,n){var r=n.action,o=n.payload,d=e.state;if(n.isTransition){var h=R.T,b={};R.T=b;try{var T=r(d,o),$=R.S;$!==null&&$(b,T),lp(e,n,T)}catch(K){sd(e,n,K)}finally{h!==null&&b.types!==null&&(h.types=b.types),R.T=h}}else try{h=r(d,o),lp(e,n,h)}catch(K){sd(e,n,K)}}function lp(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){cp(e,n,o)},function(o){return sd(e,n,o)}):cp(e,n,r)}function cp(e,n,r){n.status="fulfilled",n.value=r,up(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,op(e,r)))}function sd(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,up(n),n=n.next;while(n!==o)}e.action=null}function up(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function dp(e,n){return n}function fp(e,n){if(Re){var r=Xe.formState;if(r!==null){e:{var o=Se;if(Re){if(Ge){t:{for(var d=Ge,h=Wt;d.nodeType!==8;){if(!h){d=null;break t}if(d=Jt(d.nextSibling),d===null){d=null;break t}}h=d.data,d=h==="F!"||h==="F"?d:null}if(d){Ge=Jt(d.nextSibling),o=d.data==="F!";break e}}ga(o)}o=!1}o&&(n=r[0])}}return r=Nt(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dp,lastRenderedState:n},r.queue=o,r=Rp.bind(null,Se,o),o.dispatch=r,o=rd(!1),h=fd.bind(null,Se,!1,o.queue),o=Nt(),d={state:n,dispatch:null,action:e,pending:null},o.queue=d,r=n2.bind(null,Se,d,h,r),d.dispatch=r,o.memoizedState=e,[n,r,!1]}function hp(e){var n=tt();return mp(n,qe,e)}function mp(e,n,r){if(n=ad(e,n,dp)[0],e=el(Vn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=cs(n)}catch(b){throw b===Fi?Xo:b}else o=n;n=tt();var d=n.queue,h=d.dispatch;return r!==n.memoizedState&&(Se.flags|=2048,tr(9,{destroy:void 0},a2.bind(null,d,r),null)),[o,h,e]}function a2(e,n){e.action=n}function pp(e){var n=tt(),r=qe;if(r!==null)return mp(n,r,e);tt(),n=n.memoizedState,r=tt();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function tr(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=Se.updateQueue,n===null&&(n=Ko(),Se.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function gp(){return tt().memoizedState}function tl(e,n,r,o){var d=Nt();Se.flags|=e,d.memoizedState=tr(1|n,{destroy:void 0},r,o===void 0?null:o)}function nl(e,n,r,o){var d=tt();o=o===void 0?null:o;var h=d.memoizedState.inst;qe!==null&&o!==null&&Wu(o,qe.memoizedState.deps)?d.memoizedState=tr(n,h,r,o):(Se.flags|=e,d.memoizedState=tr(1|n,h,r,o))}function yp(e,n){tl(8390656,8,e,n)}function od(e,n){nl(2048,8,e,n)}function i2(e){Se.flags|=4;var n=Se.updateQueue;if(n===null)n=Ko(),Se.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function xp(e){var n=tt().memoizedState;return i2({ref:n,nextImpl:e}),function(){if((Be&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function vp(e,n){return nl(4,2,e,n)}function bp(e,n){return nl(4,4,e,n)}function wp(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Sp(e,n,r){r=r!=null?r.concat([e]):null,nl(4,4,wp.bind(null,n,e),r)}function ld(){}function Np(e,n){var r=tt();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&Wu(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function Ep(e,n){var r=tt();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&Wu(n,o[1]))return o[0];if(o=e(),ci){pn(!0);try{e()}finally{pn(!1)}}return r.memoizedState=[o,n],o}function cd(e,n,r){return r===void 0||(qn&1073741824)!==0&&(Me&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=jg(),Se.lanes|=e,ja|=e,r)}function jp(e,n,r,o){return Ot(r,n)?r:Ki.current!==null?(e=cd(e,r,o),Ot(e,n)||(rt=!0),e):(qn&42)===0||(qn&1073741824)!==0&&(Me&261930)===0?(rt=!0,e.memoizedState=r):(e=jg(),Se.lanes|=e,ja|=e,n)}function _p(e,n,r,o,d){var h=D.p;D.p=h!==0&&8>h?h:8;var b=R.T,T={};R.T=T,fd(e,!1,n,r);try{var $=d(),K=R.S;if(K!==null&&K(T,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var ae=Jb($,o);us(e,n,ae,$t(e))}else us(e,n,o,$t(e))}catch(re){us(e,n,{then:function(){},status:"rejected",reason:re},$t())}finally{D.p=h,b!==null&&T.types!==null&&(b.types=T.types),R.T=b}}function r2(){}function ud(e,n,r,o){if(e.tag!==5)throw Error(s(476));var d=Cp(e).queue;_p(e,d,n,U,r===null?r2:function(){return Tp(e),r(o)})}function Cp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:U,baseState:U,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vn,lastRenderedState:U},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vn,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Tp(e){var n=Cp(e);n.next===null&&(n=e.alternate.memoizedState),us(e,n.next.queue,{},$t())}function dd(){return pt(Cs)}function Mp(){return tt().memoizedState}function Ap(){return tt().memoizedState}function s2(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=$t();e=va(r);var o=ba(n,e,r);o!==null&&(zt(o,n,r),rs(o,n,r)),n={cache:$u()},e.payload=n;return}n=n.return}}function o2(e,n,r){var o=$t();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},al(e)?zp(n,r):(r=Mu(e,n,r,o),r!==null&&(zt(r,e,o),Dp(r,n,o)))}function Rp(e,n,r){var o=$t();us(e,n,r,o)}function us(e,n,r,o){var d={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(al(e))zp(n,d);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var b=n.lastRenderedState,T=h(b,r);if(d.hasEagerState=!0,d.eagerState=T,Ot(T,b))return Ho(e,n,d,0),Xe===null&&Bo(),!1}catch{}if(r=Mu(e,n,d,o),r!==null)return zt(r,e,o),Dp(r,n,o),!0}return!1}function fd(e,n,r,o){if(o={lane:2,revertLane:Xd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},al(e)){if(n)throw Error(s(479))}else n=Mu(e,r,o,2),n!==null&&zt(n,e,2)}function al(e){var n=e.alternate;return e===Se||n!==null&&n===Se}function zp(e,n){Ji=Fo=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Dp(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,go(e,r)}}var ds={readContext:pt,use:Jo,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useLayoutEffect:We,useInsertionEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useSyncExternalStore:We,useId:We,useHostTransitionStatus:We,useFormState:We,useActionState:We,useOptimistic:We,useMemoCache:We,useCacheRefresh:We};ds.useEffectEvent=We;var Op={readContext:pt,use:Jo,useCallback:function(e,n){return Nt().memoizedState=[e,n===void 0?null:n],e},useContext:pt,useEffect:yp,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,tl(4194308,4,wp.bind(null,n,e),r)},useLayoutEffect:function(e,n){return tl(4194308,4,e,n)},useInsertionEffect:function(e,n){tl(4,2,e,n)},useMemo:function(e,n){var r=Nt();n=n===void 0?null:n;var o=e();if(ci){pn(!0);try{e()}finally{pn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=Nt();if(r!==void 0){var d=r(n);if(ci){pn(!0);try{r(n)}finally{pn(!1)}}}else d=n;return o.memoizedState=o.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},o.queue=e,e=e.dispatch=o2.bind(null,Se,e),[o.memoizedState,e]},useRef:function(e){var n=Nt();return e={current:e},n.memoizedState=e},useState:function(e){e=rd(e);var n=e.queue,r=Rp.bind(null,Se,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:ld,useDeferredValue:function(e,n){var r=Nt();return cd(r,e,n)},useTransition:function(){var e=rd(!1);return e=_p.bind(null,Se,e.queue,!0,!1),Nt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=Se,d=Nt();if(Re){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Xe===null)throw Error(s(349));(Me&127)!==0||tp(o,n,r)}d.memoizedState=r;var h={value:r,getSnapshot:n};return d.queue=h,yp(ap.bind(null,o,h,e),[e]),o.flags|=2048,tr(9,{destroy:void 0},np.bind(null,o,h,r,n),null),r},useId:function(){var e=Nt(),n=Xe.identifierPrefix;if(Re){var r=xn,o=yn;r=(o&~(1<<32-St(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Wo++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=e2++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:dd,useFormState:fp,useActionState:fp,useOptimistic:function(e){var n=Nt();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=fd.bind(null,Se,!0,r),r.dispatch=n,[e,n]},useMemoCache:nd,useCacheRefresh:function(){return Nt().memoizedState=s2.bind(null,Se)},useEffectEvent:function(e){var n=Nt(),r={impl:e};return n.memoizedState=r,function(){if((Be&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},hd={readContext:pt,use:Jo,useCallback:Np,useContext:pt,useEffect:od,useImperativeHandle:Sp,useInsertionEffect:vp,useLayoutEffect:bp,useMemo:Ep,useReducer:el,useRef:gp,useState:function(){return el(Vn)},useDebugValue:ld,useDeferredValue:function(e,n){var r=tt();return jp(r,qe.memoizedState,e,n)},useTransition:function(){var e=el(Vn)[0],n=tt().memoizedState;return[typeof e=="boolean"?e:cs(e),n]},useSyncExternalStore:ep,useId:Mp,useHostTransitionStatus:dd,useFormState:hp,useActionState:hp,useOptimistic:function(e,n){var r=tt();return sp(r,qe,e,n)},useMemoCache:nd,useCacheRefresh:Ap};hd.useEffectEvent=xp;var kp={readContext:pt,use:Jo,useCallback:Np,useContext:pt,useEffect:od,useImperativeHandle:Sp,useInsertionEffect:vp,useLayoutEffect:bp,useMemo:Ep,useReducer:id,useRef:gp,useState:function(){return id(Vn)},useDebugValue:ld,useDeferredValue:function(e,n){var r=tt();return qe===null?cd(r,e,n):jp(r,qe.memoizedState,e,n)},useTransition:function(){var e=id(Vn)[0],n=tt().memoizedState;return[typeof e=="boolean"?e:cs(e),n]},useSyncExternalStore:ep,useId:Mp,useHostTransitionStatus:dd,useFormState:pp,useActionState:pp,useOptimistic:function(e,n){var r=tt();return qe!==null?sp(r,qe,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:nd,useCacheRefresh:Ap};kp.useEffectEvent=xp;function md(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:y({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var pd={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=$t(),d=va(o);d.payload=n,r!=null&&(d.callback=r),n=ba(e,d,o),n!==null&&(zt(n,e,o),rs(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=$t(),d=va(o);d.tag=1,d.payload=n,r!=null&&(d.callback=r),n=ba(e,d,o),n!==null&&(zt(n,e,o),rs(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=$t(),o=va(r);o.tag=2,n!=null&&(o.callback=n),n=ba(e,o,r),n!==null&&(zt(n,e,r),rs(n,e,r))}};function Bp(e,n,r,o,d,h,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,h,b):n.prototype&&n.prototype.isPureReactComponent?!Wr(r,o)||!Wr(d,h):!0}function Hp(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&pd.enqueueReplaceState(n,n.state,null)}function ui(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=y({},r));for(var d in e)r[d]===void 0&&(r[d]=e[d])}return r}function Lp(e){ko(e)}function Up(e){console.error(e)}function $p(e){ko(e)}function il(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function qp(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function gd(e,n,r){return r=va(r),r.tag=3,r.payload={element:null},r.callback=function(){il(e,n)},r}function Vp(e){return e=va(e),e.tag=3,e}function Yp(e,n,r,o){var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var h=o.value;e.payload=function(){return d(h)},e.callback=function(){qp(n,r,o)}}var b=r.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){qp(n,r,o),typeof d!="function"&&(_a===null?_a=new Set([this]):_a.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function l2(e,n,r,o,d){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Qi(n,r,d,!0),r=Bt.current,r!==null){switch(r.tag){case 31:case 13:return Kt===null?gl():r.alternate===null&&Ke===0&&(Ke=3),r.flags&=-257,r.flags|=65536,r.lanes=d,o===Go?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),qd(e,o,d)),!1;case 22:return r.flags|=65536,o===Go?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),qd(e,o,d)),!1}throw Error(s(435,r.tag))}return qd(e,o,d),gl(),!1}if(Re)return n=Bt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,o!==ku&&(e=Error(s(422),{cause:o}),es(Pt(e,r)))):(o!==ku&&(n=Error(s(423),{cause:o}),es(Pt(n,r))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,o=Pt(o,r),d=gd(e.stateNode,o,d),Zu(e,d),Ke!==4&&(Ke=2)),!1;var h=Error(s(520),{cause:o});if(h=Pt(h,r),vs===null?vs=[h]:vs.push(h),Ke!==4&&(Ke=2),n===null)return!0;o=Pt(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=d&-d,r.lanes|=e,e=gd(r.stateNode,o,e),Zu(r,e),!1;case 1:if(n=r.type,h=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(_a===null||!_a.has(h))))return r.flags|=65536,d&=-d,r.lanes|=d,d=Vp(d),Yp(d,e,r,o),Zu(r,d),!1}r=r.return}while(r!==null);return!1}var yd=Error(s(461)),rt=!1;function gt(e,n,r,o){n.child=e===null?Qm(n,null,r,o):li(n,e.child,r,o)}function Xp(e,n,r,o,d){r=r.render;var h=n.ref;if("ref"in o){var b={};for(var T in o)T!=="ref"&&(b[T]=o[T])}else b=o;return ii(n),o=Ku(e,n,r,b,h,d),T=Ju(),e!==null&&!rt?(ed(e,n,d),Yn(e,n,d)):(Re&&T&&Du(n),n.flags|=1,gt(e,n,o,d),n.child)}function Gp(e,n,r,o,d){if(e===null){var h=r.type;return typeof h=="function"&&!Au(h)&&h.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=h,Zp(e,n,h,o,d)):(e=Uo(r.type,null,o,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!jd(e,d)){var b=h.memoizedProps;if(r=r.compare,r=r!==null?r:Wr,r(b,o)&&e.ref===n.ref)return Yn(e,n,d)}return n.flags|=1,e=Hn(h,o),e.ref=n.ref,e.return=n,n.child=e}function Zp(e,n,r,o,d){if(e!==null){var h=e.memoizedProps;if(Wr(h,o)&&e.ref===n.ref)if(rt=!1,n.pendingProps=o=h,jd(e,d))(e.flags&131072)!==0&&(rt=!0);else return n.lanes=e.lanes,Yn(e,n,d)}return xd(e,n,r,o,d)}function Qp(e,n,r,o){var d=o.children,h=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|r:r,e!==null){for(o=n.child=e.child,d=0;o!==null;)d=d|o.lanes|o.childLanes,o=o.sibling;o=d&~h}else o=0,n.child=null;return Pp(e,n,h,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Yo(n,h!==null?h.cachePool:null),h!==null?Fm(n,h):Pu(),Wm(n);else return o=n.lanes=536870912,Pp(e,n,h!==null?h.baseLanes|r:r,r,o)}else h!==null?(Yo(n,h.cachePool),Fm(n,h),Sa(),n.memoizedState=null):(e!==null&&Yo(n,null),Pu(),Sa());return gt(e,n,d,r),n.child}function fs(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Pp(e,n,r,o,d){var h=Vu();return h=h===null?null:{parent:at._currentValue,pool:h},n.memoizedState={baseLanes:r,cachePool:h},e!==null&&Yo(n,null),Pu(),Wm(n),e!==null&&Qi(e,n,o,!0),n.childLanes=d,null}function rl(e,n){return n=ol({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Ip(e,n,r){return li(n,e.child,null,r),e=rl(n,n.pendingProps),e.flags|=2,Ht(n),n.memoizedState=null,e}function c2(e,n,r){var o=n.pendingProps,d=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Re){if(o.mode==="hidden")return e=rl(n,o),n.lanes=536870912,fs(null,e);if(Fu(n),(e=Ge)?(e=o0(e,Wt),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ma!==null?{id:yn,overflow:xn}:null,retryLane:536870912,hydrationErrors:null},r=zm(e),r.return=n,n.child=r,mt=n,Ge=null)):e=null,e===null)throw ga(n);return n.lanes=536870912,null}return rl(n,o)}var h=e.memoizedState;if(h!==null){var b=h.dehydrated;if(Fu(n),d)if(n.flags&256)n.flags&=-257,n=Ip(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(rt||Qi(e,n,r,!1),d=(r&e.childLanes)!==0,rt||d){if(o=Xe,o!==null&&(b=yo(o,r),b!==0&&b!==h.retryLane))throw h.retryLane=b,ei(e,b),zt(o,e,b),yd;gl(),n=Ip(e,n,r)}else e=h.treeContext,Ge=Jt(b.nextSibling),mt=n,Re=!0,pa=null,Wt=!1,e!==null&&km(n,e),n=rl(n,o),n.flags|=4096;return n}return e=Hn(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function sl(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function xd(e,n,r,o,d){return ii(n),r=Ku(e,n,r,o,void 0,d),o=Ju(),e!==null&&!rt?(ed(e,n,d),Yn(e,n,d)):(Re&&o&&Du(n),n.flags|=1,gt(e,n,r,d),n.child)}function Fp(e,n,r,o,d,h){return ii(n),n.updateQueue=null,r=Jm(n,o,r,d),Km(e),o=Ju(),e!==null&&!rt?(ed(e,n,h),Yn(e,n,h)):(Re&&o&&Du(n),n.flags|=1,gt(e,n,r,h),n.child)}function Wp(e,n,r,o,d){if(ii(n),n.stateNode===null){var h=Yi,b=r.contextType;typeof b=="object"&&b!==null&&(h=pt(b)),h=new r(o,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=pd,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=o,h.state=n.memoizedState,h.refs={},Xu(n),b=r.contextType,h.context=typeof b=="object"&&b!==null?pt(b):Yi,h.state=n.memoizedState,b=r.getDerivedStateFromProps,typeof b=="function"&&(md(n,r,b,o),h.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(b=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),b!==h.state&&pd.enqueueReplaceState(h,h.state,null),os(n,o,h,d),ss(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){h=n.stateNode;var T=n.memoizedProps,$=ui(r,T);h.props=$;var K=h.context,ae=r.contextType;b=Yi,typeof ae=="object"&&ae!==null&&(b=pt(ae));var re=r.getDerivedStateFromProps;ae=typeof re=="function"||typeof h.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,ae||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(T||K!==b)&&Hp(n,h,o,b),xa=!1;var ee=n.memoizedState;h.state=ee,os(n,o,h,d),ss(),K=n.memoizedState,T||ee!==K||xa?(typeof re=="function"&&(md(n,r,re,o),K=n.memoizedState),($=xa||Bp(n,r,$,o,ee,K,b))?(ae||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=K),h.props=o,h.state=K,h.context=b,o=$):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{h=n.stateNode,Gu(e,n),b=n.memoizedProps,ae=ui(r,b),h.props=ae,re=n.pendingProps,ee=h.context,K=r.contextType,$=Yi,typeof K=="object"&&K!==null&&($=pt(K)),T=r.getDerivedStateFromProps,(K=typeof T=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(b!==re||ee!==$)&&Hp(n,h,o,$),xa=!1,ee=n.memoizedState,h.state=ee,os(n,o,h,d),ss();var ne=n.memoizedState;b!==re||ee!==ne||xa||e!==null&&e.dependencies!==null&&qo(e.dependencies)?(typeof T=="function"&&(md(n,r,T,o),ne=n.memoizedState),(ae=xa||Bp(n,r,ae,o,ee,ne,$)||e!==null&&e.dependencies!==null&&qo(e.dependencies))?(K||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(o,ne,$),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(o,ne,$)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||b===e.memoizedProps&&ee===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&ee===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=ne),h.props=o,h.state=ne,h.context=$,o=ae):(typeof h.componentDidUpdate!="function"||b===e.memoizedProps&&ee===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&ee===e.memoizedState||(n.flags|=1024),o=!1)}return h=o,sl(e,n),o=(n.flags&128)!==0,h||o?(h=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,e!==null&&o?(n.child=li(n,e.child,null,d),n.child=li(n,null,r,d)):gt(e,n,r,d),n.memoizedState=h.state,e=n.child):e=Yn(e,n,d),e}function Kp(e,n,r,o){return ni(),n.flags|=256,gt(e,n,r,o),n.child}var vd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bd(e){return{baseLanes:e,cachePool:qm()}}function wd(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Ut),e}function Jp(e,n,r){var o=n.pendingProps,d=!1,h=(n.flags&128)!==0,b;if((b=h)||(b=e!==null&&e.memoizedState===null?!1:(et.current&2)!==0),b&&(d=!0,n.flags&=-129),b=(n.flags&32)!==0,n.flags&=-33,e===null){if(Re){if(d?wa(n):Sa(),(e=Ge)?(e=o0(e,Wt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ma!==null?{id:yn,overflow:xn}:null,retryLane:536870912,hydrationErrors:null},r=zm(e),r.return=n,n.child=r,mt=n,Ge=null)):e=null,e===null)throw ga(n);return af(e)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,d?(Sa(),d=n.mode,T=ol({mode:"hidden",children:T},d),o=ti(o,d,r,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=bd(r),o.childLanes=wd(e,b,r),n.memoizedState=vd,fs(null,o)):(wa(n),Sd(n,T))}var $=e.memoizedState;if($!==null&&(T=$.dehydrated,T!==null)){if(h)n.flags&256?(wa(n),n.flags&=-257,n=Nd(e,n,r)):n.memoizedState!==null?(Sa(),n.child=e.child,n.flags|=128,n=null):(Sa(),T=o.fallback,d=n.mode,o=ol({mode:"visible",children:o.children},d),T=ti(T,d,r,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,li(n,e.child,null,r),o=n.child,o.memoizedState=bd(r),o.childLanes=wd(e,b,r),n.memoizedState=vd,n=fs(null,o));else if(wa(n),af(T)){if(b=T.nextSibling&&T.nextSibling.dataset,b)var K=b.dgst;b=K,o=Error(s(419)),o.stack="",o.digest=b,es({value:o,source:null,stack:null}),n=Nd(e,n,r)}else if(rt||Qi(e,n,r,!1),b=(r&e.childLanes)!==0,rt||b){if(b=Xe,b!==null&&(o=yo(b,r),o!==0&&o!==$.retryLane))throw $.retryLane=o,ei(e,o),zt(b,e,o),yd;nf(T)||gl(),n=Nd(e,n,r)}else nf(T)?(n.flags|=192,n.child=e.child,n=null):(e=$.treeContext,Ge=Jt(T.nextSibling),mt=n,Re=!0,pa=null,Wt=!1,e!==null&&km(n,e),n=Sd(n,o.children),n.flags|=4096);return n}return d?(Sa(),T=o.fallback,d=n.mode,$=e.child,K=$.sibling,o=Hn($,{mode:"hidden",children:o.children}),o.subtreeFlags=$.subtreeFlags&65011712,K!==null?T=Hn(K,T):(T=ti(T,d,r,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,fs(null,o),o=n.child,T=e.child.memoizedState,T===null?T=bd(r):(d=T.cachePool,d!==null?($=at._currentValue,d=d.parent!==$?{parent:$,pool:$}:d):d=qm(),T={baseLanes:T.baseLanes|r,cachePool:d}),o.memoizedState=T,o.childLanes=wd(e,b,r),n.memoizedState=vd,fs(e.child,o)):(wa(n),r=e.child,e=r.sibling,r=Hn(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(b=n.deletions,b===null?(n.deletions=[e],n.flags|=16):b.push(e)),n.child=r,n.memoizedState=null,r)}function Sd(e,n){return n=ol({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function ol(e,n){return e=kt(22,e,null,n),e.lanes=0,e}function Nd(e,n,r){return li(n,e.child,null,r),e=Sd(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function eg(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Lu(e.return,n,r)}function Ed(e,n,r,o,d,h){var b=e.memoizedState;b===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:d,treeForkCount:h}:(b.isBackwards=n,b.rendering=null,b.renderingStartTime=0,b.last=o,b.tail=r,b.tailMode=d,b.treeForkCount=h)}function tg(e,n,r){var o=n.pendingProps,d=o.revealOrder,h=o.tail;o=o.children;var b=et.current,T=(b&2)!==0;if(T?(b=b&1|2,n.flags|=128):b&=1,I(et,b),gt(e,n,o,r),o=Re?Jr:0,!T&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&eg(e,r,n);else if(e.tag===19)eg(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(r=n.child,d=null;r!==null;)e=r.alternate,e!==null&&Io(e)===null&&(d=r),r=r.sibling;r=d,r===null?(d=n.child,n.child=null):(d=r.sibling,r.sibling=null),Ed(n,!1,d,r,h,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&Io(e)===null){n.child=d;break}e=d.sibling,d.sibling=r,r=d,d=e}Ed(n,!0,r,null,h,o);break;case"together":Ed(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Yn(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),ja|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(Qi(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,r=Hn(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Hn(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function jd(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&qo(e)))}function u2(e,n,r){switch(n.tag){case 3:oe(n,n.stateNode.containerInfo),ya(n,at,e.memoizedState.cache),ni();break;case 27:case 5:be(n);break;case 4:oe(n,n.stateNode.containerInfo);break;case 10:ya(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Fu(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(wa(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Jp(e,n,r):(wa(n),e=Yn(e,n,r),e!==null?e.sibling:null);wa(n);break;case 19:var d=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Qi(e,n,r,!1),o=(r&n.childLanes)!==0),d){if(o)return tg(e,n,r);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),I(et,et.current),o)break;return null;case 22:return n.lanes=0,Qp(e,n,r,n.pendingProps);case 24:ya(n,at,e.memoizedState.cache)}return Yn(e,n,r)}function ng(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)rt=!0;else{if(!jd(e,r)&&(n.flags&128)===0)return rt=!1,u2(e,n,r);rt=(e.flags&131072)!==0}else rt=!1,Re&&(n.flags&1048576)!==0&&Om(n,Jr,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(e=si(n.elementType),n.type=e,typeof e=="function")Au(e)?(o=ui(e,o),n.tag=1,n=Wp(null,n,e,o,r)):(n.tag=0,n=xd(null,n,e,o,r));else{if(e!=null){var d=e.$$typeof;if(d===M){n.tag=11,n=Xp(null,n,e,o,r);break e}else if(d===O){n.tag=14,n=Gp(null,n,e,o,r);break e}}throw n=H(e)||e,Error(s(306,n,""))}}return n;case 0:return xd(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,d=ui(o,n.pendingProps),Wp(e,n,o,d,r);case 3:e:{if(oe(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var h=n.memoizedState;d=h.element,Gu(e,n),os(n,o,null,r);var b=n.memoizedState;if(o=b.cache,ya(n,at,o),o!==h.cache&&Uu(n,[at],r,!0),ss(),o=b.element,h.isDehydrated)if(h={element:o,isDehydrated:!1,cache:b.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=Kp(e,n,o,r);break e}else if(o!==d){d=Pt(Error(s(424)),n),es(d),n=Kp(e,n,o,r);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ge=Jt(e.firstChild),mt=n,Re=!0,pa=null,Wt=!0,r=Qm(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ni(),o===d){n=Yn(e,n,r);break e}gt(e,n,o,r)}n=n.child}return n;case 26:return sl(e,n),e===null?(r=h0(n.type,null,n.pendingProps,null))?n.memoizedState=r:Re||(r=n.type,e=n.pendingProps,o=Nl(ue.current).createElement(r),o[ct]=n,o[vt]=e,yt(o,r,e),nt(o),n.stateNode=o):n.memoizedState=h0(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return be(n),e===null&&Re&&(o=n.stateNode=u0(n.type,n.pendingProps,ue.current),mt=n,Wt=!0,d=Ge,Aa(n.type)?(rf=d,Ge=Jt(o.firstChild)):Ge=d),gt(e,n,n.pendingProps.children,r),sl(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Re&&((d=o=Ge)&&(o=$2(o,n.type,n.pendingProps,Wt),o!==null?(n.stateNode=o,mt=n,Ge=Jt(o.firstChild),Wt=!1,d=!0):d=!1),d||ga(n)),be(n),d=n.type,h=n.pendingProps,b=e!==null?e.memoizedProps:null,o=h.children,Jd(d,h)?o=null:b!==null&&Jd(d,b)&&(n.flags|=32),n.memoizedState!==null&&(d=Ku(e,n,t2,null,null,r),Cs._currentValue=d),sl(e,n),gt(e,n,o,r),n.child;case 6:return e===null&&Re&&((e=r=Ge)&&(r=q2(r,n.pendingProps,Wt),r!==null?(n.stateNode=r,mt=n,Ge=null,e=!0):e=!1),e||ga(n)),null;case 13:return Jp(e,n,r);case 4:return oe(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=li(n,null,o,r):gt(e,n,o,r),n.child;case 11:return Xp(e,n,n.type,n.pendingProps,r);case 7:return gt(e,n,n.pendingProps,r),n.child;case 8:return gt(e,n,n.pendingProps.children,r),n.child;case 12:return gt(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,ya(n,n.type,o.value),gt(e,n,o.children,r),n.child;case 9:return d=n.type._context,o=n.pendingProps.children,ii(n),d=pt(d),o=o(d),n.flags|=1,gt(e,n,o,r),n.child;case 14:return Gp(e,n,n.type,n.pendingProps,r);case 15:return Zp(e,n,n.type,n.pendingProps,r);case 19:return tg(e,n,r);case 31:return c2(e,n,r);case 22:return Qp(e,n,r,n.pendingProps);case 24:return ii(n),o=pt(at),e===null?(d=Vu(),d===null&&(d=Xe,h=$u(),d.pooledCache=h,h.refCount++,h!==null&&(d.pooledCacheLanes|=r),d=h),n.memoizedState={parent:o,cache:d},Xu(n),ya(n,at,d)):((e.lanes&r)!==0&&(Gu(e,n),os(n,null,null,r),ss()),d=e.memoizedState,h=n.memoizedState,d.parent!==o?(d={parent:o,cache:o},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),ya(n,at,o)):(o=h.cache,ya(n,at,o),o!==d.cache&&Uu(n,[at],r,!0))),gt(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Xn(e){e.flags|=4}function _d(e,n,r,o,d){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(Mg())e.flags|=8192;else throw oi=Go,Yu}else e.flags&=-16777217}function ag(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!x0(n))if(Mg())e.flags|=8192;else throw oi=Go,Yu}function ll(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?mo():536870912,e.lanes|=n,rr|=n)}function hs(e,n){if(!Re)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Ze(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var d=e.child;d!==null;)r|=d.lanes|d.childLanes,o|=d.subtreeFlags&65011712,o|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)r|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function d2(e,n,r){var o=n.pendingProps;switch(Ou(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(n),null;case 1:return Ze(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),$n(at),de(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Zi(n)?Xn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Bu())),Ze(n),null;case 26:var d=n.type,h=n.memoizedState;return e===null?(Xn(n),h!==null?(Ze(n),ag(n,h)):(Ze(n),_d(n,d,null,o,r))):h?h!==e.memoizedState?(Xn(n),Ze(n),ag(n,h)):(Ze(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Xn(n),Ze(n),_d(n,d,e,o,r)),null;case 27:if(ve(n),r=ue.current,d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Xn(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return Ze(n),null}e=te.current,Zi(n)?Bm(n):(e=u0(d,o,r),n.stateNode=e,Xn(n))}return Ze(n),null;case 5:if(ve(n),d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Xn(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return Ze(n),null}if(h=te.current,Zi(n))Bm(n);else{var b=Nl(ue.current);switch(h){case 1:h=b.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:h=b.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":h=b.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":h=b.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":h=b.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof o.is=="string"?b.createElement("select",{is:o.is}):b.createElement("select"),o.multiple?h.multiple=!0:o.size&&(h.size=o.size);break;default:h=typeof o.is=="string"?b.createElement(d,{is:o.is}):b.createElement(d)}}h[ct]=n,h[vt]=o;e:for(b=n.child;b!==null;){if(b.tag===5||b.tag===6)h.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===n)break e;for(;b.sibling===null;){if(b.return===null||b.return===n)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}n.stateNode=h;e:switch(yt(h,d,o),d){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Xn(n)}}return Ze(n),_d(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Xn(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=ue.current,Zi(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,d=mt,d!==null)switch(d.tag){case 27:case 5:o=d.memoizedProps}e[ct]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||Jg(e.nodeValue,r)),e||ga(n,!0)}else e=Nl(e).createTextNode(o),e[ct]=n,n.stateNode=e}return Ze(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=Zi(n),r!==null){if(e===null){if(!o)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[ct]=n}else ni(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ze(n),e=!1}else r=Bu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(Ht(n),n):(Ht(n),null);if((n.flags&128)!==0)throw Error(s(558))}return Ze(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=Zi(n),o!==null&&o.dehydrated!==null){if(e===null){if(!d)throw Error(s(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[ct]=n}else ni(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ze(n),d=!1}else d=Bu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(Ht(n),n):(Ht(n),null)}return Ht(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,d=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(d=o.alternate.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==d&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),ll(n,n.updateQueue),Ze(n),null);case 4:return de(),e===null&&Pd(n.stateNode.containerInfo),Ze(n),null;case 10:return $n(n.type),Ze(n),null;case 19:if(V(et),o=n.memoizedState,o===null)return Ze(n),null;if(d=(n.flags&128)!==0,h=o.rendering,h===null)if(d)hs(o,!1);else{if(Ke!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=Io(e),h!==null){for(n.flags|=128,hs(o,!1),e=h.updateQueue,n.updateQueue=e,ll(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Rm(r,e),r=r.sibling;return I(et,et.current&1|2),Re&&Ln(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&ht()>hl&&(n.flags|=128,d=!0,hs(o,!1),n.lanes=4194304)}else{if(!d)if(e=Io(h),e!==null){if(n.flags|=128,d=!0,e=e.updateQueue,n.updateQueue=e,ll(n,e),hs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!h.alternate&&!Re)return Ze(n),null}else 2*ht()-o.renderingStartTime>hl&&r!==536870912&&(n.flags|=128,d=!0,hs(o,!1),n.lanes=4194304);o.isBackwards?(h.sibling=n.child,n.child=h):(e=o.last,e!==null?e.sibling=h:n.child=h,o.last=h)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ht(),e.sibling=null,r=et.current,I(et,d?r&1|2:r&1),Re&&Ln(n,o.treeForkCount),e):(Ze(n),null);case 22:case 23:return Ht(n),Iu(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(Ze(n),n.subtreeFlags&6&&(n.flags|=8192)):Ze(n),r=n.updateQueue,r!==null&&ll(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&V(ri),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),$n(at),Ze(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function f2(e,n){switch(Ou(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return $n(at),de(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ve(n),null;case 31:if(n.memoizedState!==null){if(Ht(n),n.alternate===null)throw Error(s(340));ni()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Ht(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ni()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return V(et),null;case 4:return de(),null;case 10:return $n(n.type),null;case 22:case 23:return Ht(n),Iu(),e!==null&&V(ri),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return $n(at),null;case 25:return null;default:return null}}function ig(e,n){switch(Ou(n),n.tag){case 3:$n(at),de();break;case 26:case 27:case 5:ve(n);break;case 4:de();break;case 31:n.memoizedState!==null&&Ht(n);break;case 13:Ht(n);break;case 19:V(et);break;case 10:$n(n.type);break;case 22:case 23:Ht(n),Iu(),e!==null&&V(ri);break;case 24:$n(at)}}function ms(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var d=o.next;r=d;do{if((r.tag&e)===e){o=void 0;var h=r.create,b=r.inst;o=h(),b.destroy=o}r=r.next}while(r!==d)}}catch(T){Ue(n,n.return,T)}}function Na(e,n,r){try{var o=n.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var h=d.next;o=h;do{if((o.tag&e)===e){var b=o.inst,T=b.destroy;if(T!==void 0){b.destroy=void 0,d=n;var $=r,K=T;try{K()}catch(ae){Ue(d,$,ae)}}}o=o.next}while(o!==h)}}catch(ae){Ue(n,n.return,ae)}}function rg(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Im(n,r)}catch(o){Ue(e,e.return,o)}}}function sg(e,n,r){r.props=ui(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Ue(e,n,o)}}function ps(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(d){Ue(e,n,d)}}function vn(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(d){Ue(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(d){Ue(e,n,d)}else r.current=null}function og(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(d){Ue(e,e.return,d)}}function Cd(e,n,r){try{var o=e.stateNode;O2(o,e.type,r,n),o[vt]=n}catch(d){Ue(e,e.return,d)}}function lg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Aa(e.type)||e.tag===4}function Td(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Aa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Md(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=kn));else if(o!==4&&(o===27&&Aa(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Md(e,n,r),e=e.sibling;e!==null;)Md(e,n,r),e=e.sibling}function cl(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Aa(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(cl(e,n,r),e=e.sibling;e!==null;)cl(e,n,r),e=e.sibling}function cg(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);yt(n,o,r),n[ct]=e,n[vt]=r}catch(h){Ue(e,e.return,h)}}var Gn=!1,st=!1,Ad=!1,ug=typeof WeakSet=="function"?WeakSet:Set,dt=null;function h2(e,n){if(e=e.containerInfo,Wd=Al,e=Sm(e),Nu(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var d=o.anchorOffset,h=o.focusNode;o=o.focusOffset;try{r.nodeType,h.nodeType}catch{r=null;break e}var b=0,T=-1,$=-1,K=0,ae=0,re=e,ee=null;t:for(;;){for(var ne;re!==r||d!==0&&re.nodeType!==3||(T=b+d),re!==h||o!==0&&re.nodeType!==3||($=b+o),re.nodeType===3&&(b+=re.nodeValue.length),(ne=re.firstChild)!==null;)ee=re,re=ne;for(;;){if(re===e)break t;if(ee===r&&++K===d&&(T=b),ee===h&&++ae===o&&($=b),(ne=re.nextSibling)!==null)break;re=ee,ee=re.parentNode}re=ne}r=T===-1||$===-1?null:{start:T,end:$}}else r=null}r=r||{start:0,end:0}}else r=null;for(Kd={focusedElem:e,selectionRange:r},Al=!1,dt=n;dt!==null;)if(n=dt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,dt=e;else for(;dt!==null;){switch(n=dt,h=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)d=e[r],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,r=n,d=h.memoizedProps,h=h.memoizedState,o=r.stateNode;try{var fe=ui(r.type,d);e=o.getSnapshotBeforeUpdate(fe,h),o.__reactInternalSnapshotBeforeUpdate=e}catch(xe){Ue(r,r.return,xe)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)tf(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":tf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,dt=e;break}dt=n.return}}function dg(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Qn(e,r),o&4&&ms(5,r);break;case 1:if(Qn(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(b){Ue(r,r.return,b)}else{var d=ui(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(b){Ue(r,r.return,b)}}o&64&&rg(r),o&512&&ps(r,r.return);break;case 3:if(Qn(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Im(e,n)}catch(b){Ue(r,r.return,b)}}break;case 27:n===null&&o&4&&cg(r);case 26:case 5:Qn(e,r),n===null&&o&4&&og(r),o&512&&ps(r,r.return);break;case 12:Qn(e,r);break;case 31:Qn(e,r),o&4&&mg(e,r);break;case 13:Qn(e,r),o&4&&pg(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=S2.bind(null,r),V2(e,r))));break;case 22:if(o=r.memoizedState!==null||Gn,!o){n=n!==null&&n.memoizedState!==null||st,d=Gn;var h=st;Gn=o,(st=n)&&!h?Pn(e,r,(r.subtreeFlags&8772)!==0):Qn(e,r),Gn=d,st=h}break;case 30:break;default:Qn(e,r)}}function fg(e){var n=e.alternate;n!==null&&(e.alternate=null,fg(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&qr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Qe=null,Tt=!1;function Zn(e,n,r){for(r=r.child;r!==null;)hg(e,n,r),r=r.sibling}function hg(e,n,r){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(Ga,r)}catch{}switch(r.tag){case 26:st||vn(r,n),Zn(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:st||vn(r,n);var o=Qe,d=Tt;Aa(r.type)&&(Qe=r.stateNode,Tt=!1),Zn(e,n,r),Es(r.stateNode),Qe=o,Tt=d;break;case 5:st||vn(r,n);case 6:if(o=Qe,d=Tt,Qe=null,Zn(e,n,r),Qe=o,Tt=d,Qe!==null)if(Tt)try{(Qe.nodeType===9?Qe.body:Qe.nodeName==="HTML"?Qe.ownerDocument.body:Qe).removeChild(r.stateNode)}catch(h){Ue(r,n,h)}else try{Qe.removeChild(r.stateNode)}catch(h){Ue(r,n,h)}break;case 18:Qe!==null&&(Tt?(e=Qe,r0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),hr(e)):r0(Qe,r.stateNode));break;case 4:o=Qe,d=Tt,Qe=r.stateNode.containerInfo,Tt=!0,Zn(e,n,r),Qe=o,Tt=d;break;case 0:case 11:case 14:case 15:Na(2,r,n),st||Na(4,r,n),Zn(e,n,r);break;case 1:st||(vn(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&sg(r,n,o)),Zn(e,n,r);break;case 21:Zn(e,n,r);break;case 22:st=(o=st)||r.memoizedState!==null,Zn(e,n,r),st=o;break;default:Zn(e,n,r)}}function mg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{hr(e)}catch(r){Ue(n,n.return,r)}}}function pg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{hr(e)}catch(r){Ue(n,n.return,r)}}function m2(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ug),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ug),n;default:throw Error(s(435,e.tag))}}function ul(e,n){var r=m2(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var d=N2.bind(null,e,o);o.then(d,d)}})}function Mt(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var d=r[o],h=e,b=n,T=b;e:for(;T!==null;){switch(T.tag){case 27:if(Aa(T.type)){Qe=T.stateNode,Tt=!1;break e}break;case 5:Qe=T.stateNode,Tt=!1;break e;case 3:case 4:Qe=T.stateNode.containerInfo,Tt=!0;break e}T=T.return}if(Qe===null)throw Error(s(160));hg(h,b,d),Qe=null,Tt=!1,h=d.alternate,h!==null&&(h.return=null),d.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)gg(n,e),n=n.sibling}var on=null;function gg(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Mt(n,e),At(e),o&4&&(Na(3,e,e.return),ms(3,e),Na(5,e,e.return));break;case 1:Mt(n,e),At(e),o&512&&(st||r===null||vn(r,r.return)),o&64&&Gn&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var d=on;if(Mt(n,e),At(e),o&512&&(st||r===null||vn(r,r.return)),o&4){var h=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){e:{o=e.type,r=e.memoizedProps,d=d.ownerDocument||d;t:switch(o){case"title":h=d.getElementsByTagName("title")[0],(!h||h[Pa]||h[ct]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=d.createElement(o),d.head.insertBefore(h,d.querySelector("head > title"))),yt(h,o,r),h[ct]=e,nt(h),o=h;break e;case"link":var b=g0("link","href",d).get(o+(r.href||""));if(b){for(var T=0;T<b.length;T++)if(h=b[T],h.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&h.getAttribute("rel")===(r.rel==null?null:r.rel)&&h.getAttribute("title")===(r.title==null?null:r.title)&&h.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){b.splice(T,1);break t}}h=d.createElement(o),yt(h,o,r),d.head.appendChild(h);break;case"meta":if(b=g0("meta","content",d).get(o+(r.content||""))){for(T=0;T<b.length;T++)if(h=b[T],h.getAttribute("content")===(r.content==null?null:""+r.content)&&h.getAttribute("name")===(r.name==null?null:r.name)&&h.getAttribute("property")===(r.property==null?null:r.property)&&h.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&h.getAttribute("charset")===(r.charSet==null?null:r.charSet)){b.splice(T,1);break t}}h=d.createElement(o),yt(h,o,r),d.head.appendChild(h);break;default:throw Error(s(468,o))}h[ct]=e,nt(h),o=h}e.stateNode=o}else y0(d,e.type,e.stateNode);else e.stateNode=p0(d,o,e.memoizedProps);else h!==o?(h===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):h.count--,o===null?y0(d,e.type,e.stateNode):p0(d,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Cd(e,e.memoizedProps,r.memoizedProps)}break;case 27:Mt(n,e),At(e),o&512&&(st||r===null||vn(r,r.return)),r!==null&&o&4&&Cd(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Mt(n,e),At(e),o&512&&(st||r===null||vn(r,r.return)),e.flags&32){d=e.stateNode;try{Bi(d,"")}catch(fe){Ue(e,e.return,fe)}}o&4&&e.stateNode!=null&&(d=e.memoizedProps,Cd(e,d,r!==null?r.memoizedProps:d)),o&1024&&(Ad=!0);break;case 6:if(Mt(n,e),At(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(fe){Ue(e,e.return,fe)}}break;case 3:if(_l=null,d=on,on=El(n.containerInfo),Mt(n,e),on=d,At(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{hr(n.containerInfo)}catch(fe){Ue(e,e.return,fe)}Ad&&(Ad=!1,yg(e));break;case 4:o=on,on=El(e.stateNode.containerInfo),Mt(n,e),At(e),on=o;break;case 12:Mt(n,e),At(e);break;case 31:Mt(n,e),At(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ul(e,o)));break;case 13:Mt(n,e),At(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(fl=ht()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ul(e,o)));break;case 22:d=e.memoizedState!==null;var $=r!==null&&r.memoizedState!==null,K=Gn,ae=st;if(Gn=K||d,st=ae||$,Mt(n,e),st=ae,Gn=K,At(e),o&8192)e:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(r===null||$||Gn||st||di(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){$=r=n;try{if(h=$.stateNode,d)b=h.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{T=$.stateNode;var re=$.memoizedProps.style,ee=re!=null&&re.hasOwnProperty("display")?re.display:null;T.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(fe){Ue($,$.return,fe)}}}else if(n.tag===6){if(r===null){$=n;try{$.stateNode.nodeValue=d?"":$.memoizedProps}catch(fe){Ue($,$.return,fe)}}}else if(n.tag===18){if(r===null){$=n;try{var ne=$.stateNode;d?s0(ne,!0):s0($.stateNode,!1)}catch(fe){Ue($,$.return,fe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,ul(e,r))));break;case 19:Mt(n,e),At(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ul(e,o)));break;case 30:break;case 21:break;default:Mt(n,e),At(e)}}function At(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(lg(o)){r=o;break}o=o.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var d=r.stateNode,h=Td(e);cl(e,h,d);break;case 5:var b=r.stateNode;r.flags&32&&(Bi(b,""),r.flags&=-33);var T=Td(e);cl(e,T,b);break;case 3:case 4:var $=r.stateNode.containerInfo,K=Td(e);Md(e,K,$);break;default:throw Error(s(161))}}catch(ae){Ue(e,e.return,ae)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function yg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;yg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Qn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)dg(e,n.alternate,n),n=n.sibling}function di(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Na(4,n,n.return),di(n);break;case 1:vn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&sg(n,n.return,r),di(n);break;case 27:Es(n.stateNode);case 26:case 5:vn(n,n.return),di(n);break;case 22:n.memoizedState===null&&di(n);break;case 30:di(n);break;default:di(n)}e=e.sibling}}function Pn(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,d=e,h=n,b=h.flags;switch(h.tag){case 0:case 11:case 15:Pn(d,h,r),ms(4,h);break;case 1:if(Pn(d,h,r),o=h,d=o.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(K){Ue(o,o.return,K)}if(o=h,d=o.updateQueue,d!==null){var T=o.stateNode;try{var $=d.shared.hiddenCallbacks;if($!==null)for(d.shared.hiddenCallbacks=null,d=0;d<$.length;d++)Pm($[d],T)}catch(K){Ue(o,o.return,K)}}r&&b&64&&rg(h),ps(h,h.return);break;case 27:cg(h);case 26:case 5:Pn(d,h,r),r&&o===null&&b&4&&og(h),ps(h,h.return);break;case 12:Pn(d,h,r);break;case 31:Pn(d,h,r),r&&b&4&&mg(d,h);break;case 13:Pn(d,h,r),r&&b&4&&pg(d,h);break;case 22:h.memoizedState===null&&Pn(d,h,r),ps(h,h.return);break;case 30:break;default:Pn(d,h,r)}n=n.sibling}}function Rd(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&ts(r))}function zd(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ts(e))}function ln(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)xg(e,n,r,o),n=n.sibling}function xg(e,n,r,o){var d=n.flags;switch(n.tag){case 0:case 11:case 15:ln(e,n,r,o),d&2048&&ms(9,n);break;case 1:ln(e,n,r,o);break;case 3:ln(e,n,r,o),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ts(e)));break;case 12:if(d&2048){ln(e,n,r,o),e=n.stateNode;try{var h=n.memoizedProps,b=h.id,T=h.onPostCommit;typeof T=="function"&&T(b,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch($){Ue(n,n.return,$)}}else ln(e,n,r,o);break;case 31:ln(e,n,r,o);break;case 13:ln(e,n,r,o);break;case 23:break;case 22:h=n.stateNode,b=n.alternate,n.memoizedState!==null?h._visibility&2?ln(e,n,r,o):gs(e,n):h._visibility&2?ln(e,n,r,o):(h._visibility|=2,nr(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),d&2048&&Rd(b,n);break;case 24:ln(e,n,r,o),d&2048&&zd(n.alternate,n);break;default:ln(e,n,r,o)}}function nr(e,n,r,o,d){for(d=d&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=e,b=n,T=r,$=o,K=b.flags;switch(b.tag){case 0:case 11:case 15:nr(h,b,T,$,d),ms(8,b);break;case 23:break;case 22:var ae=b.stateNode;b.memoizedState!==null?ae._visibility&2?nr(h,b,T,$,d):gs(h,b):(ae._visibility|=2,nr(h,b,T,$,d)),d&&K&2048&&Rd(b.alternate,b);break;case 24:nr(h,b,T,$,d),d&&K&2048&&zd(b.alternate,b);break;default:nr(h,b,T,$,d)}n=n.sibling}}function gs(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,d=o.flags;switch(o.tag){case 22:gs(r,o),d&2048&&Rd(o.alternate,o);break;case 24:gs(r,o),d&2048&&zd(o.alternate,o);break;default:gs(r,o)}n=n.sibling}}var ys=8192;function ar(e,n,r){if(e.subtreeFlags&ys)for(e=e.child;e!==null;)vg(e,n,r),e=e.sibling}function vg(e,n,r){switch(e.tag){case 26:ar(e,n,r),e.flags&ys&&e.memoizedState!==null&&ew(r,on,e.memoizedState,e.memoizedProps);break;case 5:ar(e,n,r);break;case 3:case 4:var o=on;on=El(e.stateNode.containerInfo),ar(e,n,r),on=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=ys,ys=16777216,ar(e,n,r),ys=o):ar(e,n,r));break;default:ar(e,n,r)}}function bg(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function xs(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];dt=o,Sg(o,e)}bg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)wg(e),e=e.sibling}function wg(e){switch(e.tag){case 0:case 11:case 15:xs(e),e.flags&2048&&Na(9,e,e.return);break;case 3:xs(e);break;case 12:xs(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,dl(e)):xs(e);break;default:xs(e)}}function dl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];dt=o,Sg(o,e)}bg(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Na(8,n,n.return),dl(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,dl(n));break;default:dl(n)}e=e.sibling}}function Sg(e,n){for(;dt!==null;){var r=dt;switch(r.tag){case 0:case 11:case 15:Na(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ts(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,dt=o;else e:for(r=e;dt!==null;){o=dt;var d=o.sibling,h=o.return;if(fg(o),o===r){dt=null;break e}if(d!==null){d.return=h,dt=d;break e}dt=h}}}var p2={getCacheForType:function(e){var n=pt(at),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return pt(at).controller.signal}},g2=typeof WeakMap=="function"?WeakMap:Map,Be=0,Xe=null,Ce=null,Me=0,Le=0,Lt=null,Ea=!1,ir=!1,Dd=!1,In=0,Ke=0,ja=0,fi=0,Od=0,Ut=0,rr=0,vs=null,Rt=null,kd=!1,fl=0,Ng=0,hl=1/0,ml=null,_a=null,ut=0,Ca=null,sr=null,Fn=0,Bd=0,Hd=null,Eg=null,bs=0,Ld=null;function $t(){return(Be&2)!==0&&Me!==0?Me&-Me:R.T!==null?Xd():xo()}function jg(){if(Ut===0)if((Me&536870912)===0||Re){var e=Mi;Mi<<=1,(Mi&3932160)===0&&(Mi=262144),Ut=e}else Ut=536870912;return e=Bt.current,e!==null&&(e.flags|=32),Ut}function zt(e,n,r){(e===Xe&&(Le===2||Le===9)||e.cancelPendingCommit!==null)&&(or(e,0),Ta(e,Me,Ut,!1)),Qa(e,r),((Be&2)===0||e!==Xe)&&(e===Xe&&((Be&2)===0&&(fi|=r),Ke===4&&Ta(e,Me,Ut,!1)),bn(e))}function _g(e,n,r){if((Be&6)!==0)throw Error(s(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Za(e,n),d=o?v2(e,n):$d(e,n,!0),h=o;do{if(d===0){ir&&!o&&Ta(e,n,0,!1);break}else{if(r=e.current.alternate,h&&!y2(r)){d=$d(e,n,!1),h=!1;continue}if(d===2){if(h=n,e.errorRecoveryDisabledLanes&h)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){n=b;e:{var T=e;d=vs;var $=T.current.memoizedState.isDehydrated;if($&&(or(T,b).flags|=256),b=$d(T,b,!1),b!==2){if(Dd&&!$){T.errorRecoveryDisabledLanes|=h,fi|=h,d=4;break e}h=Rt,Rt=d,h!==null&&(Rt===null?Rt=h:Rt.push.apply(Rt,h))}d=b}if(h=!1,d!==2)continue}}if(d===1){or(e,0),Ta(e,n,0,!0);break}e:{switch(o=e,h=d,h){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Ta(o,n,Ut,!Ea);break e;case 2:Rt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(d=fl+300-ht(),10<d)){if(Ta(o,n,Ut,!Ea),Ri(o,0,!0)!==0)break e;Fn=n,o.timeoutHandle=a0(Cg.bind(null,o,r,Rt,ml,kd,n,Ut,fi,rr,Ea,h,"Throttled",-0,0),d);break e}Cg(o,r,Rt,ml,kd,n,Ut,fi,rr,Ea,h,null,-0,0)}}break}while(!0);bn(e)}function Cg(e,n,r,o,d,h,b,T,$,K,ae,re,ee,ne){if(e.timeoutHandle=-1,re=n.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:kn},vg(n,h,re);var fe=(h&62914560)===h?fl-ht():(h&4194048)===h?Ng-ht():0;if(fe=tw(re,fe),fe!==null){Fn=h,e.cancelPendingCommit=fe(kg.bind(null,e,n,h,r,o,d,b,T,$,ae,re,null,ee,ne)),Ta(e,h,b,!K);return}}kg(e,n,h,r,o,d,b,T,$)}function y2(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var d=r[o],h=d.getSnapshot;d=d.value;try{if(!Ot(h(),d))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ta(e,n,r,o){n&=~Od,n&=~fi,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var d=n;0<d;){var h=31-St(d),b=1<<h;o[h]=-1,d&=~b}r!==0&&po(e,r,n)}function pl(){return(Be&6)===0?(ws(0),!1):!0}function Ud(){if(Ce!==null){if(Le===0)var e=Ce.return;else e=Ce,Un=ai=null,td(e),Wi=null,as=0,e=Ce;for(;e!==null;)ig(e.alternate,e),e=e.return;Ce=null}}function or(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,H2(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Fn=0,Ud(),Xe=e,Ce=r=Hn(e.current,null),Me=n,Le=0,Lt=null,Ea=!1,ir=Za(e,n),Dd=!1,rr=Ut=Od=fi=ja=Ke=0,Rt=vs=null,kd=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var d=31-St(o),h=1<<d;n|=e[d],o&=~h}return In=n,Bo(),r}function Tg(e,n){Se=null,R.H=ds,n===Fi||n===Xo?(n=Xm(),Le=3):n===Yu?(n=Xm(),Le=4):Le=n===yd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Lt=n,Ce===null&&(Ke=1,il(e,Pt(n,e.current)))}function Mg(){var e=Bt.current;return e===null?!0:(Me&4194048)===Me?Kt===null:(Me&62914560)===Me||(Me&536870912)!==0?e===Kt:!1}function Ag(){var e=R.H;return R.H=ds,e===null?ds:e}function Rg(){var e=R.A;return R.A=p2,e}function gl(){Ke=4,Ea||(Me&4194048)!==Me&&Bt.current!==null||(ir=!0),(ja&134217727)===0&&(fi&134217727)===0||Xe===null||Ta(Xe,Me,Ut,!1)}function $d(e,n,r){var o=Be;Be|=2;var d=Ag(),h=Rg();(Xe!==e||Me!==n)&&(ml=null,or(e,n)),n=!1;var b=Ke;e:do try{if(Le!==0&&Ce!==null){var T=Ce,$=Lt;switch(Le){case 8:Ud(),b=6;break e;case 3:case 2:case 9:case 6:Bt.current===null&&(n=!0);var K=Le;if(Le=0,Lt=null,lr(e,T,$,K),r&&ir){b=0;break e}break;default:K=Le,Le=0,Lt=null,lr(e,T,$,K)}}x2(),b=Ke;break}catch(ae){Tg(e,ae)}while(!0);return n&&e.shellSuspendCounter++,Un=ai=null,Be=o,R.H=d,R.A=h,Ce===null&&(Xe=null,Me=0,Bo()),b}function x2(){for(;Ce!==null;)zg(Ce)}function v2(e,n){var r=Be;Be|=2;var o=Ag(),d=Rg();Xe!==e||Me!==n?(ml=null,hl=ht()+500,or(e,n)):ir=Za(e,n);e:do try{if(Le!==0&&Ce!==null){n=Ce;var h=Lt;t:switch(Le){case 1:Le=0,Lt=null,lr(e,n,h,1);break;case 2:case 9:if(Vm(h)){Le=0,Lt=null,Dg(n);break}n=function(){Le!==2&&Le!==9||Xe!==e||(Le=7),bn(e)},h.then(n,n);break e;case 3:Le=7;break e;case 4:Le=5;break e;case 7:Vm(h)?(Le=0,Lt=null,Dg(n)):(Le=0,Lt=null,lr(e,n,h,7));break;case 5:var b=null;switch(Ce.tag){case 26:b=Ce.memoizedState;case 5:case 27:var T=Ce;if(b?x0(b):T.stateNode.complete){Le=0,Lt=null;var $=T.sibling;if($!==null)Ce=$;else{var K=T.return;K!==null?(Ce=K,yl(K)):Ce=null}break t}}Le=0,Lt=null,lr(e,n,h,5);break;case 6:Le=0,Lt=null,lr(e,n,h,6);break;case 8:Ud(),Ke=6;break e;default:throw Error(s(462))}}b2();break}catch(ae){Tg(e,ae)}while(!0);return Un=ai=null,R.H=o,R.A=d,Be=r,Ce!==null?0:(Xe=null,Me=0,Bo(),Ke)}function b2(){for(;Ce!==null&&!Va();)zg(Ce)}function zg(e){var n=ng(e.alternate,e,In);e.memoizedProps=e.pendingProps,n===null?yl(e):Ce=n}function Dg(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Fp(r,n,n.pendingProps,n.type,void 0,Me);break;case 11:n=Fp(r,n,n.pendingProps,n.type.render,n.ref,Me);break;case 5:td(n);default:ig(r,n),n=Ce=Rm(n,In),n=ng(r,n,In)}e.memoizedProps=e.pendingProps,n===null?yl(e):Ce=n}function lr(e,n,r,o){Un=ai=null,td(n),Wi=null,as=0;var d=n.return;try{if(l2(e,d,n,r,Me)){Ke=1,il(e,Pt(r,e.current)),Ce=null;return}}catch(h){if(d!==null)throw Ce=d,h;Ke=1,il(e,Pt(r,e.current)),Ce=null;return}n.flags&32768?(Re||o===1?e=!0:ir||(Me&536870912)!==0?e=!1:(Ea=e=!0,(o===2||o===9||o===3||o===6)&&(o=Bt.current,o!==null&&o.tag===13&&(o.flags|=16384))),Og(n,e)):yl(n)}function yl(e){var n=e;do{if((n.flags&32768)!==0){Og(n,Ea);return}e=n.return;var r=d2(n.alternate,n,In);if(r!==null){Ce=r;return}if(n=n.sibling,n!==null){Ce=n;return}Ce=n=e}while(n!==null);Ke===0&&(Ke=5)}function Og(e,n){do{var r=f2(e.alternate,e);if(r!==null){r.flags&=32767,Ce=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Ce=e;return}Ce=e=r}while(e!==null);Ke=6,Ce=null}function kg(e,n,r,o,d,h,b,T,$){e.cancelPendingCommit=null;do xl();while(ut!==0);if((Be&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(h=n.lanes|n.childLanes,h|=Tu,iu(e,r,h,b,T,$),e===Xe&&(Ce=Xe=null,Me=0),sr=n,Ca=e,Fn=r,Bd=h,Hd=d,Eg=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,E2(Xa,function(){return $g(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=R.T,R.T=null,d=D.p,D.p=2,b=Be,Be|=4;try{h2(e,n,r)}finally{Be=b,D.p=d,R.T=o}}ut=1,Bg(),Hg(),Lg()}}function Bg(){if(ut===1){ut=0;var e=Ca,n=sr,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=R.T,R.T=null;var o=D.p;D.p=2;var d=Be;Be|=4;try{gg(n,e);var h=Kd,b=Sm(e.containerInfo),T=h.focusedElem,$=h.selectionRange;if(b!==T&&T&&T.ownerDocument&&wm(T.ownerDocument.documentElement,T)){if($!==null&&Nu(T)){var K=$.start,ae=$.end;if(ae===void 0&&(ae=K),"selectionStart"in T)T.selectionStart=K,T.selectionEnd=Math.min(ae,T.value.length);else{var re=T.ownerDocument||document,ee=re&&re.defaultView||window;if(ee.getSelection){var ne=ee.getSelection(),fe=T.textContent.length,xe=Math.min($.start,fe),Ye=$.end===void 0?xe:Math.min($.end,fe);!ne.extend&&xe>Ye&&(b=Ye,Ye=xe,xe=b);var G=bm(T,xe),Y=bm(T,Ye);if(G&&Y&&(ne.rangeCount!==1||ne.anchorNode!==G.node||ne.anchorOffset!==G.offset||ne.focusNode!==Y.node||ne.focusOffset!==Y.offset)){var W=re.createRange();W.setStart(G.node,G.offset),ne.removeAllRanges(),xe>Ye?(ne.addRange(W),ne.extend(Y.node,Y.offset)):(W.setEnd(Y.node,Y.offset),ne.addRange(W))}}}}for(re=[],ne=T;ne=ne.parentNode;)ne.nodeType===1&&re.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<re.length;T++){var ie=re[T];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}Al=!!Wd,Kd=Wd=null}finally{Be=d,D.p=o,R.T=r}}e.current=n,ut=2}}function Hg(){if(ut===2){ut=0;var e=Ca,n=sr,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=R.T,R.T=null;var o=D.p;D.p=2;var d=Be;Be|=4;try{dg(e,n.alternate,n)}finally{Be=d,D.p=o,R.T=r}}ut=3}}function Lg(){if(ut===4||ut===3){ut=0,Ya();var e=Ca,n=sr,r=Fn,o=Eg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ut=5:(ut=0,sr=Ca=null,Ug(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(_a=null),$r(r),n=n.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(Ga,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=R.T,d=D.p,D.p=2,R.T=null;try{for(var h=e.onRecoverableError,b=0;b<o.length;b++){var T=o[b];h(T.value,{componentStack:T.stack})}}finally{R.T=n,D.p=d}}(Fn&3)!==0&&xl(),bn(e),d=e.pendingLanes,(r&261930)!==0&&(d&42)!==0?e===Ld?bs++:(bs=0,Ld=e):bs=0,ws(0)}}function Ug(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,ts(n)))}function xl(){return Bg(),Hg(),Lg(),$g()}function $g(){if(ut!==5)return!1;var e=Ca,n=Bd;Bd=0;var r=$r(Fn),o=R.T,d=D.p;try{D.p=32>r?32:r,R.T=null,r=Hd,Hd=null;var h=Ca,b=Fn;if(ut=0,sr=Ca=null,Fn=0,(Be&6)!==0)throw Error(s(331));var T=Be;if(Be|=4,wg(h.current),xg(h,h.current,b,r),Be=T,ws(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(Ga,h)}catch{}return!0}finally{D.p=d,R.T=o,Ug(e,n)}}function qg(e,n,r){n=Pt(r,n),n=gd(e.stateNode,n,2),e=ba(e,n,2),e!==null&&(Qa(e,2),bn(e))}function Ue(e,n,r){if(e.tag===3)qg(e,e,r);else for(;n!==null;){if(n.tag===3){qg(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(_a===null||!_a.has(o))){e=Pt(r,e),r=Vp(2),o=ba(n,r,2),o!==null&&(Yp(r,o,n,e),Qa(o,2),bn(o));break}}n=n.return}}function qd(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new g2;var d=new Set;o.set(n,d)}else d=o.get(n),d===void 0&&(d=new Set,o.set(n,d));d.has(r)||(Dd=!0,d.add(r),e=w2.bind(null,e,n,r),n.then(e,e))}function w2(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Xe===e&&(Me&r)===r&&(Ke===4||Ke===3&&(Me&62914560)===Me&&300>ht()-fl?(Be&2)===0&&or(e,0):Od|=r,rr===Me&&(rr=0)),bn(e)}function Vg(e,n){n===0&&(n=mo()),e=ei(e,n),e!==null&&(Qa(e,n),bn(e))}function S2(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Vg(e,r)}function N2(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,d=e.memoizedState;d!==null&&(r=d.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),Vg(e,r)}function E2(e,n){return an(e,n)}var vl=null,cr=null,Vd=!1,bl=!1,Yd=!1,Ma=0;function bn(e){e!==cr&&e.next===null&&(cr===null?vl=cr=e:cr=cr.next=e),bl=!0,Vd||(Vd=!0,_2())}function ws(e,n){if(!Yd&&bl){Yd=!0;do for(var r=!1,o=vl;o!==null;){if(e!==0){var d=o.pendingLanes;if(d===0)var h=0;else{var b=o.suspendedLanes,T=o.pingedLanes;h=(1<<31-St(42|e)+1)-1,h&=d&~(b&~T),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(r=!0,Zg(o,h))}else h=Me,h=Ri(o,o===Xe?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(h&3)===0||Za(o,h)||(r=!0,Zg(o,h));o=o.next}while(r);Yd=!1}}function j2(){Yg()}function Yg(){bl=Vd=!1;var e=0;Ma!==0&&B2()&&(e=Ma);for(var n=ht(),r=null,o=vl;o!==null;){var d=o.next,h=Xg(o,n);h===0?(o.next=null,r===null?vl=d:r.next=d,d===null&&(cr=r)):(r=o,(e!==0||(h&3)!==0)&&(bl=!0)),o=d}ut!==0&&ut!==5||ws(e),Ma!==0&&(Ma=0)}function Xg(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,d=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var b=31-St(h),T=1<<b,$=d[b];$===-1?((T&r)===0||(T&o)!==0)&&(d[b]=au(T,n)):$<=n&&(e.expiredLanes|=T),h&=~T}if(n=Xe,r=Me,r=Ri(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Le===2||Le===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Mn(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Za(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&Mn(o),$r(r)){case 2:case 8:r=oa;break;case 32:r=Xa;break;case 268435456:r=Ci;break;default:r=Xa}return o=Gg.bind(null,e),r=an(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&Mn(o),e.callbackPriority=2,e.callbackNode=null,2}function Gg(e,n){if(ut!==0&&ut!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(xl()&&e.callbackNode!==r)return null;var o=Me;return o=Ri(e,e===Xe?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(_g(e,o,n),Xg(e,ht()),e.callbackNode!=null&&e.callbackNode===r?Gg.bind(null,e):null)}function Zg(e,n){if(xl())return null;_g(e,n,!0)}function _2(){L2(function(){(Be&6)!==0?an(An,j2):Yg()})}function Xd(){if(Ma===0){var e=Pi;e===0&&(e=Ti,Ti<<=1,(Ti&261888)===0&&(Ti=256)),Ma=e}return Ma}function Qg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:To(""+e)}function Pg(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function C2(e,n,r,o,d){if(n==="submit"&&r&&r.stateNode===d){var h=Qg((d[vt]||null).action),b=o.submitter;b&&(n=(n=b[vt]||null)?Qg(n.formAction):b.getAttribute("formAction"),n!==null&&(h=n,b=null));var T=new zo("action","action",null,o,d);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ma!==0){var $=b?Pg(d,b):new FormData(d);ud(r,{pending:!0,data:$,method:d.method,action:h},null,$)}}else typeof h=="function"&&(T.preventDefault(),$=b?Pg(d,b):new FormData(d),ud(r,{pending:!0,data:$,method:d.method,action:h},h,$))},currentTarget:d}]})}}for(var Gd=0;Gd<Cu.length;Gd++){var Zd=Cu[Gd],T2=Zd.toLowerCase(),M2=Zd[0].toUpperCase()+Zd.slice(1);sn(T2,"on"+M2)}sn(jm,"onAnimationEnd"),sn(_m,"onAnimationIteration"),sn(Cm,"onAnimationStart"),sn("dblclick","onDoubleClick"),sn("focusin","onFocus"),sn("focusout","onBlur"),sn(Gb,"onTransitionRun"),sn(Zb,"onTransitionStart"),sn(Qb,"onTransitionCancel"),sn(Tm,"onTransitionEnd"),fa("onMouseEnter",["mouseout","mouseover"]),fa("onMouseLeave",["mouseout","mouseover"]),fa("onPointerEnter",["pointerout","pointerover"]),fa("onPointerLeave",["pointerout","pointerover"]),Dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Dn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ss="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ss));function Ig(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],d=o.event;o=o.listeners;e:{var h=void 0;if(n)for(var b=o.length-1;0<=b;b--){var T=o[b],$=T.instance,K=T.currentTarget;if(T=T.listener,$!==h&&d.isPropagationStopped())break e;h=T,d.currentTarget=K;try{h(d)}catch(ae){ko(ae)}d.currentTarget=null,h=$}else for(b=0;b<o.length;b++){if(T=o[b],$=T.instance,K=T.currentTarget,T=T.listener,$!==h&&d.isPropagationStopped())break e;h=T,d.currentTarget=K;try{h(d)}catch(ae){ko(ae)}d.currentTarget=null,h=$}}}}function Te(e,n){var r=n[zi];r===void 0&&(r=n[zi]=new Set);var o=e+"__bubble";r.has(o)||(Fg(n,e,2,!1),r.add(o))}function Qd(e,n,r){var o=0;n&&(o|=4),Fg(r,e,o,n)}var wl="_reactListening"+Math.random().toString(36).slice(2);function Pd(e){if(!e[wl]){e[wl]=!0,So.forEach(function(r){r!=="selectionchange"&&(A2.has(r)||Qd(r,!1,e),Qd(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[wl]||(n[wl]=!0,Qd("selectionchange",!1,n))}}function Fg(e,n,r,o){switch(j0(n)){case 2:var d=iw;break;case 8:d=rw;break;default:d=uf}r=d.bind(null,n,r,e),d=void 0,!mu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),o?d!==void 0?e.addEventListener(n,r,{capture:!0,passive:d}):e.addEventListener(n,r,!0):d!==void 0?e.addEventListener(n,r,{passive:d}):e.addEventListener(n,r,!1)}function Id(e,n,r,o,d){var h=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var b=o.tag;if(b===3||b===4){var T=o.stateNode.containerInfo;if(T===d)break;if(b===4)for(b=o.return;b!==null;){var $=b.tag;if(($===3||$===4)&&b.stateNode.containerInfo===d)return;b=b.return}for(;T!==null;){if(b=la(T),b===null)return;if($=b.tag,$===5||$===6||$===26||$===27){o=h=b;continue e}T=T.parentNode}}o=o.return}tm(function(){var K=h,ae=fu(r),re=[];e:{var ee=Mm.get(e);if(ee!==void 0){var ne=zo,fe=e;switch(e){case"keypress":if(Ao(r)===0)break e;case"keydown":case"keyup":ne=Nb;break;case"focusin":fe="focus",ne=xu;break;case"focusout":fe="blur",ne=xu;break;case"beforeblur":case"afterblur":ne=xu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=im;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=db;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=_b;break;case jm:case _m:case Cm:ne=mb;break;case Tm:ne=Tb;break;case"scroll":case"scrollend":ne=cb;break;case"wheel":ne=Ab;break;case"copy":case"cut":case"paste":ne=gb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=sm;break;case"toggle":case"beforetoggle":ne=zb}var xe=(n&4)!==0,Ye=!xe&&(e==="scroll"||e==="scrollend"),G=xe?ee!==null?ee+"Capture":null:ee;xe=[];for(var Y=K,W;Y!==null;){var ie=Y;if(W=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||W===null||G===null||(ie=Xr(Y,G),ie!=null&&xe.push(Ns(Y,ie,W))),Ye)break;Y=Y.return}0<xe.length&&(ee=new ne(ee,fe,null,r,ae),re.push({event:ee,listeners:xe}))}}if((n&7)===0){e:{if(ee=e==="mouseover"||e==="pointerover",ne=e==="mouseout"||e==="pointerout",ee&&r!==du&&(fe=r.relatedTarget||r.fromElement)&&(la(fe)||fe[zn]))break e;if((ne||ee)&&(ee=ae.window===ae?ae:(ee=ae.ownerDocument)?ee.defaultView||ee.parentWindow:window,ne?(fe=r.relatedTarget||r.toElement,ne=K,fe=fe?la(fe):null,fe!==null&&(Ye=u(fe),xe=fe.tag,fe!==Ye||xe!==5&&xe!==27&&xe!==6)&&(fe=null)):(ne=null,fe=K),ne!==fe)){if(xe=im,ie="onMouseLeave",G="onMouseEnter",Y="mouse",(e==="pointerout"||e==="pointerover")&&(xe=sm,ie="onPointerLeave",G="onPointerEnter",Y="pointer"),Ye=ne==null?ee:ua(ne),W=fe==null?ee:ua(fe),ee=new xe(ie,Y+"leave",ne,r,ae),ee.target=Ye,ee.relatedTarget=W,ie=null,la(ae)===K&&(xe=new xe(G,Y+"enter",fe,r,ae),xe.target=W,xe.relatedTarget=Ye,ie=xe),Ye=ie,ne&&fe)t:{for(xe=R2,G=ne,Y=fe,W=0,ie=G;ie;ie=xe(ie))W++;ie=0;for(var ye=Y;ye;ye=xe(ye))ie++;for(;0<W-ie;)G=xe(G),W--;for(;0<ie-W;)Y=xe(Y),ie--;for(;W--;){if(G===Y||Y!==null&&G===Y.alternate){xe=G;break t}G=xe(G),Y=xe(Y)}xe=null}else xe=null;ne!==null&&Wg(re,ee,ne,xe,!1),fe!==null&&Ye!==null&&Wg(re,Ye,fe,xe,!0)}}e:{if(ee=K?ua(K):window,ne=ee.nodeName&&ee.nodeName.toLowerCase(),ne==="select"||ne==="input"&&ee.type==="file")var Oe=mm;else if(fm(ee))if(pm)Oe=Vb;else{Oe=$b;var he=Ub}else ne=ee.nodeName,!ne||ne.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?K&&uu(K.elementType)&&(Oe=mm):Oe=qb;if(Oe&&(Oe=Oe(e,K))){hm(re,Oe,r,ae);break e}he&&he(e,ee,K),e==="focusout"&&K&&ee.type==="number"&&K.memoizedProps.value!=null&&Yr(ee,"number",ee.value)}switch(he=K?ua(K):window,e){case"focusin":(fm(he)||he.contentEditable==="true")&&($i=he,Eu=K,Kr=null);break;case"focusout":Kr=Eu=$i=null;break;case"mousedown":ju=!0;break;case"contextmenu":case"mouseup":case"dragend":ju=!1,Nm(re,r,ae);break;case"selectionchange":if(Xb)break;case"keydown":case"keyup":Nm(re,r,ae)}var Ee;if(bu)e:{switch(e){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Ui?um(e,r)&&(Ae="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Ae="onCompositionStart");Ae&&(om&&r.locale!=="ko"&&(Ui||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Ui&&(Ee=nm()):(ha=ae,pu="value"in ha?ha.value:ha.textContent,Ui=!0)),he=Sl(K,Ae),0<he.length&&(Ae=new rm(Ae,e,null,r,ae),re.push({event:Ae,listeners:he}),Ee?Ae.data=Ee:(Ee=dm(r),Ee!==null&&(Ae.data=Ee)))),(Ee=Ob?kb(e,r):Bb(e,r))&&(Ae=Sl(K,"onBeforeInput"),0<Ae.length&&(he=new rm("onBeforeInput","beforeinput",null,r,ae),re.push({event:he,listeners:Ae}),he.data=Ee)),C2(re,e,K,r,ae)}Ig(re,n)})}function Ns(e,n,r){return{instance:e,listener:n,currentTarget:r}}function Sl(e,n){for(var r=n+"Capture",o=[];e!==null;){var d=e,h=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||h===null||(d=Xr(e,r),d!=null&&o.unshift(Ns(e,d,h)),d=Xr(e,n),d!=null&&o.push(Ns(e,d,h))),e.tag===3)return o;e=e.return}return[]}function R2(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Wg(e,n,r,o,d){for(var h=n._reactName,b=[];r!==null&&r!==o;){var T=r,$=T.alternate,K=T.stateNode;if(T=T.tag,$!==null&&$===o)break;T!==5&&T!==26&&T!==27||K===null||($=K,d?(K=Xr(r,h),K!=null&&b.unshift(Ns(r,K,$))):d||(K=Xr(r,h),K!=null&&b.push(Ns(r,K,$)))),r=r.return}b.length!==0&&e.push({event:n,listeners:b})}var z2=/\r\n?/g,D2=/\u0000|\uFFFD/g;function Kg(e){return(typeof e=="string"?e:""+e).replace(z2,`
`).replace(D2,"")}function Jg(e,n){return n=Kg(n),Kg(e)===n}function Ve(e,n,r,o,d,h){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Bi(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Bi(e,""+o);break;case"className":Oi(e,"class",o);break;case"tabIndex":Oi(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Oi(e,r,o);break;case"style":Jh(e,o,h);break;case"data":if(n!=="object"){Oi(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=To(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(r==="formAction"?(n!=="input"&&Ve(e,n,"name",d.name,d,null),Ve(e,n,"formEncType",d.formEncType,d,null),Ve(e,n,"formMethod",d.formMethod,d,null),Ve(e,n,"formTarget",d.formTarget,d,null)):(Ve(e,n,"encType",d.encType,d,null),Ve(e,n,"method",d.method,d,null),Ve(e,n,"target",d.target,d,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=To(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=kn);break;case"onScroll":o!=null&&Te("scroll",e);break;case"onScrollEnd":o!=null&&Te("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(d.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=To(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Te("beforetoggle",e),Te("toggle",e),Di(e,"popover",o);break;case"xlinkActuate":rn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":rn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":rn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":rn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":rn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":rn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":rn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":rn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":rn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Di(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=ob.get(r)||r,Di(e,r,o))}}function Fd(e,n,r,o,d,h){switch(r){case"style":Jh(e,o,h);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(d.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"children":typeof o=="string"?Bi(e,o):(typeof o=="number"||typeof o=="bigint")&&Bi(e,""+o);break;case"onScroll":o!=null&&Te("scroll",e);break;case"onScrollEnd":o!=null&&Te("scrollend",e);break;case"onClick":o!=null&&(e.onclick=kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!No.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(d=r.endsWith("Capture"),n=r.slice(2,d?r.length-7:void 0),h=e[vt]||null,h=h!=null?h[r]:null,typeof h=="function"&&e.removeEventListener(n,h,d),typeof o=="function")){typeof h!="function"&&h!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,d);break e}r in e?e[r]=o:o===!0?e.setAttribute(r,""):Di(e,r,o)}}}function yt(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Te("error",e),Te("load",e);var o=!1,d=!1,h;for(h in r)if(r.hasOwnProperty(h)){var b=r[h];if(b!=null)switch(h){case"src":o=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Ve(e,n,h,b,r,null)}}d&&Ve(e,n,"srcSet",r.srcSet,r,null),o&&Ve(e,n,"src",r.src,r,null);return;case"input":Te("invalid",e);var T=h=b=d=null,$=null,K=null;for(o in r)if(r.hasOwnProperty(o)){var ae=r[o];if(ae!=null)switch(o){case"name":d=ae;break;case"type":b=ae;break;case"checked":$=ae;break;case"defaultChecked":K=ae;break;case"value":h=ae;break;case"defaultValue":T=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(s(137,n));break;default:Ve(e,n,o,ae,r,null)}}Co(e,h,T,$,K,b,d,!1);return;case"select":Te("invalid",e),o=b=h=null;for(d in r)if(r.hasOwnProperty(d)&&(T=r[d],T!=null))switch(d){case"value":h=T;break;case"defaultValue":b=T;break;case"multiple":o=T;default:Ve(e,n,d,T,r,null)}n=h,r=b,e.multiple=!!o,n!=null?On(e,!!o,n,!1):r!=null&&On(e,!!o,r,!0);return;case"textarea":Te("invalid",e),h=d=o=null;for(b in r)if(r.hasOwnProperty(b)&&(T=r[b],T!=null))switch(b){case"value":o=T;break;case"defaultValue":d=T;break;case"children":h=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Ve(e,n,b,T,r,null)}Wh(e,o,d,h);return;case"option":for($ in r)r.hasOwnProperty($)&&(o=r[$],o!=null)&&($==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Ve(e,n,$,o,r,null));return;case"dialog":Te("beforetoggle",e),Te("toggle",e),Te("cancel",e),Te("close",e);break;case"iframe":case"object":Te("load",e);break;case"video":case"audio":for(o=0;o<Ss.length;o++)Te(Ss[o],e);break;case"image":Te("error",e),Te("load",e);break;case"details":Te("toggle",e);break;case"embed":case"source":case"link":Te("error",e),Te("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in r)if(r.hasOwnProperty(K)&&(o=r[K],o!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Ve(e,n,K,o,r,null)}return;default:if(uu(n)){for(ae in r)r.hasOwnProperty(ae)&&(o=r[ae],o!==void 0&&Fd(e,n,ae,o,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(o=r[T],o!=null&&Ve(e,n,T,o,r,null))}function O2(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,h=null,b=null,T=null,$=null,K=null,ae=null;for(ne in r){var re=r[ne];if(r.hasOwnProperty(ne)&&re!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":$=re;default:o.hasOwnProperty(ne)||Ve(e,n,ne,null,o,re)}}for(var ee in o){var ne=o[ee];if(re=r[ee],o.hasOwnProperty(ee)&&(ne!=null||re!=null))switch(ee){case"type":h=ne;break;case"name":d=ne;break;case"checked":K=ne;break;case"defaultChecked":ae=ne;break;case"value":b=ne;break;case"defaultValue":T=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(s(137,n));break;default:ne!==re&&Ve(e,n,ee,ne,o,re)}}Fa(e,b,T,$,K,ae,h,d);return;case"select":ne=b=T=ee=null;for(h in r)if($=r[h],r.hasOwnProperty(h)&&$!=null)switch(h){case"value":break;case"multiple":ne=$;default:o.hasOwnProperty(h)||Ve(e,n,h,null,o,$)}for(d in o)if(h=o[d],$=r[d],o.hasOwnProperty(d)&&(h!=null||$!=null))switch(d){case"value":ee=h;break;case"defaultValue":T=h;break;case"multiple":b=h;default:h!==$&&Ve(e,n,d,h,o,$)}n=T,r=b,o=ne,ee!=null?On(e,!!r,ee,!1):!!o!=!!r&&(n!=null?On(e,!!r,n,!0):On(e,!!r,r?[]:"",!1));return;case"textarea":ne=ee=null;for(T in r)if(d=r[T],r.hasOwnProperty(T)&&d!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ve(e,n,T,null,o,d)}for(b in o)if(d=o[b],h=r[b],o.hasOwnProperty(b)&&(d!=null||h!=null))switch(b){case"value":ee=d;break;case"defaultValue":ne=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==h&&Ve(e,n,b,d,o,h)}Fh(e,ee,ne);return;case"option":for(var fe in r)ee=r[fe],r.hasOwnProperty(fe)&&ee!=null&&!o.hasOwnProperty(fe)&&(fe==="selected"?e.selected=!1:Ve(e,n,fe,null,o,ee));for($ in o)ee=o[$],ne=r[$],o.hasOwnProperty($)&&ee!==ne&&(ee!=null||ne!=null)&&($==="selected"?e.selected=ee&&typeof ee!="function"&&typeof ee!="symbol":Ve(e,n,$,ee,o,ne));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in r)ee=r[xe],r.hasOwnProperty(xe)&&ee!=null&&!o.hasOwnProperty(xe)&&Ve(e,n,xe,null,o,ee);for(K in o)if(ee=o[K],ne=r[K],o.hasOwnProperty(K)&&ee!==ne&&(ee!=null||ne!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,n));break;default:Ve(e,n,K,ee,o,ne)}return;default:if(uu(n)){for(var Ye in r)ee=r[Ye],r.hasOwnProperty(Ye)&&ee!==void 0&&!o.hasOwnProperty(Ye)&&Fd(e,n,Ye,void 0,o,ee);for(ae in o)ee=o[ae],ne=r[ae],!o.hasOwnProperty(ae)||ee===ne||ee===void 0&&ne===void 0||Fd(e,n,ae,ee,o,ne);return}}for(var G in r)ee=r[G],r.hasOwnProperty(G)&&ee!=null&&!o.hasOwnProperty(G)&&Ve(e,n,G,null,o,ee);for(re in o)ee=o[re],ne=r[re],!o.hasOwnProperty(re)||ee===ne||ee==null&&ne==null||Ve(e,n,re,ee,o,ne)}function e0(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function k2(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var d=r[o],h=d.transferSize,b=d.initiatorType,T=d.duration;if(h&&T&&e0(b)){for(b=0,T=d.responseEnd,o+=1;o<r.length;o++){var $=r[o],K=$.startTime;if(K>T)break;var ae=$.transferSize,re=$.initiatorType;ae&&e0(re)&&($=$.responseEnd,b+=ae*($<T?1:(T-K)/($-K)))}if(--o,n+=8*(h+b)/(d.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Wd=null,Kd=null;function Nl(e){return e.nodeType===9?e:e.ownerDocument}function t0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function n0(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Jd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ef=null;function B2(){var e=window.event;return e&&e.type==="popstate"?e===ef?!1:(ef=e,!0):(ef=null,!1)}var a0=typeof setTimeout=="function"?setTimeout:void 0,H2=typeof clearTimeout=="function"?clearTimeout:void 0,i0=typeof Promise=="function"?Promise:void 0,L2=typeof queueMicrotask=="function"?queueMicrotask:typeof i0<"u"?function(e){return i0.resolve(null).then(e).catch(U2)}:a0;function U2(e){setTimeout(function(){throw e})}function Aa(e){return e==="head"}function r0(e,n){var r=n,o=0;do{var d=r.nextSibling;if(e.removeChild(r),d&&d.nodeType===8)if(r=d.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(d),hr(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")Es(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,Es(r);for(var h=r.firstChild;h;){var b=h.nextSibling,T=h.nodeName;h[Pa]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&h.rel.toLowerCase()==="stylesheet"||r.removeChild(h),h=b}}else r==="body"&&Es(e.ownerDocument.body);r=d}while(r);hr(n)}function s0(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function tf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":tf(r),qr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function $2(e,n,r,o){for(;e.nodeType===1;){var d=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Pa])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var h=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Jt(e.nextSibling),e===null)break}return null}function q2(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Jt(e.nextSibling),e===null))return null;return e}function o0(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Jt(e.nextSibling),e===null))return null;return e}function nf(e){return e.data==="$?"||e.data==="$~"}function af(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function V2(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Jt(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var rf=null;function l0(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Jt(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function c0(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function u0(e,n,r){switch(n=Nl(r),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Es(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);qr(e)}var en=new Map,d0=new Set;function El(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Wn=D.d;D.d={f:Y2,r:X2,D:G2,C:Z2,L:Q2,m:P2,X:F2,S:I2,M:W2};function Y2(){var e=Wn.f(),n=pl();return e||n}function X2(e){var n=ca(e);n!==null&&n.tag===5&&n.type==="form"?Tp(n):Wn.r(e)}var ur=typeof document>"u"?null:document;function f0(e,n,r){var o=ur;if(o&&typeof n=="string"&&n){var d=_t(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof r=="string"&&(d+='[crossorigin="'+r+'"]'),d0.has(d)||(d0.add(d),e={rel:e,crossOrigin:r,href:n},o.querySelector(d)===null&&(n=o.createElement("link"),yt(n,"link",e),nt(n),o.head.appendChild(n)))}}function G2(e){Wn.D(e),f0("dns-prefetch",e,null)}function Z2(e,n){Wn.C(e,n),f0("preconnect",e,n)}function Q2(e,n,r){Wn.L(e,n,r);var o=ur;if(o&&e&&n){var d='link[rel="preload"][as="'+_t(n)+'"]';n==="image"&&r&&r.imageSrcSet?(d+='[imagesrcset="'+_t(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(d+='[imagesizes="'+_t(r.imageSizes)+'"]')):d+='[href="'+_t(e)+'"]';var h=d;switch(n){case"style":h=dr(e);break;case"script":h=fr(e)}en.has(h)||(e=y({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),en.set(h,e),o.querySelector(d)!==null||n==="style"&&o.querySelector(js(h))||n==="script"&&o.querySelector(_s(h))||(n=o.createElement("link"),yt(n,"link",e),nt(n),o.head.appendChild(n)))}}function P2(e,n){Wn.m(e,n);var r=ur;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+_t(o)+'"][href="'+_t(e)+'"]',h=d;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=fr(e)}if(!en.has(h)&&(e=y({rel:"modulepreload",href:e},n),en.set(h,e),r.querySelector(d)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(_s(h)))return}o=r.createElement("link"),yt(o,"link",e),nt(o),r.head.appendChild(o)}}}function I2(e,n,r){Wn.S(e,n,r);var o=ur;if(o&&e){var d=da(o).hoistableStyles,h=dr(e);n=n||"default";var b=d.get(h);if(!b){var T={loading:0,preload:null};if(b=o.querySelector(js(h)))T.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":n},r),(r=en.get(h))&&sf(e,r);var $=b=o.createElement("link");nt($),yt($,"link",e),$._p=new Promise(function(K,ae){$.onload=K,$.onerror=ae}),$.addEventListener("load",function(){T.loading|=1}),$.addEventListener("error",function(){T.loading|=2}),T.loading|=4,jl(b,n,o)}b={type:"stylesheet",instance:b,count:1,state:T},d.set(h,b)}}}function F2(e,n){Wn.X(e,n);var r=ur;if(r&&e){var o=da(r).hoistableScripts,d=fr(e),h=o.get(d);h||(h=r.querySelector(_s(d)),h||(e=y({src:e,async:!0},n),(n=en.get(d))&&of(e,n),h=r.createElement("script"),nt(h),yt(h,"link",e),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(d,h))}}function W2(e,n){Wn.M(e,n);var r=ur;if(r&&e){var o=da(r).hoistableScripts,d=fr(e),h=o.get(d);h||(h=r.querySelector(_s(d)),h||(e=y({src:e,async:!0,type:"module"},n),(n=en.get(d))&&of(e,n),h=r.createElement("script"),nt(h),yt(h,"link",e),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(d,h))}}function h0(e,n,r,o){var d=(d=ue.current)?El(d):null;if(!d)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=dr(r.href),r=da(d).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=dr(r.href);var h=da(d).hoistableStyles,b=h.get(e);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,b),(h=d.querySelector(js(e)))&&!h._p&&(b.instance=h,b.state.loading=5),en.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},en.set(e,r),h||K2(d,e,r,b.state))),n&&o===null)throw Error(s(528,""));return b}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=fr(r),r=da(d).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function dr(e){return'href="'+_t(e)+'"'}function js(e){return'link[rel="stylesheet"]['+e+"]"}function m0(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function K2(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),yt(n,"link",r),nt(n),e.head.appendChild(n))}function fr(e){return'[src="'+_t(e)+'"]'}function _s(e){return"script[async]"+e}function p0(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+_t(r.href)+'"]');if(o)return n.instance=o,nt(o),o;var d=y({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),nt(o),yt(o,"style",d),jl(o,r.precedence,e),n.instance=o;case"stylesheet":d=dr(r.href);var h=e.querySelector(js(d));if(h)return n.state.loading|=4,n.instance=h,nt(h),h;o=m0(r),(d=en.get(d))&&sf(o,d),h=(e.ownerDocument||e).createElement("link"),nt(h);var b=h;return b._p=new Promise(function(T,$){b.onload=T,b.onerror=$}),yt(h,"link",o),n.state.loading|=4,jl(h,r.precedence,e),n.instance=h;case"script":return h=fr(r.src),(d=e.querySelector(_s(h)))?(n.instance=d,nt(d),d):(o=r,(d=en.get(h))&&(o=y({},r),of(o,d)),e=e.ownerDocument||e,d=e.createElement("script"),nt(d),yt(d,"link",o),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,jl(o,r.precedence,e));return n.instance}function jl(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=o.length?o[o.length-1]:null,h=d,b=0;b<o.length;b++){var T=o[b];if(T.dataset.precedence===n)h=T;else if(h!==d)break}h?h.parentNode.insertBefore(e,h.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function sf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function of(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var _l=null;function g0(e,n,r){if(_l===null){var o=new Map,d=_l=new Map;d.set(r,o)}else d=_l,o=d.get(r),o||(o=new Map,d.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),d=0;d<r.length;d++){var h=r[d];if(!(h[Pa]||h[ct]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var b=h.getAttribute(n)||"";b=e+b;var T=o.get(b);T?T.push(h):o.set(b,[h])}}return o}function y0(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function J2(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function x0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ew(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=dr(o.href),h=n.querySelector(js(d));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Cl.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=h,nt(h);return}h=n.ownerDocument||n,o=m0(o),(d=en.get(d))&&sf(o,d),h=h.createElement("link"),nt(h);var b=h;b._p=new Promise(function(T,$){b.onload=T,b.onerror=$}),yt(h,"link",o),r.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=Cl.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var lf=0;function tw(e,n){return e.stylesheets&&e.count===0&&Ml(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&Ml(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+n);0<e.imgBytes&&lf===0&&(lf=62500*k2());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ml(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>lf?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(d)}}:null}function Cl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ml(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Tl=null;function Ml(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Tl=new Map,n.forEach(nw,e),Tl=null,Cl.call(e))}function nw(e,n){if(!(n.state.loading&4)){var r=Tl.get(e);if(r)var o=r.get(null);else{r=new Map,Tl.set(e,r);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<d.length;h++){var b=d[h];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(r.set(b.dataset.precedence,b),o=b)}o&&r.set(null,o)}d=n.instance,b=d.getAttribute("data-precedence"),h=r.get(b)||o,h===o&&r.set(null,d),r.set(b,d),this.count++,o=Cl.bind(this),d.addEventListener("load",o),d.addEventListener("error",o),h?h.parentNode.insertBefore(d,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var Cs={$$typeof:w,Provider:null,Consumer:null,_currentValue:U,_currentValue2:U,_threadCount:0};function aw(e,n,r,o,d,h,b,T,$){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Lr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lr(0),this.hiddenUpdates=Lr(null),this.identifierPrefix=o,this.onUncaughtError=d,this.onCaughtError=h,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function v0(e,n,r,o,d,h,b,T,$,K,ae,re){return e=new aw(e,n,r,b,$,K,ae,re,T),n=1,h===!0&&(n|=24),h=kt(3,null,null,n),e.current=h,h.stateNode=e,n=$u(),n.refCount++,e.pooledCache=n,n.refCount++,h.memoizedState={element:o,isDehydrated:r,cache:n},Xu(h),e}function b0(e){return e?(e=Yi,e):Yi}function w0(e,n,r,o,d,h){d=b0(d),o.context===null?o.context=d:o.pendingContext=d,o=va(n),o.payload={element:r},h=h===void 0?null:h,h!==null&&(o.callback=h),r=ba(e,o,n),r!==null&&(zt(r,e,n),rs(r,e,n))}function S0(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function cf(e,n){S0(e,n),(e=e.alternate)&&S0(e,n)}function N0(e){if(e.tag===13||e.tag===31){var n=ei(e,67108864);n!==null&&zt(n,e,67108864),cf(e,67108864)}}function E0(e){if(e.tag===13||e.tag===31){var n=$t();n=Ur(n);var r=ei(e,n);r!==null&&zt(r,e,n),cf(e,n)}}var Al=!0;function iw(e,n,r,o){var d=R.T;R.T=null;var h=D.p;try{D.p=2,uf(e,n,r,o)}finally{D.p=h,R.T=d}}function rw(e,n,r,o){var d=R.T;R.T=null;var h=D.p;try{D.p=8,uf(e,n,r,o)}finally{D.p=h,R.T=d}}function uf(e,n,r,o){if(Al){var d=df(o);if(d===null)Id(e,n,o,Rl,r),_0(e,o);else if(ow(d,e,n,r,o))o.stopPropagation();else if(_0(e,o),n&4&&-1<sw.indexOf(e)){for(;d!==null;){var h=ca(d);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var b=Rn(h.pendingLanes);if(b!==0){var T=h;for(T.pendingLanes|=2,T.entangledLanes|=2;b;){var $=1<<31-St(b);T.entanglements[1]|=$,b&=~$}bn(h),(Be&6)===0&&(hl=ht()+500,ws(0))}}break;case 31:case 13:T=ei(h,2),T!==null&&zt(T,h,2),pl(),cf(h,2)}if(h=df(o),h===null&&Id(e,n,o,Rl,r),h===d)break;d=h}d!==null&&o.stopPropagation()}else Id(e,n,o,null,r)}}function df(e){return e=fu(e),ff(e)}var Rl=null;function ff(e){if(Rl=null,e=la(e),e!==null){var n=u(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=f(n),e!==null)return e;e=null}else if(r===31){if(e=m(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Rl=e,null}function j0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_i()){case An:return 2;case oa:return 8;case Xa:case Wc:return 32;case Ci:return 268435456;default:return 32}default:return 32}}var hf=!1,Ra=null,za=null,Da=null,Ts=new Map,Ms=new Map,Oa=[],sw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _0(e,n){switch(e){case"focusin":case"focusout":Ra=null;break;case"dragenter":case"dragleave":za=null;break;case"mouseover":case"mouseout":Da=null;break;case"pointerover":case"pointerout":Ts.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ms.delete(n.pointerId)}}function As(e,n,r,o,d,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:h,targetContainers:[d]},n!==null&&(n=ca(n),n!==null&&N0(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function ow(e,n,r,o,d){switch(n){case"focusin":return Ra=As(Ra,e,n,r,o,d),!0;case"dragenter":return za=As(za,e,n,r,o,d),!0;case"mouseover":return Da=As(Da,e,n,r,o,d),!0;case"pointerover":var h=d.pointerId;return Ts.set(h,As(Ts.get(h)||null,e,n,r,o,d)),!0;case"gotpointercapture":return h=d.pointerId,Ms.set(h,As(Ms.get(h)||null,e,n,r,o,d)),!0}return!1}function C0(e){var n=la(e.target);if(n!==null){var r=u(n);if(r!==null){if(n=r.tag,n===13){if(n=f(r),n!==null){e.blockedOn=n,vo(e.priority,function(){E0(r)});return}}else if(n===31){if(n=m(r),n!==null){e.blockedOn=n,vo(e.priority,function(){E0(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zl(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=df(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);du=o,r.target.dispatchEvent(o),du=null}else return n=ca(r),n!==null&&N0(n),e.blockedOn=r,!1;n.shift()}return!0}function T0(e,n,r){zl(e)&&r.delete(n)}function lw(){hf=!1,Ra!==null&&zl(Ra)&&(Ra=null),za!==null&&zl(za)&&(za=null),Da!==null&&zl(Da)&&(Da=null),Ts.forEach(T0),Ms.forEach(T0)}function Dl(e,n){e.blockedOn===n&&(e.blockedOn=null,hf||(hf=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,lw)))}var Ol=null;function M0(e){Ol!==e&&(Ol=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ol===e&&(Ol=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],d=e[n+2];if(typeof o!="function"){if(ff(o||r)===null)continue;break}var h=ca(r);h!==null&&(e.splice(n,3),n-=3,ud(h,{pending:!0,data:d,method:r.method,action:o},o,d))}}))}function hr(e){function n($){return Dl($,e)}Ra!==null&&Dl(Ra,e),za!==null&&Dl(za,e),Da!==null&&Dl(Da,e),Ts.forEach(n),Ms.forEach(n);for(var r=0;r<Oa.length;r++){var o=Oa[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Oa.length&&(r=Oa[0],r.blockedOn===null);)C0(r),r.blockedOn===null&&Oa.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var d=r[o],h=r[o+1],b=d[vt]||null;if(typeof h=="function")b||M0(r);else if(b){var T=null;if(h&&h.hasAttribute("formAction")){if(d=h,b=h[vt]||null)T=b.formAction;else if(ff(d)!==null)continue}else T=b.action;typeof T=="function"?r[o+1]=T:(r.splice(o,3),o-=3),M0(r)}}}function A0(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(b){return d=b})},focusReset:"manual",scroll:"manual"})}function n(){d!==null&&(d(),d=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),d!==null&&(d(),d=null)}}}function mf(e){this._internalRoot=e}kl.prototype.render=mf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,o=$t();w0(r,o,e,n,null,null)},kl.prototype.unmount=mf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;w0(e.current,2,null,e,null,null),pl(),n[zn]=null}};function kl(e){this._internalRoot=e}kl.prototype.unstable_scheduleHydration=function(e){if(e){var n=xo();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Oa.length&&n!==0&&n<Oa[r].priority;r++);Oa.splice(r,0,e),r===0&&C0(e)}};var R0=a.version;if(R0!=="19.2.3")throw Error(s(527,R0,"19.2.3"));D.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(n),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var cw={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bl.isDisabled&&Bl.supportsFiber)try{Ga=Bl.inject(cw),wt=Bl}catch{}}return zs.createRoot=function(e,n){if(!l(e))throw Error(s(299));var r=!1,o="",d=Lp,h=Up,b=$p;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError)),n=v0(e,1,!1,null,null,r,o,null,d,h,b,A0),e[zn]=n.current,Pd(e),new mf(n)},zs.hydrateRoot=function(e,n,r){if(!l(e))throw Error(s(299));var o=!1,d="",h=Lp,b=Up,T=$p,$=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(b=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.formState!==void 0&&($=r.formState)),n=v0(e,1,!0,n,r??null,o,d,$,h,b,T,A0),n.context=b0(null),r=n.current,o=$t(),o=Ur(o),d=va(o),d.callback=null,ba(r,d,o),r=o,n.current.lanes=r,Qa(n,r),bn(n),e[zn]=n.current,Pd(e),new kl(n)},zs.version="19.2.3",zs}var q0;function xw(){if(q0)return yf.exports;q0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(a){console.error(a)}}return t(),yf.exports=yw(),yf.exports}var vw=xw();const bw=mh(vw);var V0="popstate";function ww(t={}){function a(s,l){let{pathname:u,search:f,hash:m}=s.location;return Vf("",{pathname:u,search:f,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function i(s,l){return typeof l=="string"?l:Ys(l)}return Nw(a,i,null,t)}function Pe(t,a){if(t===!1||t===null||typeof t>"u")throw new Error(a)}function Yt(t,a){if(!t){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function Sw(){return Math.random().toString(36).substring(2,10)}function Y0(t,a){return{usr:t.state,key:t.key,idx:a}}function Vf(t,a,i=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof a=="string"?zr(a):a,state:i,key:a&&a.key||s||Sw()}}function Ys({pathname:t="/",search:a="",hash:i=""}){return a&&a!=="?"&&(t+=a.charAt(0)==="?"?a:"?"+a),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function zr(t){let a={};if(t){let i=t.indexOf("#");i>=0&&(a.hash=t.substring(i),t=t.substring(0,i));let s=t.indexOf("?");s>=0&&(a.search=t.substring(s),t=t.substring(0,s)),t&&(a.pathname=t)}return a}function Nw(t,a,i,s={}){let{window:l=document.defaultView,v5Compat:u=!1}=s,f=l.history,m="POP",g=null,p=x();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function x(){return(f.state||{idx:null}).idx}function y(){m="POP";let S=x(),j=S==null?null:S-p;p=S,g&&g({action:m,location:A.location,delta:j})}function v(S,j){m="PUSH";let _=Vf(A.location,S,j);p=x()+1;let w=Y0(_,p),M=A.createHref(_);try{f.pushState(w,"",M)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;l.location.assign(M)}u&&g&&g({action:m,location:A.location,delta:1})}function N(S,j){m="REPLACE";let _=Vf(A.location,S,j);p=x();let w=Y0(_,p),M=A.createHref(_);f.replaceState(w,"",M),u&&g&&g({action:m,location:A.location,delta:0})}function E(S){return Ew(S)}let A={get action(){return m},get location(){return t(l,f)},listen(S){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener(V0,y),g=S,()=>{l.removeEventListener(V0,y),g=null}},createHref(S){return a(l,S)},createURL:E,encodeLocation(S){let j=E(S);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:v,replace:N,go(S){return f.go(S)}};return A}function Ew(t,a=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Pe(i,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Ys(t);return s=s.replace(/ $/,"%20"),!a&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function Sx(t,a,i="/"){return jw(t,a,i,!1)}function jw(t,a,i,s){let l=typeof a=="string"?zr(a):a,u=ta(l.pathname||"/",i);if(u==null)return null;let f=Nx(t);_w(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let p=Hw(u);m=kw(f[g],p,s)}return m}function Nx(t,a=[],i=[],s="",l=!1){let u=(f,m,g=l,p)=>{let x={relativePath:p===void 0?f.path||"":p,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(s)&&g)return;Pe(x.relativePath.startsWith(s),`Absolute route path "${x.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(s.length)}let y=ea([s,x.relativePath]),v=i.concat(x);f.children&&f.children.length>0&&(Pe(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Nx(f.children,a,v,y,g)),!(f.path==null&&!f.index)&&a.push({path:y,score:Dw(y,f.index),routesMeta:v})};return t.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let g of Ex(f.path))u(f,m,!0,g)}),a}function Ex(t){let a=t.split("/");if(a.length===0)return[];let[i,...s]=a,l=i.endsWith("?"),u=i.replace(/\?$/,"");if(s.length===0)return l?[u,""]:[u];let f=Ex(s.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),l&&m.push(...f),m.map(g=>t.startsWith("/")&&g===""?"/":g)}function _w(t){t.sort((a,i)=>a.score!==i.score?i.score-a.score:Ow(a.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var Cw=/^:[\w-]+$/,Tw=3,Mw=2,Aw=1,Rw=10,zw=-2,X0=t=>t==="*";function Dw(t,a){let i=t.split("/"),s=i.length;return i.some(X0)&&(s+=zw),a&&(s+=Mw),i.filter(l=>!X0(l)).reduce((l,u)=>l+(Cw.test(u)?Tw:u===""?Aw:Rw),s)}function Ow(t,a){return t.length===a.length&&t.slice(0,-1).every((s,l)=>s===a[l])?t[t.length-1]-a[a.length-1]:0}function kw(t,a,i=!1){let{routesMeta:s}=t,l={},u="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],p=m===s.length-1,x=u==="/"?a:a.slice(u.length)||"/",y=dc({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},x),v=g.route;if(!y&&p&&i&&!s[s.length-1].route.index&&(y=dc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},x)),!y)return null;Object.assign(l,y.params),f.push({params:l,pathname:ea([u,y.pathname]),pathnameBase:qw(ea([u,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(u=ea([u,y.pathnameBase]))}return f}function dc(t,a){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[i,s]=Bw(t.path,t.caseSensitive,t.end),l=a.match(i);if(!l)return null;let u=l[0],f=u.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:s.reduce((p,{paramName:x,isOptional:y},v)=>{if(x==="*"){let E=m[v]||"";f=u.slice(0,u.length-E.length).replace(/(.)\/+$/,"$1")}const N=m[v];return y&&!N?p[x]=void 0:p[x]=(N||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:f,pattern:t}}function Bw(t,a=!1,i=!0){Yt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],l="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),l+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?l+="\\/*$":t!==""&&t!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,a?void 0:"i"),s]}function Hw(t){try{return t.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Yt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),t}}function ta(t,a){if(a==="/")return t;if(!t.toLowerCase().startsWith(a.toLowerCase()))return null;let i=a.endsWith("/")?a.length-1:a.length,s=t.charAt(i);return s&&s!=="/"?null:t.slice(i)||"/"}var jx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lw=t=>jx.test(t);function Uw(t,a="/"){let{pathname:i,search:s="",hash:l=""}=typeof t=="string"?zr(t):t,u;if(i)if(Lw(i))u=i;else{if(i.includes("//")){let f=i;i=i.replace(/\/\/+/g,"/"),Yt(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${i}`)}i.startsWith("/")?u=G0(i.substring(1),"/"):u=G0(i,a)}else u=a;return{pathname:u,search:Vw(s),hash:Yw(l)}}function G0(t,a){let i=a.replace(/\/+$/,"").split("/");return t.split("/").forEach(l=>{l===".."?i.length>1&&i.pop():l!=="."&&i.push(l)}),i.length>1?i.join("/"):"/"}function wf(t,a,i,s){return`Cannot include a '${t}' character in a manually specified \`to.${a}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $w(t){return t.filter((a,i)=>i===0||a.route.path&&a.route.path.length>0)}function ph(t){let a=$w(t);return a.map((i,s)=>s===a.length-1?i.pathname:i.pathnameBase)}function gh(t,a,i,s=!1){let l;typeof t=="string"?l=zr(t):(l={...t},Pe(!l.pathname||!l.pathname.includes("?"),wf("?","pathname","search",l)),Pe(!l.pathname||!l.pathname.includes("#"),wf("#","pathname","hash",l)),Pe(!l.search||!l.search.includes("#"),wf("#","search","hash",l)));let u=t===""||l.pathname==="",f=u?"/":l.pathname,m;if(f==null)m=i;else{let y=a.length-1;if(!s&&f.startsWith("..")){let v=f.split("/");for(;v[0]==="..";)v.shift(),y-=1;l.pathname=v.join("/")}m=y>=0?a[y]:"/"}let g=Uw(l,m),p=f&&f!=="/"&&f.endsWith("/"),x=(u||f===".")&&i.endsWith("/");return!g.pathname.endsWith("/")&&(p||x)&&(g.pathname+="/"),g}var ea=t=>t.join("/").replace(/\/\/+/g,"/"),qw=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Vw=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Yw=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Xw=class{constructor(t,a,i,s=!1){this.status=t,this.statusText=a||"",this.internal=s,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function Gw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function Zw(t){return t.map(a=>a.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var _x=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Cx(t,a){let i=t;if(typeof i!="string"||!jx.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let s=i,l=!1;if(_x)try{let u=new URL(window.location.href),f=i.startsWith("//")?new URL(u.protocol+i):new URL(i),m=ta(f.pathname,a);f.origin===u.origin&&m!=null?i=m+f.search+f.hash:l=!0}catch{Yt(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:l,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Tx=["POST","PUT","PATCH","DELETE"];new Set(Tx);var Qw=["GET",...Tx];new Set(Qw);var Dr=C.createContext(null);Dr.displayName="DataRouter";var Tc=C.createContext(null);Tc.displayName="DataRouterState";var Pw=C.createContext(!1),Mx=C.createContext({isTransitioning:!1});Mx.displayName="ViewTransition";var Iw=C.createContext(new Map);Iw.displayName="Fetchers";var Fw=C.createContext(null);Fw.displayName="Await";var Gt=C.createContext(null);Gt.displayName="Navigation";var to=C.createContext(null);to.displayName="Location";var nn=C.createContext({outlet:null,matches:[],isDataRoute:!1});nn.displayName="Route";var yh=C.createContext(null);yh.displayName="RouteError";var Ax="REACT_ROUTER_ERROR",Ww="REDIRECT",Kw="ROUTE_ERROR_RESPONSE";function Jw(t){if(t.startsWith(`${Ax}:${Ww}:{`))try{let a=JSON.parse(t.slice(28));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.location=="string"&&typeof a.reloadDocument=="boolean"&&typeof a.replace=="boolean")return a}catch{}}function eS(t){if(t.startsWith(`${Ax}:${Kw}:{`))try{let a=JSON.parse(t.slice(40));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string")return new Xw(a.status,a.statusText,a.data)}catch{}}function tS(t,{relative:a}={}){Pe(Or(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=C.useContext(Gt),{hash:l,pathname:u,search:f}=no(t,{relative:a}),m=u;return i!=="/"&&(m=u==="/"?i:ea([i,u])),s.createHref({pathname:m,search:f,hash:l})}function Or(){return C.useContext(to)!=null}function ia(){return Pe(Or(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(to).location}var Rx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zx(t){C.useContext(Gt).static||C.useLayoutEffect(t)}function ji(){let{isDataRoute:t}=C.useContext(nn);return t?yS():nS()}function nS(){Pe(Or(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext(Dr),{basename:a,navigator:i}=C.useContext(Gt),{matches:s}=C.useContext(nn),{pathname:l}=ia(),u=JSON.stringify(ph(s)),f=C.useRef(!1);return zx(()=>{f.current=!0}),C.useCallback((g,p={})=>{if(Yt(f.current,Rx),!f.current)return;if(typeof g=="number"){i.go(g);return}let x=gh(g,JSON.parse(u),l,p.relative==="path");t==null&&a!=="/"&&(x.pathname=x.pathname==="/"?a:ea([a,x.pathname])),(p.replace?i.replace:i.push)(x,p.state,p)},[a,i,u,l,t])}var aS=C.createContext(null);function iS(t){let a=C.useContext(nn).outlet;return C.useMemo(()=>a&&C.createElement(aS.Provider,{value:t},a),[a,t])}function rS(){let{matches:t}=C.useContext(nn),a=t[t.length-1];return a?a.params:{}}function no(t,{relative:a}={}){let{matches:i}=C.useContext(nn),{pathname:s}=ia(),l=JSON.stringify(ph(i));return C.useMemo(()=>gh(t,JSON.parse(l),s,a==="path"),[t,l,s,a])}function sS(t,a){return Dx(t,a)}function Dx(t,a,i,s,l){Pe(Or(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=C.useContext(Gt),{matches:f}=C.useContext(nn),m=f[f.length-1],g=m?m.params:{},p=m?m.pathname:"/",x=m?m.pathnameBase:"/",y=m&&m.route;{let _=y&&y.path||"";kx(p,!y||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let v=ia(),N;if(a){let _=typeof a=="string"?zr(a):a;Pe(x==="/"||_.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${_.pathname}" was given in the \`location\` prop.`),N=_}else N=v;let E=N.pathname||"/",A=E;if(x!=="/"){let _=x.replace(/^\//,"").split("/");A="/"+E.replace(/^\//,"").split("/").slice(_.length).join("/")}let S=Sx(t,{pathname:A});Yt(y||S!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),Yt(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=dS(S&&S.map(_=>Object.assign({},_,{params:Object.assign({},g,_.params),pathname:ea([x,u.encodeLocation?u.encodeLocation(_.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?x:ea([x,u.encodeLocation?u.encodeLocation(_.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathnameBase])})),f,i,s,l);return a&&j?C.createElement(to.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},j):j}function oS(){let t=gS(),a=Gw(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),i=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",t),f=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:u},"ErrorBoundary")," or"," ",C.createElement("code",{style:u},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},a),i?C.createElement("pre",{style:l},i):null,f)}var lS=C.createElement(oS,null),Ox=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,a){return a.location!==t.location||a.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:a.error,location:a.location,revalidation:t.revalidation||a.revalidation}}componentDidCatch(t,a){this.props.onError?this.props.onError(t,a):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const i=eS(t.digest);i&&(t=i)}let a=t!==void 0?C.createElement(nn.Provider,{value:this.props.routeContext},C.createElement(yh.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?C.createElement(cS,{error:t},a):a}};Ox.contextType=Pw;var Sf=new WeakMap;function cS({children:t,error:a}){let{basename:i}=C.useContext(Gt);if(typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){let s=Jw(a.digest);if(s){let l=Sf.get(a);if(l)throw l;let u=Cx(s.location,i);if(_x&&!Sf.get(a))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Sf.set(a,f),f}return C.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return t}function uS({routeContext:t,match:a,children:i}){let s=C.useContext(Dr);return s&&s.static&&s.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=a.route.id),C.createElement(nn.Provider,{value:t},i)}function dS(t,a=[],i=null,s=null,l=null){if(t==null){if(!i)return null;if(i.errors)t=i.matches;else if(a.length===0&&!i.initialized&&i.matches.length>0)t=i.matches;else return null}let u=t,f=i?.errors;if(f!=null){let x=u.findIndex(y=>y.route.id&&f?.[y.route.id]!==void 0);Pe(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,x+1))}let m=!1,g=-1;if(i)for(let x=0;x<u.length;x++){let y=u[x];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(g=x),y.route.id){let{loaderData:v,errors:N}=i,E=y.route.loader&&!v.hasOwnProperty(y.route.id)&&(!N||N[y.route.id]===void 0);if(y.route.lazy||E){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let p=i&&s?(x,y)=>{s(x,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:Zw(i.matches),errorInfo:y})}:void 0;return u.reduceRight((x,y,v)=>{let N,E=!1,A=null,S=null;i&&(N=f&&y.route.id?f[y.route.id]:void 0,A=y.route.errorElement||lS,m&&(g<0&&v===0?(kx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,S=null):g===v&&(E=!0,S=y.route.hydrateFallbackElement||null)));let j=a.concat(u.slice(0,v+1)),_=()=>{let w;return N?w=A:E?w=S:y.route.Component?w=C.createElement(y.route.Component,null):y.route.element?w=y.route.element:w=x,C.createElement(uS,{match:y,routeContext:{outlet:x,matches:j,isDataRoute:i!=null},children:w})};return i&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?C.createElement(Ox,{location:i.location,revalidation:i.revalidation,component:A,error:N,children:_(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:p}):_()},null)}function xh(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fS(t){let a=C.useContext(Dr);return Pe(a,xh(t)),a}function hS(t){let a=C.useContext(Tc);return Pe(a,xh(t)),a}function mS(t){let a=C.useContext(nn);return Pe(a,xh(t)),a}function vh(t){let a=mS(t),i=a.matches[a.matches.length-1];return Pe(i.route.id,`${t} can only be used on routes that contain a unique "id"`),i.route.id}function pS(){return vh("useRouteId")}function gS(){let t=C.useContext(yh),a=hS("useRouteError"),i=vh("useRouteError");return t!==void 0?t:a.errors?.[i]}function yS(){let{router:t}=fS("useNavigate"),a=vh("useNavigate"),i=C.useRef(!1);return zx(()=>{i.current=!0}),C.useCallback(async(l,u={})=>{Yt(i.current,Rx),i.current&&(typeof l=="number"?await t.navigate(l):await t.navigate(l,{fromRouteId:a,...u}))},[t,a])}var Z0={};function kx(t,a,i){!a&&!Z0[t]&&(Z0[t]=!0,Yt(!1,i))}C.memo(xS);function xS({routes:t,future:a,state:i,onError:s}){return Dx(t,void 0,i,s,a)}function Yf({to:t,replace:a,state:i,relative:s}){Pe(Or(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=C.useContext(Gt);Yt(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=C.useContext(nn),{pathname:f}=ia(),m=ji(),g=gh(t,ph(u),f,s==="path"),p=JSON.stringify(g);return C.useEffect(()=>{m(JSON.parse(p),{replace:a,state:i,relative:s})},[m,p,s,a,i]),null}function vS(t){return iS(t.context)}function qt(t){Pe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bS({basename:t="/",children:a=null,location:i,navigationType:s="POP",navigator:l,static:u=!1,unstable_useTransitions:f}){Pe(!Or(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=t.replace(/^\/*/,"/"),g=C.useMemo(()=>({basename:m,navigator:l,static:u,unstable_useTransitions:f,future:{}}),[m,l,u,f]);typeof i=="string"&&(i=zr(i));let{pathname:p="/",search:x="",hash:y="",state:v=null,key:N="default"}=i,E=C.useMemo(()=>{let A=ta(p,m);return A==null?null:{location:{pathname:A,search:x,hash:y,state:v,key:N},navigationType:s}},[m,p,x,y,v,N,s]);return Yt(E!=null,`<Router basename="${m}"> is not able to match the URL "${p}${x}${y}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:C.createElement(Gt.Provider,{value:g},C.createElement(to.Provider,{children:a,value:E}))}function wS({children:t,location:a}){return sS(Xf(t),a)}function Xf(t,a=[]){let i=[];return C.Children.forEach(t,(s,l)=>{if(!C.isValidElement(s))return;let u=[...a,l];if(s.type===C.Fragment){i.push.apply(i,Xf(s.props.children,u));return}Pe(s.type===qt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Pe(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Xf(s.props.children,u)),i.push(f)}),i}var Jl="get",ec="application/x-www-form-urlencoded";function Mc(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function SS(t){return Mc(t)&&t.tagName.toLowerCase()==="button"}function NS(t){return Mc(t)&&t.tagName.toLowerCase()==="form"}function ES(t){return Mc(t)&&t.tagName.toLowerCase()==="input"}function jS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function _S(t,a){return t.button===0&&(!a||a==="_self")&&!jS(t)}function Gf(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((a,i)=>{let s=t[i];return a.concat(Array.isArray(s)?s.map(l=>[i,l]):[[i,s]])},[]))}function CS(t,a){let i=Gf(t);return a&&a.forEach((s,l)=>{i.has(l)||a.getAll(l).forEach(u=>{i.append(l,u)})}),i}var Hl=null;function TS(){if(Hl===null)try{new FormData(document.createElement("form"),0),Hl=!1}catch{Hl=!0}return Hl}var MS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Nf(t){return t!=null&&!MS.has(t)?(Yt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ec}"`),null):t}function AS(t,a){let i,s,l,u,f;if(NS(t)){let m=t.getAttribute("action");s=m?ta(m,a):null,i=t.getAttribute("method")||Jl,l=Nf(t.getAttribute("enctype"))||ec,u=new FormData(t)}else if(SS(t)||ES(t)&&(t.type==="submit"||t.type==="image")){let m=t.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=t.getAttribute("formaction")||m.getAttribute("action");if(s=g?ta(g,a):null,i=t.getAttribute("formmethod")||m.getAttribute("method")||Jl,l=Nf(t.getAttribute("formenctype"))||Nf(m.getAttribute("enctype"))||ec,u=new FormData(m,t),!TS()){let{name:p,type:x,value:y}=t;if(x==="image"){let v=p?`${p}.`:"";u.append(`${v}x`,"0"),u.append(`${v}y`,"0")}else p&&u.append(p,y)}}else{if(Mc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Jl,s=null,l=ec,f=t}return u&&l==="text/plain"&&(f=u,u=void 0),{action:s,method:i.toLowerCase(),encType:l,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function bh(t,a){if(t===!1||t===null||typeof t>"u")throw new Error(a)}function RS(t,a,i,s){let l=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i?l.pathname.endsWith("/")?l.pathname=`${l.pathname}_.${s}`:l.pathname=`${l.pathname}.${s}`:l.pathname==="/"?l.pathname=`_root.${s}`:a&&ta(l.pathname,a)==="/"?l.pathname=`${a.replace(/\/$/,"")}/_root.${s}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${s}`,l}async function zS(t,a){if(t.id in a)return a[t.id];try{let i=await import(t.module);return a[t.id]=i,i}catch(i){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function DS(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function OS(t,a,i){let s=await Promise.all(t.map(async l=>{let u=a.routes[l.route.id];if(u){let f=await zS(u,i);return f.links?f.links():[]}return[]}));return LS(s.flat(1).filter(DS).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Q0(t,a,i,s,l,u){let f=(g,p)=>i[p]?g.route.id!==i[p].route.id:!0,m=(g,p)=>i[p].pathname!==g.pathname||i[p].route.path?.endsWith("*")&&i[p].params["*"]!==g.params["*"];return u==="assets"?a.filter((g,p)=>f(g,p)||m(g,p)):u==="data"?a.filter((g,p)=>{let x=s.routes[g.route.id];if(!x||!x.hasLoader)return!1;if(f(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let y=g.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function kS(t,a,{includeHydrateFallback:i}={}){return BS(t.map(s=>{let l=a.routes[s.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),i&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function BS(t){return[...new Set(t)]}function HS(t){let a={},i=Object.keys(t).sort();for(let s of i)a[s]=t[s];return a}function LS(t,a){let i=new Set;return new Set(a),t.reduce((s,l)=>{let u=JSON.stringify(HS(l));return i.has(u)||(i.add(u),s.push({key:u,link:l})),s},[])}function Bx(){let t=C.useContext(Dr);return bh(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function US(){let t=C.useContext(Tc);return bh(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var wh=C.createContext(void 0);wh.displayName="FrameworkContext";function Hx(){let t=C.useContext(wh);return bh(t,"You must render this element inside a <HydratedRouter> element"),t}function $S(t,a){let i=C.useContext(wh),[s,l]=C.useState(!1),[u,f]=C.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:x,onTouchStart:y}=a,v=C.useRef(null);C.useEffect(()=>{if(t==="render"&&f(!0),t==="viewport"){let A=j=>{j.forEach(_=>{f(_.isIntersecting)})},S=new IntersectionObserver(A,{threshold:.5});return v.current&&S.observe(v.current),()=>{S.disconnect()}}},[t]),C.useEffect(()=>{if(s){let A=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(A)}}},[s]);let N=()=>{l(!0)},E=()=>{l(!1),f(!1)};return i?t!=="intent"?[u,v,{}]:[u,v,{onFocus:Ds(m,N),onBlur:Ds(g,E),onMouseEnter:Ds(p,N),onMouseLeave:Ds(x,E),onTouchStart:Ds(y,N)}]:[!1,v,{}]}function Ds(t,a){return i=>{t&&t(i),i.defaultPrevented||a(i)}}function qS({page:t,...a}){let{router:i}=Bx(),s=C.useMemo(()=>Sx(i.routes,t,i.basename),[i.routes,t,i.basename]);return s?C.createElement(YS,{page:t,matches:s,...a}):null}function VS(t){let{manifest:a,routeModules:i}=Hx(),[s,l]=C.useState([]);return C.useEffect(()=>{let u=!1;return OS(t,a,i).then(f=>{u||l(f)}),()=>{u=!0}},[t,a,i]),s}function YS({page:t,matches:a,...i}){let s=ia(),{future:l,manifest:u,routeModules:f}=Hx(),{basename:m}=Bx(),{loaderData:g,matches:p}=US(),x=C.useMemo(()=>Q0(t,a,p,u,s,"data"),[t,a,p,u,s]),y=C.useMemo(()=>Q0(t,a,p,u,s,"assets"),[t,a,p,u,s]),v=C.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let A=new Set,S=!1;if(a.forEach(_=>{let w=u.routes[_.route.id];!w||!w.hasLoader||(!x.some(M=>M.route.id===_.route.id)&&_.route.id in g&&f[_.route.id]?.shouldRevalidate||w.hasClientLoader?S=!0:A.add(_.route.id))}),A.size===0)return[];let j=RS(t,m,l.unstable_trailingSlashAwareDataRequests,"data");return S&&A.size>0&&j.searchParams.set("_routes",a.filter(_=>A.has(_.route.id)).map(_=>_.route.id).join(",")),[j.pathname+j.search]},[m,l.unstable_trailingSlashAwareDataRequests,g,s,u,x,a,t,f]),N=C.useMemo(()=>kS(y,u),[y,u]),E=VS(y);return C.createElement(C.Fragment,null,v.map(A=>C.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...i})),N.map(A=>C.createElement("link",{key:A,rel:"modulepreload",href:A,...i})),E.map(({key:A,link:S})=>C.createElement("link",{key:A,nonce:i.nonce,...S})))}function XS(...t){return a=>{t.forEach(i=>{typeof i=="function"?i(a):i!=null&&(i.current=a)})}}var GS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{GS&&(window.__reactRouterVersion="7.12.0")}catch{}function ZS({basename:t,children:a,unstable_useTransitions:i,window:s}){let l=C.useRef();l.current==null&&(l.current=ww({window:s,v5Compat:!0}));let u=l.current,[f,m]=C.useState({action:u.action,location:u.location}),g=C.useCallback(p=>{i===!1?m(p):C.startTransition(()=>m(p))},[i]);return C.useLayoutEffect(()=>u.listen(g),[u,g]),C.createElement(bS,{basename:t,children:a,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:i})}var Lx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gi=C.forwardRef(function({onClick:a,discover:i="render",prefetch:s="none",relative:l,reloadDocument:u,replace:f,state:m,target:g,to:p,preventScrollReset:x,viewTransition:y,unstable_defaultShouldRevalidate:v,...N},E){let{basename:A,unstable_useTransitions:S}=C.useContext(Gt),j=typeof p=="string"&&Lx.test(p),_=Cx(p,A);p=_.to;let w=tS(p,{relative:l}),[M,B,L]=$S(s,N),O=IS(p,{replace:f,state:m,target:g,preventScrollReset:x,relative:l,viewTransition:y,unstable_defaultShouldRevalidate:v,unstable_useTransitions:S});function X(se){a&&a(se),se.defaultPrevented||O(se)}let J=C.createElement("a",{...N,...L,href:_.absoluteURL||w,onClick:_.isExternal||u?a:X,ref:XS(E,B),target:g,"data-discover":!j&&i==="render"?"true":void 0});return M&&!j?C.createElement(C.Fragment,null,J,C.createElement(qS,{page:w})):J});gi.displayName="Link";var Ux=C.forwardRef(function({"aria-current":a="page",caseSensitive:i=!1,className:s="",end:l=!1,style:u,to:f,viewTransition:m,children:g,...p},x){let y=no(f,{relative:p.relative}),v=ia(),N=C.useContext(Tc),{navigator:E,basename:A}=C.useContext(Gt),S=N!=null&&tN(y)&&m===!0,j=E.encodeLocation?E.encodeLocation(y).pathname:y.pathname,_=v.pathname,w=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;i||(_=_.toLowerCase(),w=w?w.toLowerCase():null,j=j.toLowerCase()),w&&A&&(w=ta(w,A)||w);const M=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let B=_===j||!l&&_.startsWith(j)&&_.charAt(M)==="/",L=w!=null&&(w===j||!l&&w.startsWith(j)&&w.charAt(j.length)==="/"),O={isActive:B,isPending:L,isTransitioning:S},X=B?a:void 0,J;typeof s=="function"?J=s(O):J=[s,B?"active":null,L?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let se=typeof u=="function"?u(O):u;return C.createElement(gi,{...p,"aria-current":X,className:J,ref:x,style:se,to:f,viewTransition:m},typeof g=="function"?g(O):g)});Ux.displayName="NavLink";var QS=C.forwardRef(({discover:t="render",fetcherKey:a,navigate:i,reloadDocument:s,replace:l,state:u,method:f=Jl,action:m,onSubmit:g,relative:p,preventScrollReset:x,viewTransition:y,unstable_defaultShouldRevalidate:v,...N},E)=>{let{unstable_useTransitions:A}=C.useContext(Gt),S=JS(),j=eN(m,{relative:p}),_=f.toLowerCase()==="get"?"get":"post",w=typeof m=="string"&&Lx.test(m),M=B=>{if(g&&g(B),B.defaultPrevented)return;B.preventDefault();let L=B.nativeEvent.submitter,O=L?.getAttribute("formmethod")||f,X=()=>S(L||B.currentTarget,{fetcherKey:a,method:O,navigate:i,replace:l,state:u,relative:p,preventScrollReset:x,viewTransition:y,unstable_defaultShouldRevalidate:v});A&&i!==!1?C.startTransition(()=>X()):X()};return C.createElement("form",{ref:E,method:_,action:j,onSubmit:s?g:M,...N,"data-discover":!w&&t==="render"?"true":void 0})});QS.displayName="Form";function PS(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $x(t){let a=C.useContext(Dr);return Pe(a,PS(t)),a}function IS(t,{target:a,replace:i,state:s,preventScrollReset:l,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let p=ji(),x=ia(),y=no(t,{relative:u});return C.useCallback(v=>{if(_S(v,a)){v.preventDefault();let N=i!==void 0?i:Ys(x)===Ys(y),E=()=>p(t,{replace:N,state:s,preventScrollReset:l,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});g?C.startTransition(()=>E()):E()}},[x,p,y,i,s,a,t,l,u,f,m,g])}function FS(t){Yt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let a=C.useRef(Gf(t)),i=C.useRef(!1),s=ia(),l=C.useMemo(()=>CS(s.search,i.current?null:a.current),[s.search]),u=ji(),f=C.useCallback((m,g)=>{const p=Gf(typeof m=="function"?m(new URLSearchParams(l)):m);i.current=!0,u("?"+p,g)},[u,l]);return[l,f]}var WS=0,KS=()=>`__${String(++WS)}__`;function JS(){let{router:t}=$x("useSubmit"),{basename:a}=C.useContext(Gt),i=pS(),s=t.fetch,l=t.navigate;return C.useCallback(async(u,f={})=>{let{action:m,method:g,encType:p,formData:x,body:y}=AS(u,a);if(f.navigate===!1){let v=f.fetcherKey||KS();await s(v,i,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:x,body:y,formMethod:f.method||g,formEncType:f.encType||p,flushSync:f.flushSync})}else await l(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:x,body:y,formMethod:f.method||g,formEncType:f.encType||p,replace:f.replace,state:f.state,fromRouteId:i,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,l,a,i])}function eN(t,{relative:a}={}){let{basename:i}=C.useContext(Gt),s=C.useContext(nn);Pe(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),u={...no(t||".",{relative:a})},f=ia();if(t==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(x=>x==="")){m.delete("index"),g.filter(y=>y).forEach(y=>m.append("index",y));let x=m.toString();u.search=x?`?${x}`:""}}return(!t||t===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:ea([i,u.pathname])),Ys(u)}function tN(t,{relative:a}={}){let i=C.useContext(Mx);Pe(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=$x("useViewTransitionState"),l=no(t,{relative:a});if(!i.isTransitioning)return!1;let u=ta(i.currentLocation.pathname,s)||i.currentLocation.pathname,f=ta(i.nextLocation.pathname,s)||i.nextLocation.pathname;return dc(l.pathname,f)!=null||dc(l.pathname,u)!=null}wx();const P0=t=>{let a;const i=new Set,s=(p,x)=>{const y=typeof p=="function"?p(a):p;if(!Object.is(y,a)){const v=a;a=x??(typeof y!="object"||y===null)?y:Object.assign({},a,y),i.forEach(N=>N(a,v))}},l=()=>a,m={setState:s,getState:l,getInitialState:()=>g,subscribe:p=>(i.add(p),()=>i.delete(p))},g=a=t(s,l,m);return m},nN=(t=>t?P0(t):P0),aN=t=>t;function iN(t,a=aN){const i=gr.useSyncExternalStore(t.subscribe,gr.useCallback(()=>a(t.getState()),[t,a]),gr.useCallback(()=>a(t.getInitialState()),[t,a]));return gr.useDebugValue(i),i}const I0=t=>{const a=nN(t),i=s=>iN(a,s);return Object.assign(i,a),i},qx=(t=>t?I0(t):I0);function rN(t,a){let i;try{i=t()}catch{return}return{getItem:l=>{var u;const f=g=>g===null?null:JSON.parse(g,void 0),m=(u=i.getItem(l))!=null?u:null;return m instanceof Promise?m.then(f):f(m)},setItem:(l,u)=>i.setItem(l,JSON.stringify(u,void 0)),removeItem:l=>i.removeItem(l)}}const Zf=t=>a=>{try{const i=t(a);return i instanceof Promise?i:{then(s){return Zf(s)(i)},catch(s){return this}}}catch(i){return{then(s){return this},catch(s){return Zf(s)(i)}}}},sN=(t,a)=>(i,s,l)=>{let u={storage:rN(()=>localStorage),partialize:S=>S,version:0,merge:(S,j)=>({...j,...S}),...a},f=!1,m=0;const g=new Set,p=new Set;let x=u.storage;if(!x)return t((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${u.name}', the given storage is currently unavailable.`),i(...S)},s,l);const y=()=>{const S=u.partialize({...s()});return x.setItem(u.name,{state:S,version:u.version})},v=l.setState;l.setState=(S,j)=>(v(S,j),y());const N=t((...S)=>(i(...S),y()),s,l);l.getInitialState=()=>N;let E;const A=()=>{var S,j;if(!x)return;const _=++m;f=!1,g.forEach(M=>{var B;return M((B=s())!=null?B:N)});const w=((j=u.onRehydrateStorage)==null?void 0:j.call(u,(S=s())!=null?S:N))||void 0;return Zf(x.getItem.bind(x))(u.name).then(M=>{if(M)if(typeof M.version=="number"&&M.version!==u.version){if(u.migrate){const B=u.migrate(M.state,M.version);return B instanceof Promise?B.then(L=>[!0,L]):[!0,B]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,M.state];return[!1,void 0]}).then(M=>{var B;if(_!==m)return;const[L,O]=M;if(E=u.merge(O,(B=s())!=null?B:N),i(E,!0),L)return y()}).then(()=>{_===m&&(w?.(E,void 0),E=s(),f=!0,p.forEach(M=>M(E)))}).catch(M=>{_===m&&w?.(void 0,M)})};return l.persist={setOptions:S=>{u={...u,...S},S.storage&&(x=S.storage)},clearStorage:()=>{x?.removeItem(u.name)},getOptions:()=>u,rehydrate:()=>A(),hasHydrated:()=>f,onHydrate:S=>(g.add(S),()=>{g.delete(S)}),onFinishHydration:S=>(p.add(S),()=>{p.delete(S)})},u.skipHydration||A(),E||N},oN=sN,kr=qx(oN(t=>({user:null,token:null,isAuthenticated:!1,login:(a,i)=>{t({user:a,token:i,isAuthenticated:!0})},logout:()=>{t({user:null,token:null,isAuthenticated:!1})},getAuthHeader:()=>{const a=kr.getState();return a.token?{Authorization:`Basic ${a.token}`}:{}}}),{name:"auth-storage"}));const lN=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cN=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,i,s)=>s?s.toUpperCase():i.toLowerCase()),F0=t=>{const a=cN(t);return a.charAt(0).toUpperCase()+a.slice(1)},Vx=(...t)=>t.filter((a,i,s)=>!!a&&a.trim()!==""&&s.indexOf(a)===i).join(" ").trim(),uN=t=>{for(const a in t)if(a.startsWith("aria-")||a==="role"||a==="title")return!0};var dN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const fN=C.forwardRef(({color:t="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:u,iconNode:f,...m},g)=>C.createElement("svg",{ref:g,...dN,width:a,height:a,stroke:t,strokeWidth:s?Number(i)*24/Number(a):i,className:Vx("lucide",l),...!u&&!uN(m)&&{"aria-hidden":"true"},...m},[...f.map(([p,x])=>C.createElement(p,x)),...Array.isArray(u)?u:[u]]));const He=(t,a)=>{const i=C.forwardRef(({className:s,...l},u)=>C.createElement(fN,{ref:u,iconNode:a,className:Vx(`lucide-${lN(F0(t))}`,`lucide-${t}`,s),...l}));return i.displayName=F0(t),i};const hN=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],xi=He("activity",hN);const mN=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],pN=He("arrow-right-left",mN);const gN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],yN=He("arrow-right",gN);const xN=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Sh=He("bot",xN);const vN=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Yx=He("chart-column",vN);const bN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Xx=He("chevron-right",bN);const wN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],fc=He("circle-check-big",wN);const SN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Nh=He("circle-x",SN);const NN=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],hc=He("clock",NN);const EN=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],jN=He("download",EN);const _N=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],CN=He("file-text",_N);const TN=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Gx=He("funnel",TN);const MN=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],Zx=He("git-branch",MN);const AN=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],RN=He("heart",AN);const zN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],DN=He("image",zN);const ON=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],kN=He("layout-dashboard",ON);const BN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],HN=He("log-out",BN);const LN=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],UN=He("map-pin",LN);const $N=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Sr=He("message-square",$N);const qN=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],VN=He("mic",qN);const YN=[["path",{d:"M5 12h14",key:"1ays0h"}]],XN=He("minus",YN);const GN=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Ac=He("phone",GN);const ZN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],QN=He("plus",ZN);const PN=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],IN=He("radio",PN);const FN=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Eh=He("refresh-cw",FN);const WN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Qx=He("search",WN);const KN=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],JN=He("send",KN);const eE=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],tE=He("trending-up",eE);const nE=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Px=He("user",nE);const aE=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Rc=He("users",aE);const iE=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],rE=He("x",iE),sE=[{to:"/dashboard",icon:kN,label:"Dashboard"},{to:"/conversations",icon:Sr,label:"Conversaciones"},{to:"/flows",icon:Zx,label:"Flujos"},{to:"/logs",icon:xi,label:"Logs"},{to:"/leads",icon:Rc,label:"Leads"},{to:"/analytics",icon:Yx,label:"Analytics"},{to:"/monitor",icon:IN,label:"Monitor"}];function oE(){const t=ji(),{user:a,logout:i}=kr(),s=()=>{i(),t("/login")};return c.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[c.jsxs("aside",{className:"w-64 bg-white border-r border-gray-200 flex flex-col",children:[c.jsxs("div",{className:"h-16 flex items-center gap-3 px-6 border-b border-gray-200",children:[c.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-green-700 rounded-xl flex items-center justify-center",children:c.jsx(Sh,{className:"w-6 h-6 text-white"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"font-bold text-gray-800",children:"WhatsApp Bot"}),c.jsx("p",{className:"text-xs text-gray-400",children:"Platform"})]})]}),c.jsx("nav",{className:"flex-1 p-4 space-y-1",children:sE.map(({to:l,icon:u,label:f})=>c.jsxs(Ux,{to:l,className:({isActive:m})=>`flex items-center gap-3 px-4 py-3 rounded-lg transition ${m?"bg-green-50 text-green-600 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:[c.jsx(u,{className:"w-5 h-5"}),c.jsx("span",{children:f})]},l))}),c.jsx("div",{className:"p-4 border-t border-gray-200",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-gray-600 font-medium",children:a?.username?.[0]?.toUpperCase()||"A"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-800",children:a?.username||"Admin"}),c.jsx("p",{className:"text-xs text-gray-400",children:"Administrador"})]})]}),c.jsx("button",{onClick:s,className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition",title:"Cerrar sesin",children:c.jsx(HN,{className:"w-5 h-5"})})]})})]}),c.jsx("main",{className:"flex-1 overflow-auto",children:c.jsx(vS,{})})]})}async function lE(t,a){const i=btoa(`${t}:${a}`);if(!(await fetch("/api/chatbot/stats",{headers:{Authorization:`Basic ${i}`}})).ok)throw new Error("Credenciales invlidas");return{user:{username:t},token:i}}function cE(){const[t,a]=C.useState(""),[i,s]=C.useState(""),[l,u]=C.useState(""),[f,m]=C.useState(!1),g=ji(),p=kr(y=>y.login),x=async y=>{y.preventDefault(),u(""),m(!0);try{const{user:v,token:N}=await lE(t,i);p(v,N),g("/dashboard")}catch(v){u(v.message||"Error al iniciar sesin")}finally{m(!1)}};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-green-100 flex items-center justify-center p-5",children:c.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md p-10",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"w-18 h-18 bg-gradient-to-br from-green-500 to-green-700 rounded-2xl flex items-center justify-center mx-auto mb-5 p-4",children:c.jsx("svg",{className:"w-11 h-11 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})})}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"WhatsApp Bot Platform"}),c.jsx("p",{className:"text-gray-500 text-sm",children:"Ingresa tus credenciales para continuar"})]}),c.jsxs("form",{onSubmit:x,children:[l&&c.jsx("div",{className:"bg-red-50 text-red-600 px-4 py-3 rounded-xl text-sm mb-5 border border-red-200",children:l}),c.jsxs("div",{className:"mb-5",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Usuario"}),c.jsx("input",{type:"text",value:t,onChange:y=>a(y.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-base outline-none transition-colors focus:border-green-500",placeholder:"admin",required:!0})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrasea"}),c.jsx("input",{type:"password",value:i,onChange:y=>s(y.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl text-base outline-none transition-colors focus:border-green-500",placeholder:"",required:!0})]}),c.jsx("button",{type:"submit",disabled:f,className:"w-full bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-semibold py-3.5 px-5 rounded-xl text-base transition-all shadow-lg shadow-green-500/30 disabled:opacity-60 disabled:cursor-not-allowed",children:f?"Ingresando...":"Ingresar"})]}),c.jsx("p",{className:"text-center text-gray-400 text-xs mt-8",children:"Respaldos Chile  2025"})]})})}const ao=()=>{const t=kr.getState().token;return{"Content-Type":"application/json",...t?{Authorization:`Basic ${t}`}:{}}};async function Ix(){const t=await fetch("/api/chat/conversations",{headers:ao()});if(!t.ok)throw new Error("Error loading conversations");return t.json()}async function uE(t){const a=await fetch(`/api/chat/conversations/${encodeURIComponent(t)}`,{headers:ao()});if(!a.ok)throw new Error("Error loading conversation");return a.json()}async function dE(t,a){const i=await fetch("/api/chat/send",{method:"POST",headers:ao(),body:JSON.stringify({to:t,message:a})});if(!i.ok)throw new Error("Error sending message");return i.json()}async function W0(t){const a=await fetch("/api/chat/mark-read",{method:"POST",headers:ao(),body:JSON.stringify({phone:t})});if(!a.ok)throw new Error("Error marking as read");return a.json()}async function fE(){const t=await fetch("/api/chatbot/stats",{headers:ao()});if(!t.ok)throw new Error("Error loading stats");return t.json()}function Ll({title:t,value:a,icon:i,color:s="green",subtitle:l}){const u={green:"bg-green-50 text-green-600",blue:"bg-blue-50 text-blue-600",yellow:"bg-yellow-50 text-yellow-600",purple:"bg-purple-50 text-purple-600",red:"bg-red-50 text-red-600"};return c.jsx("div",{className:"bg-white rounded-xl p-6 border border-gray-100 shadow-sm",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-500 font-medium",children:t}),c.jsx("p",{className:"text-3xl font-bold text-gray-800 mt-2",children:a}),l&&c.jsx("p",{className:"text-xs text-gray-400 mt-1",children:l})]}),i&&c.jsx("div",{className:`p-3 rounded-xl ${u[s]}`,children:c.jsx(i,{className:"w-6 h-6"})})]})})}const Fx=6048e5,hE=864e5,Ul=43200,K0=1440,J0=Symbol.for("constructDateFrom");function na(t,a){return typeof t=="function"?t(a):t&&typeof t=="object"&&J0 in t?t[J0](a):t instanceof Date?new t.constructor(a):new Date(a)}function ft(t,a){return na(a||t,t)}let mE={};function io(){return mE}function Xs(t,a){const i=io(),s=a?.weekStartsOn??a?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,l=ft(t,a?.in),u=l.getDay(),f=(u<s?7:0)+u-s;return l.setDate(l.getDate()-f),l.setHours(0,0,0,0),l}function mc(t,a){return Xs(t,{...a,weekStartsOn:1})}function Wx(t,a){const i=ft(t,a?.in),s=i.getFullYear(),l=na(i,0);l.setFullYear(s+1,0,4),l.setHours(0,0,0,0);const u=mc(l),f=na(i,0);f.setFullYear(s,0,4),f.setHours(0,0,0,0);const m=mc(f);return i.getTime()>=u.getTime()?s+1:i.getTime()>=m.getTime()?s:s-1}function pc(t){const a=ft(t),i=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return i.setUTCFullYear(a.getFullYear()),+t-+i}function zc(t,...a){const i=na.bind(null,t||a.find(s=>typeof s=="object"));return a.map(i)}function ey(t,a){const i=ft(t,a?.in);return i.setHours(0,0,0,0),i}function pE(t,a,i){const[s,l]=zc(i?.in,t,a),u=ey(s),f=ey(l),m=+u-pc(u),g=+f-pc(f);return Math.round((m-g)/hE)}function gE(t,a){const i=Wx(t,a),s=na(t,0);return s.setFullYear(i,0,4),s.setHours(0,0,0,0),mc(s)}function tc(t,a){const i=+ft(t)-+ft(a);return i<0?-1:i>0?1:i}function yE(t){return na(t,Date.now())}function xE(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function vE(t){return!(!xE(t)&&typeof t!="number"||isNaN(+ft(t)))}function bE(t,a,i){const[s,l]=zc(i?.in,t,a),u=s.getFullYear()-l.getFullYear(),f=s.getMonth()-l.getMonth();return u*12+f}function wE(t){return a=>{const s=(t?Math[t]:Math.trunc)(a);return s===0?0:s}}function SE(t,a){return+ft(t)-+ft(a)}function NE(t,a){const i=ft(t,a?.in);return i.setHours(23,59,59,999),i}function EE(t,a){const i=ft(t,a?.in),s=i.getMonth();return i.setFullYear(i.getFullYear(),s+1,0),i.setHours(23,59,59,999),i}function jE(t,a){const i=ft(t,a?.in);return+NE(i,a)==+EE(i,a)}function _E(t,a,i){const[s,l,u]=zc(i?.in,t,t,a),f=tc(l,u),m=Math.abs(bE(l,u));if(m<1)return 0;l.getMonth()===1&&l.getDate()>27&&l.setDate(30),l.setMonth(l.getMonth()-f*m);let g=tc(l,u)===-f;jE(s)&&m===1&&tc(s,u)===1&&(g=!1);const p=f*(m-+g);return p===0?0:p}function CE(t,a,i){const s=SE(t,a)/1e3;return wE(i?.roundingMethod)(s)}function TE(t,a){const i=ft(t,a?.in);return i.setFullYear(i.getFullYear(),0,1),i.setHours(0,0,0,0),i}const ME={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},AE=(t,a,i)=>{let s;const l=ME[t];return typeof l=="string"?s=l:a===1?s=l.one:s=l.other.replace("{{count}}",a.toString()),i?.addSuffix?i.comparison&&i.comparison>0?"in "+s:s+" ago":s};function vr(t){return(a={})=>{const i=a.width?String(a.width):t.defaultWidth;return t.formats[i]||t.formats[t.defaultWidth]}}const RE={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},zE={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},DE={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},OE={date:vr({formats:RE,defaultWidth:"full"}),time:vr({formats:zE,defaultWidth:"full"}),dateTime:vr({formats:DE,defaultWidth:"full"})},kE={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},BE=(t,a,i,s)=>kE[t];function Sn(t){return(a,i)=>{const s=i?.context?String(i.context):"standalone";let l;if(s==="formatting"&&t.formattingValues){const f=t.defaultFormattingWidth||t.defaultWidth,m=i?.width?String(i.width):f;l=t.formattingValues[m]||t.formattingValues[f]}else{const f=t.defaultWidth,m=i?.width?String(i.width):t.defaultWidth;l=t.values[m]||t.values[f]}const u=t.argumentCallback?t.argumentCallback(a):a;return l[u]}}const HE={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},LE={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},UE={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},$E={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},qE={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},VE={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},YE=(t,a)=>{const i=Number(t),s=i%100;if(s>20||s<10)switch(s%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},XE={ordinalNumber:YE,era:Sn({values:HE,defaultWidth:"wide"}),quarter:Sn({values:LE,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Sn({values:UE,defaultWidth:"wide"}),day:Sn({values:$E,defaultWidth:"wide"}),dayPeriod:Sn({values:qE,defaultWidth:"wide",formattingValues:VE,defaultFormattingWidth:"wide"})};function Nn(t){return(a,i={})=>{const s=i.width,l=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],u=a.match(l);if(!u)return null;const f=u[0],m=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],g=Array.isArray(m)?ZE(m,y=>y.test(f)):GE(m,y=>y.test(f));let p;p=t.valueCallback?t.valueCallback(g):g,p=i.valueCallback?i.valueCallback(p):p;const x=a.slice(f.length);return{value:p,rest:x}}}function GE(t,a){for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&a(t[i]))return i}function ZE(t,a){for(let i=0;i<t.length;i++)if(a(t[i]))return i}function Kx(t){return(a,i={})=>{const s=a.match(t.matchPattern);if(!s)return null;const l=s[0],u=a.match(t.parsePattern);if(!u)return null;let f=t.valueCallback?t.valueCallback(u[0]):u[0];f=i.valueCallback?i.valueCallback(f):f;const m=a.slice(l.length);return{value:f,rest:m}}}const QE=/^(\d+)(th|st|nd|rd)?/i,PE=/\d+/i,IE={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},FE={any:[/^b/i,/^(a|c)/i]},WE={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},KE={any:[/1/i,/2/i,/3/i,/4/i]},JE={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ej={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},tj={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},nj={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},aj={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ij={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},rj={ordinalNumber:Kx({matchPattern:QE,parsePattern:PE,valueCallback:t=>parseInt(t,10)}),era:Nn({matchPatterns:IE,defaultMatchWidth:"wide",parsePatterns:FE,defaultParseWidth:"any"}),quarter:Nn({matchPatterns:WE,defaultMatchWidth:"wide",parsePatterns:KE,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Nn({matchPatterns:JE,defaultMatchWidth:"wide",parsePatterns:ej,defaultParseWidth:"any"}),day:Nn({matchPatterns:tj,defaultMatchWidth:"wide",parsePatterns:nj,defaultParseWidth:"any"}),dayPeriod:Nn({matchPatterns:aj,defaultMatchWidth:"any",parsePatterns:ij,defaultParseWidth:"any"})},Jx={code:"en-US",formatDistance:AE,formatLong:OE,formatRelative:BE,localize:XE,match:rj,options:{weekStartsOn:0,firstWeekContainsDate:1}};function sj(t,a){const i=ft(t,a?.in);return pE(i,TE(i))+1}function oj(t,a){const i=ft(t,a?.in),s=+mc(i)-+gE(i);return Math.round(s/Fx)+1}function ev(t,a){const i=ft(t,a?.in),s=i.getFullYear(),l=io(),u=a?.firstWeekContainsDate??a?.locale?.options?.firstWeekContainsDate??l.firstWeekContainsDate??l.locale?.options?.firstWeekContainsDate??1,f=na(a?.in||t,0);f.setFullYear(s+1,0,u),f.setHours(0,0,0,0);const m=Xs(f,a),g=na(a?.in||t,0);g.setFullYear(s,0,u),g.setHours(0,0,0,0);const p=Xs(g,a);return+i>=+m?s+1:+i>=+p?s:s-1}function lj(t,a){const i=io(),s=a?.firstWeekContainsDate??a?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,l=ev(t,a),u=na(a?.in||t,0);return u.setFullYear(l,0,s),u.setHours(0,0,0,0),Xs(u,a)}function cj(t,a){const i=ft(t,a?.in),s=+Xs(i,a)-+lj(i,a);return Math.round(s/Fx)+1}function $e(t,a){const i=t<0?"-":"",s=Math.abs(t).toString().padStart(a,"0");return i+s}const Ba={y(t,a){const i=t.getFullYear(),s=i>0?i:1-i;return $e(a==="yy"?s%100:s,a.length)},M(t,a){const i=t.getMonth();return a==="M"?String(i+1):$e(i+1,2)},d(t,a){return $e(t.getDate(),a.length)},a(t,a){const i=t.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return i.toUpperCase();case"aaa":return i;case"aaaaa":return i[0];default:return i==="am"?"a.m.":"p.m."}},h(t,a){return $e(t.getHours()%12||12,a.length)},H(t,a){return $e(t.getHours(),a.length)},m(t,a){return $e(t.getMinutes(),a.length)},s(t,a){return $e(t.getSeconds(),a.length)},S(t,a){const i=a.length,s=t.getMilliseconds(),l=Math.trunc(s*Math.pow(10,i-3));return $e(l,a.length)}},mr={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ty={G:function(t,a,i){const s=t.getFullYear()>0?1:0;switch(a){case"G":case"GG":case"GGG":return i.era(s,{width:"abbreviated"});case"GGGGG":return i.era(s,{width:"narrow"});default:return i.era(s,{width:"wide"})}},y:function(t,a,i){if(a==="yo"){const s=t.getFullYear(),l=s>0?s:1-s;return i.ordinalNumber(l,{unit:"year"})}return Ba.y(t,a)},Y:function(t,a,i,s){const l=ev(t,s),u=l>0?l:1-l;if(a==="YY"){const f=u%100;return $e(f,2)}return a==="Yo"?i.ordinalNumber(u,{unit:"year"}):$e(u,a.length)},R:function(t,a){const i=Wx(t);return $e(i,a.length)},u:function(t,a){const i=t.getFullYear();return $e(i,a.length)},Q:function(t,a,i){const s=Math.ceil((t.getMonth()+1)/3);switch(a){case"Q":return String(s);case"QQ":return $e(s,2);case"Qo":return i.ordinalNumber(s,{unit:"quarter"});case"QQQ":return i.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return i.quarter(s,{width:"narrow",context:"formatting"});default:return i.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,a,i){const s=Math.ceil((t.getMonth()+1)/3);switch(a){case"q":return String(s);case"qq":return $e(s,2);case"qo":return i.ordinalNumber(s,{unit:"quarter"});case"qqq":return i.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return i.quarter(s,{width:"narrow",context:"standalone"});default:return i.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,a,i){const s=t.getMonth();switch(a){case"M":case"MM":return Ba.M(t,a);case"Mo":return i.ordinalNumber(s+1,{unit:"month"});case"MMM":return i.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return i.month(s,{width:"narrow",context:"formatting"});default:return i.month(s,{width:"wide",context:"formatting"})}},L:function(t,a,i){const s=t.getMonth();switch(a){case"L":return String(s+1);case"LL":return $e(s+1,2);case"Lo":return i.ordinalNumber(s+1,{unit:"month"});case"LLL":return i.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return i.month(s,{width:"narrow",context:"standalone"});default:return i.month(s,{width:"wide",context:"standalone"})}},w:function(t,a,i,s){const l=cj(t,s);return a==="wo"?i.ordinalNumber(l,{unit:"week"}):$e(l,a.length)},I:function(t,a,i){const s=oj(t);return a==="Io"?i.ordinalNumber(s,{unit:"week"}):$e(s,a.length)},d:function(t,a,i){return a==="do"?i.ordinalNumber(t.getDate(),{unit:"date"}):Ba.d(t,a)},D:function(t,a,i){const s=sj(t);return a==="Do"?i.ordinalNumber(s,{unit:"dayOfYear"}):$e(s,a.length)},E:function(t,a,i){const s=t.getDay();switch(a){case"E":case"EE":case"EEE":return i.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return i.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(s,{width:"short",context:"formatting"});default:return i.day(s,{width:"wide",context:"formatting"})}},e:function(t,a,i,s){const l=t.getDay(),u=(l-s.weekStartsOn+8)%7||7;switch(a){case"e":return String(u);case"ee":return $e(u,2);case"eo":return i.ordinalNumber(u,{unit:"day"});case"eee":return i.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return i.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(l,{width:"short",context:"formatting"});default:return i.day(l,{width:"wide",context:"formatting"})}},c:function(t,a,i,s){const l=t.getDay(),u=(l-s.weekStartsOn+8)%7||7;switch(a){case"c":return String(u);case"cc":return $e(u,a.length);case"co":return i.ordinalNumber(u,{unit:"day"});case"ccc":return i.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return i.day(l,{width:"narrow",context:"standalone"});case"cccccc":return i.day(l,{width:"short",context:"standalone"});default:return i.day(l,{width:"wide",context:"standalone"})}},i:function(t,a,i){const s=t.getDay(),l=s===0?7:s;switch(a){case"i":return String(l);case"ii":return $e(l,a.length);case"io":return i.ordinalNumber(l,{unit:"day"});case"iii":return i.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return i.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return i.day(s,{width:"short",context:"formatting"});default:return i.day(s,{width:"wide",context:"formatting"})}},a:function(t,a,i){const l=t.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return i.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return i.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return i.dayPeriod(l,{width:"narrow",context:"formatting"});default:return i.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(t,a,i){const s=t.getHours();let l;switch(s===12?l=mr.noon:s===0?l=mr.midnight:l=s/12>=1?"pm":"am",a){case"b":case"bb":return i.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return i.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return i.dayPeriod(l,{width:"narrow",context:"formatting"});default:return i.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(t,a,i){const s=t.getHours();let l;switch(s>=17?l=mr.evening:s>=12?l=mr.afternoon:s>=4?l=mr.morning:l=mr.night,a){case"B":case"BB":case"BBB":return i.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return i.dayPeriod(l,{width:"narrow",context:"formatting"});default:return i.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(t,a,i){if(a==="ho"){let s=t.getHours()%12;return s===0&&(s=12),i.ordinalNumber(s,{unit:"hour"})}return Ba.h(t,a)},H:function(t,a,i){return a==="Ho"?i.ordinalNumber(t.getHours(),{unit:"hour"}):Ba.H(t,a)},K:function(t,a,i){const s=t.getHours()%12;return a==="Ko"?i.ordinalNumber(s,{unit:"hour"}):$e(s,a.length)},k:function(t,a,i){let s=t.getHours();return s===0&&(s=24),a==="ko"?i.ordinalNumber(s,{unit:"hour"}):$e(s,a.length)},m:function(t,a,i){return a==="mo"?i.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ba.m(t,a)},s:function(t,a,i){return a==="so"?i.ordinalNumber(t.getSeconds(),{unit:"second"}):Ba.s(t,a)},S:function(t,a){return Ba.S(t,a)},X:function(t,a,i){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(a){case"X":return ay(s);case"XXXX":case"XX":return mi(s);default:return mi(s,":")}},x:function(t,a,i){const s=t.getTimezoneOffset();switch(a){case"x":return ay(s);case"xxxx":case"xx":return mi(s);default:return mi(s,":")}},O:function(t,a,i){const s=t.getTimezoneOffset();switch(a){case"O":case"OO":case"OOO":return"GMT"+ny(s,":");default:return"GMT"+mi(s,":")}},z:function(t,a,i){const s=t.getTimezoneOffset();switch(a){case"z":case"zz":case"zzz":return"GMT"+ny(s,":");default:return"GMT"+mi(s,":")}},t:function(t,a,i){const s=Math.trunc(+t/1e3);return $e(s,a.length)},T:function(t,a,i){return $e(+t,a.length)}};function ny(t,a=""){const i=t>0?"-":"+",s=Math.abs(t),l=Math.trunc(s/60),u=s%60;return u===0?i+String(l):i+String(l)+a+$e(u,2)}function ay(t,a){return t%60===0?(t>0?"-":"+")+$e(Math.abs(t)/60,2):mi(t,a)}function mi(t,a=""){const i=t>0?"-":"+",s=Math.abs(t),l=$e(Math.trunc(s/60),2),u=$e(s%60,2);return i+l+a+u}const iy=(t,a)=>{switch(t){case"P":return a.date({width:"short"});case"PP":return a.date({width:"medium"});case"PPP":return a.date({width:"long"});default:return a.date({width:"full"})}},tv=(t,a)=>{switch(t){case"p":return a.time({width:"short"});case"pp":return a.time({width:"medium"});case"ppp":return a.time({width:"long"});default:return a.time({width:"full"})}},uj=(t,a)=>{const i=t.match(/(P+)(p+)?/)||[],s=i[1],l=i[2];if(!l)return iy(t,a);let u;switch(s){case"P":u=a.dateTime({width:"short"});break;case"PP":u=a.dateTime({width:"medium"});break;case"PPP":u=a.dateTime({width:"long"});break;default:u=a.dateTime({width:"full"});break}return u.replace("{{date}}",iy(s,a)).replace("{{time}}",tv(l,a))},dj={p:tv,P:uj},fj=/^D+$/,hj=/^Y+$/,mj=["D","DD","YY","YYYY"];function pj(t){return fj.test(t)}function gj(t){return hj.test(t)}function yj(t,a,i){const s=xj(t,a,i);if(console.warn(s),mj.includes(t))throw new RangeError(s)}function xj(t,a,i){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${a}\`) for formatting ${s} to the input \`${i}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const vj=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,bj=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,wj=/^'([^]*?)'?$/,Sj=/''/g,Nj=/[a-zA-Z]/;function Dc(t,a,i){const s=io(),l=i?.locale??s.locale??Jx,u=i?.firstWeekContainsDate??i?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,f=i?.weekStartsOn??i?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,m=ft(t,i?.in);if(!vE(m))throw new RangeError("Invalid time value");let g=a.match(bj).map(x=>{const y=x[0];if(y==="p"||y==="P"){const v=dj[y];return v(x,l.formatLong)}return x}).join("").match(vj).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const y=x[0];if(y==="'")return{isToken:!1,value:Ej(x)};if(ty[y])return{isToken:!0,value:x};if(y.match(Nj))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:x}});l.localize.preprocessor&&(g=l.localize.preprocessor(m,g));const p={firstWeekContainsDate:u,weekStartsOn:f,locale:l};return g.map(x=>{if(!x.isToken)return x.value;const y=x.value;(!i?.useAdditionalWeekYearTokens&&gj(y)||!i?.useAdditionalDayOfYearTokens&&pj(y))&&yj(y,a,String(t));const v=ty[y[0]];return v(m,y,l.localize,p)}).join("")}function Ej(t){const a=t.match(wj);return a?a[1].replace(Sj,"'"):t}function jj(t,a,i){const s=io(),l=i?.locale??s.locale??Jx,u=2520,f=tc(t,a);if(isNaN(f))throw new RangeError("Invalid time value");const m=Object.assign({},i,{addSuffix:i?.addSuffix,comparison:f}),[g,p]=zc(i?.in,...f>0?[a,t]:[t,a]),x=CE(p,g),y=(pc(p)-pc(g))/1e3,v=Math.round((x-y)/60);let N;if(v<2)return i?.includeSeconds?x<5?l.formatDistance("lessThanXSeconds",5,m):x<10?l.formatDistance("lessThanXSeconds",10,m):x<20?l.formatDistance("lessThanXSeconds",20,m):x<40?l.formatDistance("halfAMinute",0,m):x<60?l.formatDistance("lessThanXMinutes",1,m):l.formatDistance("xMinutes",1,m):v===0?l.formatDistance("lessThanXMinutes",1,m):l.formatDistance("xMinutes",v,m);if(v<45)return l.formatDistance("xMinutes",v,m);if(v<90)return l.formatDistance("aboutXHours",1,m);if(v<K0){const E=Math.round(v/60);return l.formatDistance("aboutXHours",E,m)}else{if(v<u)return l.formatDistance("xDays",1,m);if(v<Ul){const E=Math.round(v/K0);return l.formatDistance("xDays",E,m)}else if(v<Ul*2)return N=Math.round(v/Ul),l.formatDistance("aboutXMonths",N,m)}if(N=_E(p,g),N<12){const E=Math.round(v/Ul);return l.formatDistance("xMonths",E,m)}else{const E=N%12,A=Math.trunc(N/12);return E<3?l.formatDistance("aboutXYears",A,m):E<9?l.formatDistance("overXYears",A,m):l.formatDistance("almostXYears",A+1,m)}}function Oc(t,a){return jj(t,yE(t),a)}const _j={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},Cj=(t,a,i)=>{let s;const l=_j[t];return typeof l=="string"?s=l:a===1?s=l.one:s=l.other.replace("{{count}}",a.toString()),i?.addSuffix?i.comparison&&i.comparison>0?"en "+s:"hace "+s:s},Tj={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},Mj={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Aj={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Rj={date:vr({formats:Tj,defaultWidth:"full"}),time:vr({formats:Mj,defaultWidth:"full"}),dateTime:vr({formats:Aj,defaultWidth:"full"})},zj={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},Dj={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},Oj=(t,a,i,s)=>a.getHours()!==1?Dj[t]:zj[t],kj={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},Bj={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},Hj={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},Lj={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},Uj={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},$j={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},qj=(t,a)=>Number(t)+"",Vj={ordinalNumber:qj,era:Sn({values:kj,defaultWidth:"wide"}),quarter:Sn({values:Bj,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:Sn({values:Hj,defaultWidth:"wide"}),day:Sn({values:Lj,defaultWidth:"wide"}),dayPeriod:Sn({values:Uj,defaultWidth:"wide",formattingValues:$j,defaultFormattingWidth:"wide"})},Yj=/^(\d+)()?/i,Xj=/\d+/i,Gj={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},Zj={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},Qj={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},Pj={any:[/1/i,/2/i,/3/i,/4/i]},Ij={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},Fj={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},Wj={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},Kj={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},Jj={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},e_={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},t_={ordinalNumber:Kx({matchPattern:Yj,parsePattern:Xj,valueCallback:function(t){return parseInt(t,10)}}),era:Nn({matchPatterns:Gj,defaultMatchWidth:"wide",parsePatterns:Zj,defaultParseWidth:"any"}),quarter:Nn({matchPatterns:Qj,defaultMatchWidth:"wide",parsePatterns:Pj,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Nn({matchPatterns:Ij,defaultMatchWidth:"wide",parsePatterns:Fj,defaultParseWidth:"any"}),day:Nn({matchPatterns:Wj,defaultMatchWidth:"wide",parsePatterns:Kj,defaultParseWidth:"any"}),dayPeriod:Nn({matchPatterns:Jj,defaultMatchWidth:"any",parsePatterns:e_,defaultParseWidth:"any"})},Nr={code:"es",formatDistance:Cj,formatLong:Rj,formatRelative:Oj,localize:Vj,match:t_,options:{weekStartsOn:1,firstWeekContainsDate:1}};function n_(){const[t,a]=C.useState(null),[i,s]=C.useState([]),[l,u]=C.useState(!0);C.useEffect(()=>{f()},[]);const f=async()=>{try{const[g,p]=await Promise.all([fE(),Ix()]);a(g),s(p.conversations||[])}catch(g){console.error("Error loading dashboard:",g)}finally{u(!1)}};if(l)return c.jsx("div",{className:"p-8 flex items-center justify-center h-full",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-500"})});const m=i.slice(0,5);return c.jsxs("div",{className:"p-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Dashboard"}),c.jsx("p",{className:"text-gray-500 mt-1",children:"Resumen de tu chatbot de WhatsApp"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[c.jsx(Ll,{title:"Conversaciones",value:i.length,icon:Sr,color:"green",subtitle:"Total activas"}),c.jsx(Ll,{title:"Usuarios nicos",value:t?.unique_users||0,icon:Rc,color:"blue",subtitle:"ltimos 30 das"}),c.jsx(Ll,{title:"Interacciones",value:t?.interactions||0,icon:Sh,color:"purple",subtitle:"Procesadas por el bot"}),c.jsx(Ll,{title:"Confianza",value:`${Math.round((t?.avg_confidence||0)*100)}%`,icon:hc,color:"yellow",subtitle:"Promedio clasificacin"})]}),c.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 shadow-sm",children:[c.jsxs("div",{className:"p-6 border-b border-gray-100 flex items-center justify-between",children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Conversaciones Recientes"}),c.jsxs(gi,{to:"/conversations",className:"text-green-600 hover:text-green-700 text-sm font-medium flex items-center gap-1",children:["Ver todas ",c.jsx(yN,{className:"w-4 h-4"})]})]}),m.length===0?c.jsxs("div",{className:"p-12 text-center text-gray-400",children:[c.jsx(Sr,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{children:"No hay conversaciones todava"})]}):c.jsx("div",{className:"divide-y divide-gray-100",children:m.map(g=>c.jsxs(gi,{to:`/conversations?phone=${encodeURIComponent(g.phone)}`,className:"flex items-center gap-4 p-4 hover:bg-gray-50 transition",children:[c.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:c.jsx("span",{className:"text-green-600 font-medium",children:g.contact_name?.[0]?.toUpperCase()||g.phone.slice(-2)})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"font-medium text-gray-800 truncate",children:g.contact_name||g.phone}),c.jsx("span",{className:"text-xs text-gray-400",children:g.last_message_time?Oc(new Date(g.last_message_time),{addSuffix:!0,locale:Nr}):""})]}),c.jsx("p",{className:"text-sm text-gray-500 truncate mt-1",children:g.last_message||"Sin mensajes"})]}),g.unread_count>0&&c.jsx("span",{className:"bg-green-500 text-white text-xs font-medium px-2 py-1 rounded-full",children:g.unread_count})]},g.phone))})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-8",children:[c.jsxs(gi,{to:"/flows",className:"bg-gradient-to-r from-green-500 to-green-600 rounded-xl p-6 text-white hover:from-green-600 hover:to-green-700 transition",children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Editor de Flujos"}),c.jsx("p",{className:"text-green-100 text-sm",children:"Crea y edita flujos conversacionales de forma visual"})]}),c.jsxs(gi,{to:"/conversations",className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl p-6 text-white hover:from-blue-600 hover:to-blue-700 transition",children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Ver Conversaciones"}),c.jsx("p",{className:"text-blue-100 text-sm",children:"Responde a tus clientes en tiempo real"})]})]})]})}const _n=Object.create(null);_n.open="0";_n.close="1";_n.ping="2";_n.pong="3";_n.message="4";_n.upgrade="5";_n.noop="6";const nc=Object.create(null);Object.keys(_n).forEach(t=>{nc[_n[t]]=t});const Qf={type:"error",data:"parser error"},nv=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",av=typeof ArrayBuffer=="function",iv=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,jh=({type:t,data:a},i,s)=>nv&&a instanceof Blob?i?s(a):ry(a,s):av&&(a instanceof ArrayBuffer||iv(a))?i?s(a):ry(new Blob([a]),s):s(_n[t]+(a||"")),ry=(t,a)=>{const i=new FileReader;return i.onload=function(){const s=i.result.split(",")[1];a("b"+(s||""))},i.readAsDataURL(t)};function sy(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Ef;function a_(t,a){if(nv&&t.data instanceof Blob)return t.data.arrayBuffer().then(sy).then(a);if(av&&(t.data instanceof ArrayBuffer||iv(t.data)))return a(sy(t.data));jh(t,!1,i=>{Ef||(Ef=new TextEncoder),a(Ef.encode(i))})}const oy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ls=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<oy.length;t++)Ls[oy.charCodeAt(t)]=t;const i_=t=>{let a=t.length*.75,i=t.length,s,l=0,u,f,m,g;t[t.length-1]==="="&&(a--,t[t.length-2]==="="&&a--);const p=new ArrayBuffer(a),x=new Uint8Array(p);for(s=0;s<i;s+=4)u=Ls[t.charCodeAt(s)],f=Ls[t.charCodeAt(s+1)],m=Ls[t.charCodeAt(s+2)],g=Ls[t.charCodeAt(s+3)],x[l++]=u<<2|f>>4,x[l++]=(f&15)<<4|m>>2,x[l++]=(m&3)<<6|g&63;return p},r_=typeof ArrayBuffer=="function",_h=(t,a)=>{if(typeof t!="string")return{type:"message",data:rv(t,a)};const i=t.charAt(0);return i==="b"?{type:"message",data:s_(t.substring(1),a)}:nc[i]?t.length>1?{type:nc[i],data:t.substring(1)}:{type:nc[i]}:Qf},s_=(t,a)=>{if(r_){const i=i_(t);return rv(i,a)}else return{base64:!0,data:t}},rv=(t,a)=>a==="blob"?t instanceof Blob?t:new Blob([t]):t instanceof ArrayBuffer?t:t.buffer,sv="",o_=(t,a)=>{const i=t.length,s=new Array(i);let l=0;t.forEach((u,f)=>{jh(u,!1,m=>{s[f]=m,++l===i&&a(s.join(sv))})})},l_=(t,a)=>{const i=t.split(sv),s=[];for(let l=0;l<i.length;l++){const u=_h(i[l],a);if(s.push(u),u.type==="error")break}return s};function c_(){return new TransformStream({transform(t,a){a_(t,i=>{const s=i.length;let l;if(s<126)l=new Uint8Array(1),new DataView(l.buffer).setUint8(0,s);else if(s<65536){l=new Uint8Array(3);const u=new DataView(l.buffer);u.setUint8(0,126),u.setUint16(1,s)}else{l=new Uint8Array(9);const u=new DataView(l.buffer);u.setUint8(0,127),u.setBigUint64(1,BigInt(s))}t.data&&typeof t.data!="string"&&(l[0]|=128),a.enqueue(l),a.enqueue(i)})}})}let jf;function $l(t){return t.reduce((a,i)=>a+i.length,0)}function ql(t,a){if(t[0].length===a)return t.shift();const i=new Uint8Array(a);let s=0;for(let l=0;l<a;l++)i[l]=t[0][s++],s===t[0].length&&(t.shift(),s=0);return t.length&&s<t[0].length&&(t[0]=t[0].slice(s)),i}function u_(t,a){jf||(jf=new TextDecoder);const i=[];let s=0,l=-1,u=!1;return new TransformStream({transform(f,m){for(i.push(f);;){if(s===0){if($l(i)<1)break;const g=ql(i,1);u=(g[0]&128)===128,l=g[0]&127,l<126?s=3:l===126?s=1:s=2}else if(s===1){if($l(i)<2)break;const g=ql(i,2);l=new DataView(g.buffer,g.byteOffset,g.length).getUint16(0),s=3}else if(s===2){if($l(i)<8)break;const g=ql(i,8),p=new DataView(g.buffer,g.byteOffset,g.length),x=p.getUint32(0);if(x>Math.pow(2,21)-1){m.enqueue(Qf);break}l=x*Math.pow(2,32)+p.getUint32(4),s=3}else{if($l(i)<l)break;const g=ql(i,l);m.enqueue(_h(u?g:jf.decode(g),a)),s=0}if(l===0||l>t){m.enqueue(Qf);break}}}})}const ov=4;function ot(t){if(t)return d_(t)}function d_(t){for(var a in ot.prototype)t[a]=ot.prototype[a];return t}ot.prototype.on=ot.prototype.addEventListener=function(t,a){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(a),this};ot.prototype.once=function(t,a){function i(){this.off(t,i),a.apply(this,arguments)}return i.fn=a,this.on(t,i),this};ot.prototype.off=ot.prototype.removeListener=ot.prototype.removeAllListeners=ot.prototype.removeEventListener=function(t,a){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var i=this._callbacks["$"+t];if(!i)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var s,l=0;l<i.length;l++)if(s=i[l],s===a||s.fn===a){i.splice(l,1);break}return i.length===0&&delete this._callbacks["$"+t],this};ot.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var a=new Array(arguments.length-1),i=this._callbacks["$"+t],s=1;s<arguments.length;s++)a[s-1]=arguments[s];if(i){i=i.slice(0);for(var s=0,l=i.length;s<l;++s)i[s].apply(this,a)}return this};ot.prototype.emitReserved=ot.prototype.emit;ot.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};ot.prototype.hasListeners=function(t){return!!this.listeners(t).length};const kc=typeof Promise=="function"&&typeof Promise.resolve=="function"?a=>Promise.resolve().then(a):(a,i)=>i(a,0),tn=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),f_="arraybuffer";function lv(t,...a){return a.reduce((i,s)=>(t.hasOwnProperty(s)&&(i[s]=t[s]),i),{})}const h_=tn.setTimeout,m_=tn.clearTimeout;function Bc(t,a){a.useNativeTimers?(t.setTimeoutFn=h_.bind(tn),t.clearTimeoutFn=m_.bind(tn)):(t.setTimeoutFn=tn.setTimeout.bind(tn),t.clearTimeoutFn=tn.clearTimeout.bind(tn))}const p_=1.33;function g_(t){return typeof t=="string"?y_(t):Math.ceil((t.byteLength||t.size)*p_)}function y_(t){let a=0,i=0;for(let s=0,l=t.length;s<l;s++)a=t.charCodeAt(s),a<128?i+=1:a<2048?i+=2:a<55296||a>=57344?i+=3:(s++,i+=4);return i}function cv(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function x_(t){let a="";for(let i in t)t.hasOwnProperty(i)&&(a.length&&(a+="&"),a+=encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return a}function v_(t){let a={},i=t.split("&");for(let s=0,l=i.length;s<l;s++){let u=i[s].split("=");a[decodeURIComponent(u[0])]=decodeURIComponent(u[1])}return a}class b_ extends Error{constructor(a,i,s){super(a),this.description=i,this.context=s,this.type="TransportError"}}class Ch extends ot{constructor(a){super(),this.writable=!1,Bc(this,a),this.opts=a,this.query=a.query,this.socket=a.socket,this.supportsBinary=!a.forceBase64}onError(a,i,s){return super.emitReserved("error",new b_(a,i,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(a){this.readyState==="open"&&this.write(a)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(a){const i=_h(a,this.socket.binaryType);this.onPacket(i)}onPacket(a){super.emitReserved("packet",a)}onClose(a){this.readyState="closed",super.emitReserved("close",a)}pause(a){}createUri(a,i={}){return a+"://"+this._hostname()+this._port()+this.opts.path+this._query(i)}_hostname(){const a=this.opts.hostname;return a.indexOf(":")===-1?a:"["+a+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(a){const i=x_(a);return i.length?"?"+i:""}}class w_ extends Ch{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(a){this.readyState="pausing";const i=()=>{this.readyState="paused",a()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||i()})),this.writable||(s++,this.once("drain",function(){--s||i()}))}else i()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(a){const i=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};l_(a,this.socket.binaryType).forEach(i),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const a=()=>{this.write([{type:"close"}])};this.readyState==="open"?a():this.once("open",a)}write(a){this.writable=!1,o_(a,i=>{this.doWrite(i,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const a=this.opts.secure?"https":"http",i=this.query||{};return this.opts.timestampRequests!==!1&&(i[this.opts.timestampParam]=cv()),!this.supportsBinary&&!i.sid&&(i.b64=1),this.createUri(a,i)}}let uv=!1;try{uv=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const S_=uv;function N_(){}class E_ extends w_{constructor(a){if(super(a),typeof location<"u"){const i=location.protocol==="https:";let s=location.port;s||(s=i?"443":"80"),this.xd=typeof location<"u"&&a.hostname!==location.hostname||s!==a.port}}doWrite(a,i){const s=this.request({method:"POST",data:a});s.on("success",i),s.on("error",(l,u)=>{this.onError("xhr post error",l,u)})}doPoll(){const a=this.request();a.on("data",this.onData.bind(this)),a.on("error",(i,s)=>{this.onError("xhr poll error",i,s)}),this.pollXhr=a}}class En extends ot{constructor(a,i,s){super(),this.createRequest=a,Bc(this,s),this._opts=s,this._method=s.method||"GET",this._uri=i,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var a;const i=lv(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");i.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(i);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let l in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(l)&&s.setRequestHeader(l,this._opts.extraHeaders[l])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(a=this._opts.cookieJar)===null||a===void 0||a.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var l;s.readyState===3&&((l=this._opts.cookieJar)===null||l===void 0||l.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(l){this.setTimeoutFn(()=>{this._onError(l)},0);return}typeof document<"u"&&(this._index=En.requestsCount++,En.requests[this._index]=this)}_onError(a){this.emitReserved("error",a,this._xhr),this._cleanup(!0)}_cleanup(a){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=N_,a)try{this._xhr.abort()}catch{}typeof document<"u"&&delete En.requests[this._index],this._xhr=null}}_onLoad(){const a=this._xhr.responseText;a!==null&&(this.emitReserved("data",a),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}En.requestsCount=0;En.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",ly);else if(typeof addEventListener=="function"){const t="onpagehide"in tn?"pagehide":"unload";addEventListener(t,ly,!1)}}function ly(){for(let t in En.requests)En.requests.hasOwnProperty(t)&&En.requests[t].abort()}const j_=(function(){const t=dv({xdomain:!1});return t&&t.responseType!==null})();class __ extends E_{constructor(a){super(a);const i=a&&a.forceBase64;this.supportsBinary=j_&&!i}request(a={}){return Object.assign(a,{xd:this.xd},this.opts),new En(dv,this.uri(),a)}}function dv(t){const a=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!a||S_))return new XMLHttpRequest}catch{}if(!a)try{return new tn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const fv=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class C_ extends Ch{get name(){return"websocket"}doOpen(){const a=this.uri(),i=this.opts.protocols,s=fv?{}:lv(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(a,i,s)}catch(l){return this.emitReserved("error",l)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=a=>this.onClose({description:"websocket connection closed",context:a}),this.ws.onmessage=a=>this.onData(a.data),this.ws.onerror=a=>this.onError("websocket error",a)}write(a){this.writable=!1;for(let i=0;i<a.length;i++){const s=a[i],l=i===a.length-1;jh(s,this.supportsBinary,u=>{try{this.doWrite(s,u)}catch{}l&&kc(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const a=this.opts.secure?"wss":"ws",i=this.query||{};return this.opts.timestampRequests&&(i[this.opts.timestampParam]=cv()),this.supportsBinary||(i.b64=1),this.createUri(a,i)}}const _f=tn.WebSocket||tn.MozWebSocket;class T_ extends C_{createSocket(a,i,s){return fv?new _f(a,i,s):i?new _f(a,i):new _f(a)}doWrite(a,i){this.ws.send(i)}}class M_ extends Ch{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(a){return this.emitReserved("error",a)}this._transport.closed.then(()=>{this.onClose()}).catch(a=>{this.onError("webtransport error",a)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(a=>{const i=u_(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=a.readable.pipeThrough(i).getReader(),l=c_();l.readable.pipeTo(a.writable),this._writer=l.writable.getWriter();const u=()=>{s.read().then(({done:m,value:g})=>{m||(this.onPacket(g),u())}).catch(m=>{})};u();const f={type:"open"};this.query.sid&&(f.data=`{"sid":"${this.query.sid}"}`),this._writer.write(f).then(()=>this.onOpen())})})}write(a){this.writable=!1;for(let i=0;i<a.length;i++){const s=a[i],l=i===a.length-1;this._writer.write(s).then(()=>{l&&kc(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var a;(a=this._transport)===null||a===void 0||a.close()}}const A_={websocket:T_,webtransport:M_,polling:__},R_=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,z_=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Pf(t){if(t.length>8e3)throw"URI too long";const a=t,i=t.indexOf("["),s=t.indexOf("]");i!=-1&&s!=-1&&(t=t.substring(0,i)+t.substring(i,s).replace(/:/g,";")+t.substring(s,t.length));let l=R_.exec(t||""),u={},f=14;for(;f--;)u[z_[f]]=l[f]||"";return i!=-1&&s!=-1&&(u.source=a,u.host=u.host.substring(1,u.host.length-1).replace(/;/g,":"),u.authority=u.authority.replace("[","").replace("]","").replace(/;/g,":"),u.ipv6uri=!0),u.pathNames=D_(u,u.path),u.queryKey=O_(u,u.query),u}function D_(t,a){const i=/\/{2,9}/g,s=a.replace(i,"/").split("/");return(a.slice(0,1)=="/"||a.length===0)&&s.splice(0,1),a.slice(-1)=="/"&&s.splice(s.length-1,1),s}function O_(t,a){const i={};return a.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,l,u){l&&(i[l]=u)}),i}const If=typeof addEventListener=="function"&&typeof removeEventListener=="function",ac=[];If&&addEventListener("offline",()=>{ac.forEach(t=>t())},!1);class $a extends ot{constructor(a,i){if(super(),this.binaryType=f_,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,a&&typeof a=="object"&&(i=a,a=null),a){const s=Pf(a);i.hostname=s.host,i.secure=s.protocol==="https"||s.protocol==="wss",i.port=s.port,s.query&&(i.query=s.query)}else i.host&&(i.hostname=Pf(i.host).host);Bc(this,i),this.secure=i.secure!=null?i.secure:typeof location<"u"&&location.protocol==="https:",i.hostname&&!i.port&&(i.port=this.secure?"443":"80"),this.hostname=i.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=i.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},i.transports.forEach(s=>{const l=s.prototype.name;this.transports.push(l),this._transportsByName[l]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},i),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=v_(this.opts.query)),If&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},ac.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(a){const i=Object.assign({},this.opts.query);i.EIO=ov,i.transport=a,this.id&&(i.sid=this.id);const s=Object.assign({},this.opts,{query:i,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[a]);return new this._transportsByName[a](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const a=this.opts.rememberUpgrade&&$a.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const i=this.createTransport(a);i.open(),this.setTransport(i)}setTransport(a){this.transport&&this.transport.removeAllListeners(),this.transport=a,a.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",i=>this._onClose("transport close",i))}onOpen(){this.readyState="open",$a.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(a){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",a),this.emitReserved("heartbeat"),a.type){case"open":this.onHandshake(JSON.parse(a.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const i=new Error("server error");i.code=a.data,this._onError(i);break;case"message":this.emitReserved("data",a.data),this.emitReserved("message",a.data);break}}onHandshake(a){this.emitReserved("handshake",a),this.id=a.sid,this.transport.query.sid=a.sid,this._pingInterval=a.pingInterval,this._pingTimeout=a.pingTimeout,this._maxPayload=a.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const a=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+a,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},a),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const a=this._getWritablePackets();this.transport.send(a),this._prevBufferLen=a.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let i=1;for(let s=0;s<this.writeBuffer.length;s++){const l=this.writeBuffer[s].data;if(l&&(i+=g_(l)),s>0&&i>this._maxPayload)return this.writeBuffer.slice(0,s);i+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const a=Date.now()>this._pingTimeoutTime;return a&&(this._pingTimeoutTime=0,kc(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),a}write(a,i,s){return this._sendPacket("message",a,i,s),this}send(a,i,s){return this._sendPacket("message",a,i,s),this}_sendPacket(a,i,s,l){if(typeof i=="function"&&(l=i,i=void 0),typeof s=="function"&&(l=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const u={type:a,data:i,options:s};this.emitReserved("packetCreate",u),this.writeBuffer.push(u),l&&this.once("flush",l),this.flush()}close(){const a=()=>{this._onClose("forced close"),this.transport.close()},i=()=>{this.off("upgrade",i),this.off("upgradeError",i),a()},s=()=>{this.once("upgrade",i),this.once("upgradeError",i)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():a()}):this.upgrading?s():a()),this}_onError(a){if($a.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",a),this._onClose("transport error",a)}_onClose(a,i){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),If&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=ac.indexOf(this._offlineEventListener);s!==-1&&ac.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",a,i),this.writeBuffer=[],this._prevBufferLen=0}}}$a.protocol=ov;class k_ extends $a{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let a=0;a<this._upgrades.length;a++)this._probe(this._upgrades[a])}_probe(a){let i=this.createTransport(a),s=!1;$a.priorWebsocketSuccess=!1;const l=()=>{s||(i.send([{type:"ping",data:"probe"}]),i.once("packet",y=>{if(!s)if(y.type==="pong"&&y.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",i),!i)return;$a.priorWebsocketSuccess=i.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(x(),this.setTransport(i),i.send([{type:"upgrade"}]),this.emitReserved("upgrade",i),i=null,this.upgrading=!1,this.flush())})}else{const v=new Error("probe error");v.transport=i.name,this.emitReserved("upgradeError",v)}}))};function u(){s||(s=!0,x(),i.close(),i=null)}const f=y=>{const v=new Error("probe error: "+y);v.transport=i.name,u(),this.emitReserved("upgradeError",v)};function m(){f("transport closed")}function g(){f("socket closed")}function p(y){i&&y.name!==i.name&&u()}const x=()=>{i.removeListener("open",l),i.removeListener("error",f),i.removeListener("close",m),this.off("close",g),this.off("upgrading",p)};i.once("open",l),i.once("error",f),i.once("close",m),this.once("close",g),this.once("upgrading",p),this._upgrades.indexOf("webtransport")!==-1&&a!=="webtransport"?this.setTimeoutFn(()=>{s||i.open()},200):i.open()}onHandshake(a){this._upgrades=this._filterUpgrades(a.upgrades),super.onHandshake(a)}_filterUpgrades(a){const i=[];for(let s=0;s<a.length;s++)~this.transports.indexOf(a[s])&&i.push(a[s]);return i}}let B_=class extends k_{constructor(a,i={}){const s=typeof a=="object"?a:i;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(l=>A_[l]).filter(l=>!!l)),super(a,s)}};function H_(t,a="",i){let s=t;i=i||typeof location<"u"&&location,t==null&&(t=i.protocol+"//"+i.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=i.protocol+t:t=i.host+t),/^(https?|wss?):\/\//.test(t)||(typeof i<"u"?t=i.protocol+"//"+t:t="https://"+t),s=Pf(t)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const u=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+u+":"+s.port+a,s.href=s.protocol+"://"+u+(i&&i.port===s.port?"":":"+s.port),s}const L_=typeof ArrayBuffer=="function",U_=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,hv=Object.prototype.toString,$_=typeof Blob=="function"||typeof Blob<"u"&&hv.call(Blob)==="[object BlobConstructor]",q_=typeof File=="function"||typeof File<"u"&&hv.call(File)==="[object FileConstructor]";function Th(t){return L_&&(t instanceof ArrayBuffer||U_(t))||$_&&t instanceof Blob||q_&&t instanceof File}function ic(t,a){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let i=0,s=t.length;i<s;i++)if(ic(t[i]))return!0;return!1}if(Th(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return ic(t.toJSON(),!0);for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&ic(t[i]))return!0;return!1}function V_(t){const a=[],i=t.data,s=t;return s.data=Ff(i,a),s.attachments=a.length,{packet:s,buffers:a}}function Ff(t,a){if(!t)return t;if(Th(t)){const i={_placeholder:!0,num:a.length};return a.push(t),i}else if(Array.isArray(t)){const i=new Array(t.length);for(let s=0;s<t.length;s++)i[s]=Ff(t[s],a);return i}else if(typeof t=="object"&&!(t instanceof Date)){const i={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=Ff(t[s],a));return i}return t}function Y_(t,a){return t.data=Wf(t.data,a),delete t.attachments,t}function Wf(t,a){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<a.length)return a[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let i=0;i<t.length;i++)t[i]=Wf(t[i],a);else if(typeof t=="object")for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(t[i]=Wf(t[i],a));return t}const mv=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],X_=5;var _e;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(_e||(_e={}));class G_{constructor(a){this.replacer=a}encode(a){return(a.type===_e.EVENT||a.type===_e.ACK)&&ic(a)?this.encodeAsBinary({type:a.type===_e.EVENT?_e.BINARY_EVENT:_e.BINARY_ACK,nsp:a.nsp,data:a.data,id:a.id}):[this.encodeAsString(a)]}encodeAsString(a){let i=""+a.type;return(a.type===_e.BINARY_EVENT||a.type===_e.BINARY_ACK)&&(i+=a.attachments+"-"),a.nsp&&a.nsp!=="/"&&(i+=a.nsp+","),a.id!=null&&(i+=a.id),a.data!=null&&(i+=JSON.stringify(a.data,this.replacer)),i}encodeAsBinary(a){const i=V_(a),s=this.encodeAsString(i.packet),l=i.buffers;return l.unshift(s),l}}class Mh extends ot{constructor(a){super(),this.reviver=a}add(a){let i;if(typeof a=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");i=this.decodeString(a);const s=i.type===_e.BINARY_EVENT;s||i.type===_e.BINARY_ACK?(i.type=s?_e.EVENT:_e.ACK,this.reconstructor=new Z_(i),i.attachments===0&&super.emitReserved("decoded",i)):super.emitReserved("decoded",i)}else if(Th(a)||a.base64)if(this.reconstructor)i=this.reconstructor.takeBinaryData(a),i&&(this.reconstructor=null,super.emitReserved("decoded",i));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+a)}decodeString(a){let i=0;const s={type:Number(a.charAt(0))};if(_e[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===_e.BINARY_EVENT||s.type===_e.BINARY_ACK){const u=i+1;for(;a.charAt(++i)!=="-"&&i!=a.length;);const f=a.substring(u,i);if(f!=Number(f)||a.charAt(i)!=="-")throw new Error("Illegal attachments");s.attachments=Number(f)}if(a.charAt(i+1)==="/"){const u=i+1;for(;++i&&!(a.charAt(i)===","||i===a.length););s.nsp=a.substring(u,i)}else s.nsp="/";const l=a.charAt(i+1);if(l!==""&&Number(l)==l){const u=i+1;for(;++i;){const f=a.charAt(i);if(f==null||Number(f)!=f){--i;break}if(i===a.length)break}s.id=Number(a.substring(u,i+1))}if(a.charAt(++i)){const u=this.tryParse(a.substr(i));if(Mh.isPayloadValid(s.type,u))s.data=u;else throw new Error("invalid payload")}return s}tryParse(a){try{return JSON.parse(a,this.reviver)}catch{return!1}}static isPayloadValid(a,i){switch(a){case _e.CONNECT:return gc(i);case _e.DISCONNECT:return i===void 0;case _e.CONNECT_ERROR:return typeof i=="string"||gc(i);case _e.EVENT:case _e.BINARY_EVENT:return Array.isArray(i)&&(typeof i[0]=="number"||typeof i[0]=="string"&&mv.indexOf(i[0])===-1);case _e.ACK:case _e.BINARY_ACK:return Array.isArray(i)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Z_{constructor(a){this.packet=a,this.buffers=[],this.reconPack=a}takeBinaryData(a){if(this.buffers.push(a),this.buffers.length===this.reconPack.attachments){const i=Y_(this.reconPack,this.buffers);return this.finishedReconstruction(),i}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Q_(t){return typeof t=="string"}const P_=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t};function I_(t){return t===void 0||P_(t)}function gc(t){return Object.prototype.toString.call(t)==="[object Object]"}function F_(t,a){switch(t){case _e.CONNECT:return a===void 0||gc(a);case _e.DISCONNECT:return a===void 0;case _e.EVENT:return Array.isArray(a)&&(typeof a[0]=="number"||typeof a[0]=="string"&&mv.indexOf(a[0])===-1);case _e.ACK:return Array.isArray(a);case _e.CONNECT_ERROR:return typeof a=="string"||gc(a);default:return!1}}function W_(t){return Q_(t.nsp)&&I_(t.id)&&F_(t.type,t.data)}const K_=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Mh,Encoder:G_,get PacketType(){return _e},isPacketValid:W_,protocol:X_},Symbol.toStringTag,{value:"Module"}));function cn(t,a,i){return t.on(a,i),function(){t.off(a,i)}}const J_=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class pv extends ot{constructor(a,i,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=a,this.nsp=i,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const a=this.io;this.subs=[cn(a,"open",this.onopen.bind(this)),cn(a,"packet",this.onpacket.bind(this)),cn(a,"error",this.onerror.bind(this)),cn(a,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...a){return a.unshift("message"),this.emit.apply(this,a),this}emit(a,...i){var s,l,u;if(J_.hasOwnProperty(a))throw new Error('"'+a.toString()+'" is a reserved event name');if(i.unshift(a),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(i),this;const f={type:_e.EVENT,data:i};if(f.options={},f.options.compress=this.flags.compress!==!1,typeof i[i.length-1]=="function"){const x=this.ids++,y=i.pop();this._registerAckCallback(x,y),f.id=x}const m=(l=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||l===void 0?void 0:l.writable,g=this.connected&&!(!((u=this.io.engine)===null||u===void 0)&&u._hasPingExpired());return this.flags.volatile&&!m||(g?(this.notifyOutgoingListeners(f),this.packet(f)):this.sendBuffer.push(f)),this.flags={},this}_registerAckCallback(a,i){var s;const l=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(l===void 0){this.acks[a]=i;return}const u=this.io.setTimeoutFn(()=>{delete this.acks[a];for(let m=0;m<this.sendBuffer.length;m++)this.sendBuffer[m].id===a&&this.sendBuffer.splice(m,1);i.call(this,new Error("operation has timed out"))},l),f=(...m)=>{this.io.clearTimeoutFn(u),i.apply(this,m)};f.withError=!0,this.acks[a]=f}emitWithAck(a,...i){return new Promise((s,l)=>{const u=(f,m)=>f?l(f):s(m);u.withError=!0,i.push(u),this.emit(a,...i)})}_addToQueue(a){let i;typeof a[a.length-1]=="function"&&(i=a.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:a,flags:Object.assign({fromQueue:!0},this.flags)};a.push((l,...u)=>(this._queue[0],l!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),i&&i(l)):(this._queue.shift(),i&&i(null,...u)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(a=!1){if(!this.connected||this._queue.length===0)return;const i=this._queue[0];i.pending&&!a||(i.pending=!0,i.tryCount++,this.flags=i.flags,this.emit.apply(this,i.args))}packet(a){a.nsp=this.nsp,this.io._packet(a)}onopen(){typeof this.auth=="function"?this.auth(a=>{this._sendConnectPacket(a)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(a){this.packet({type:_e.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},a):a})}onerror(a){this.connected||this.emitReserved("connect_error",a)}onclose(a,i){this.connected=!1,delete this.id,this.emitReserved("disconnect",a,i),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(a=>{if(!this.sendBuffer.some(s=>String(s.id)===a)){const s=this.acks[a];delete this.acks[a],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(a){if(a.nsp===this.nsp)switch(a.type){case _e.CONNECT:a.data&&a.data.sid?this.onconnect(a.data.sid,a.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case _e.EVENT:case _e.BINARY_EVENT:this.onevent(a);break;case _e.ACK:case _e.BINARY_ACK:this.onack(a);break;case _e.DISCONNECT:this.ondisconnect();break;case _e.CONNECT_ERROR:this.destroy();const s=new Error(a.data.message);s.data=a.data.data,this.emitReserved("connect_error",s);break}}onevent(a){const i=a.data||[];a.id!=null&&i.push(this.ack(a.id)),this.connected?this.emitEvent(i):this.receiveBuffer.push(Object.freeze(i))}emitEvent(a){if(this._anyListeners&&this._anyListeners.length){const i=this._anyListeners.slice();for(const s of i)s.apply(this,a)}super.emit.apply(this,a),this._pid&&a.length&&typeof a[a.length-1]=="string"&&(this._lastOffset=a[a.length-1])}ack(a){const i=this;let s=!1;return function(...l){s||(s=!0,i.packet({type:_e.ACK,id:a,data:l}))}}onack(a){const i=this.acks[a.id];typeof i=="function"&&(delete this.acks[a.id],i.withError&&a.data.unshift(null),i.apply(this,a.data))}onconnect(a,i){this.id=a,this.recovered=i&&this._pid===i,this._pid=i,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(a=>this.emitEvent(a)),this.receiveBuffer=[],this.sendBuffer.forEach(a=>{this.notifyOutgoingListeners(a),this.packet(a)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(a=>a()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:_e.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(a){return this.flags.compress=a,this}get volatile(){return this.flags.volatile=!0,this}timeout(a){return this.flags.timeout=a,this}onAny(a){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(a),this}prependAny(a){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(a),this}offAny(a){if(!this._anyListeners)return this;if(a){const i=this._anyListeners;for(let s=0;s<i.length;s++)if(a===i[s])return i.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(a){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(a),this}prependAnyOutgoing(a){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(a),this}offAnyOutgoing(a){if(!this._anyOutgoingListeners)return this;if(a){const i=this._anyOutgoingListeners;for(let s=0;s<i.length;s++)if(a===i[s])return i.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(a){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const i=this._anyOutgoingListeners.slice();for(const s of i)s.apply(this,a.data)}}}function Br(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Br.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var a=Math.random(),i=Math.floor(a*this.jitter*t);t=(Math.floor(a*10)&1)==0?t-i:t+i}return Math.min(t,this.max)|0};Br.prototype.reset=function(){this.attempts=0};Br.prototype.setMin=function(t){this.ms=t};Br.prototype.setMax=function(t){this.max=t};Br.prototype.setJitter=function(t){this.jitter=t};class Kf extends ot{constructor(a,i){var s;super(),this.nsps={},this.subs=[],a&&typeof a=="object"&&(i=a,a=void 0),i=i||{},i.path=i.path||"/socket.io",this.opts=i,Bc(this,i),this.reconnection(i.reconnection!==!1),this.reconnectionAttempts(i.reconnectionAttempts||1/0),this.reconnectionDelay(i.reconnectionDelay||1e3),this.reconnectionDelayMax(i.reconnectionDelayMax||5e3),this.randomizationFactor((s=i.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new Br({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(i.timeout==null?2e4:i.timeout),this._readyState="closed",this.uri=a;const l=i.parser||K_;this.encoder=new l.Encoder,this.decoder=new l.Decoder,this._autoConnect=i.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(a){return arguments.length?(this._reconnection=!!a,a||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(a){return a===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=a,this)}reconnectionDelay(a){var i;return a===void 0?this._reconnectionDelay:(this._reconnectionDelay=a,(i=this.backoff)===null||i===void 0||i.setMin(a),this)}randomizationFactor(a){var i;return a===void 0?this._randomizationFactor:(this._randomizationFactor=a,(i=this.backoff)===null||i===void 0||i.setJitter(a),this)}reconnectionDelayMax(a){var i;return a===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=a,(i=this.backoff)===null||i===void 0||i.setMax(a),this)}timeout(a){return arguments.length?(this._timeout=a,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(a){if(~this._readyState.indexOf("open"))return this;this.engine=new B_(this.uri,this.opts);const i=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const l=cn(i,"open",function(){s.onopen(),a&&a()}),u=m=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",m),a?a(m):this.maybeReconnectOnOpen()},f=cn(i,"error",u);if(this._timeout!==!1){const m=this._timeout,g=this.setTimeoutFn(()=>{l(),u(new Error("timeout")),i.close()},m);this.opts.autoUnref&&g.unref(),this.subs.push(()=>{this.clearTimeoutFn(g)})}return this.subs.push(l),this.subs.push(f),this}connect(a){return this.open(a)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const a=this.engine;this.subs.push(cn(a,"ping",this.onping.bind(this)),cn(a,"data",this.ondata.bind(this)),cn(a,"error",this.onerror.bind(this)),cn(a,"close",this.onclose.bind(this)),cn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(a){try{this.decoder.add(a)}catch(i){this.onclose("parse error",i)}}ondecoded(a){kc(()=>{this.emitReserved("packet",a)},this.setTimeoutFn)}onerror(a){this.emitReserved("error",a)}socket(a,i){let s=this.nsps[a];return s?this._autoConnect&&!s.active&&s.connect():(s=new pv(this,a,i),this.nsps[a]=s),s}_destroy(a){const i=Object.keys(this.nsps);for(const s of i)if(this.nsps[s].active)return;this._close()}_packet(a){const i=this.encoder.encode(a);for(let s=0;s<i.length;s++)this.engine.write(i[s],a.options)}cleanup(){this.subs.forEach(a=>a()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(a,i){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",a,i),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const a=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const i=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{a.skipReconnect||(this.emitReserved("reconnect_attempt",a.backoff.attempts),!a.skipReconnect&&a.open(l=>{l?(a._reconnecting=!1,a.reconnect(),this.emitReserved("reconnect_error",l)):a.onreconnect()}))},i);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const a=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",a)}}const Os={};function rc(t,a){typeof t=="object"&&(a=t,t=void 0),a=a||{};const i=H_(t,a.path||"/socket.io"),s=i.source,l=i.id,u=i.path,f=Os[l]&&u in Os[l].nsps,m=a.forceNew||a["force new connection"]||a.multiplex===!1||f;let g;return m?g=new Kf(s,a):(Os[l]||(Os[l]=new Kf(s,a)),g=Os[l]),i.query&&!a.query&&(a.query=i.queryKey),g.socket(i.path,a)}Object.assign(rc,{Manager:Kf,Socket:pv,io:rc,connect:rc});function e4(t){const[a,i]=C.useState(!1),s=C.useRef(null),l=kr(u=>u.token);return C.useEffect(()=>{if(!l)return;const u=rc(t,{path:"/socket.io/",auth:{dashboardToken:l},transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:1/0,reconnectionDelay:2e3,reconnectionDelayMax:1e4,timeout:2e4});return u.on("connect",()=>{console.log(`Dashboard socket conectado a ${t}`),i(!0)}),u.on("disconnect",f=>{console.log(`Dashboard socket desconectado: ${f}`),i(!1)}),u.on("connect_error",f=>{console.error("Error de conexin Socket.IO:",f.message)}),s.current=u,()=>{u.disconnect(),s.current=null,i(!1)}},[t,l]),{socket:s.current,connected:a}}const cy=["bg-blue-500","bg-green-500","bg-purple-500","bg-pink-500","bg-indigo-500","bg-teal-500","bg-orange-500","bg-red-400","bg-cyan-500","bg-emerald-500"];function uy(t){let a=0;for(let i=0;i<t.length;i++)a=t.charCodeAt(i)+((a<<5)-a);return cy[Math.abs(a)%cy.length]}function dy(t,a){if(t){const i=t.trim().split(/\s+/);return i.length>=2?(i[0][0]+i[i.length-1][0]).toUpperCase():t[0].toUpperCase()}return a.slice(-2)}function t4(){const[t,a]=FS(),[i,s]=C.useState([]),[l,u]=C.useState(t.get("phone")||null),[f,m]=C.useState([]),[g,p]=C.useState(""),[x,y]=C.useState(!0),[v,N]=C.useState(!1),[E,A]=C.useState(""),S=C.useRef(null),j=C.useRef(!0);i.find(q=>q.phone===l);const _=C.useRef(l);_.current=l;const{socket:w,connected:M}=e4("/chat");C.useEffect(()=>{B();const q=setInterval(()=>{B()},3e4);return()=>{clearInterval(q)}},[]),C.useEffect(()=>{l&&(j.current=!0,L(l),a({phone:l}))},[l]),C.useEffect(()=>{if(w)return w.on("new_message",q=>{if(console.log("Nuevo mensaje via WebSocket:",q),q.phone&&q.phone===_.current){m(H=>H.find(R=>R.waMsgId===q.msgId||R.id===q.dbId)?H:[...H,{id:q.dbId||Date.now(),direction:q.direction==="in"?"incoming":"outgoing",body:q.text,content:q.text,created_at:new Date(q.timestamp).toISOString(),status:q.status,waMsgId:q.msgId,is_bot:q.isAI||!1,mediaType:q.media?.type||null,mediaId:q.media?.id||q.mediaId||null,mediaMime:q.media?.mime||null,mediaCaption:q.media?.caption||null,mediaExtra:q.media?.extra||null,media:q.media}]),W0(q.phone).then(()=>B());return}B()}),w.on("escalation",q=>{console.log("Escalamiento detectado:",q),B()}),w.on("message_status_update",q=>{console.log("Status actualizado:",q),m(H=>H.map(Q=>Q.waMsgId===q.msgId?{...Q,status:q.status}:Q))}),()=>{w.off("new_message"),w.off("escalation"),w.off("message_status_update")}},[w]),C.useEffect(()=>{j.current?(S.current?.scrollIntoView({behavior:"instant"}),j.current=!1):S.current?.scrollIntoView({behavior:"smooth"})},[f]);const B=async()=>{try{const q=await Ix();s(q.conversations||[])}catch(q){console.error("Error loading conversations:",q)}finally{y(!1)}},L=async q=>{try{const H=await uE(q);m(H.messages||[]),await W0(q)}catch(H){console.error("Error loading messages:",H)}},O=q=>{p(q.target.value)},X=async()=>{if(!(!g.trim()||!l||v)){N(!0);try{await dE(l,g),p("")}catch(q){console.error("Error sending message:",q),alert("Error al enviar mensaje")}finally{N(!1)}}},J=q=>{q.key==="Enter"&&!q.shiftKey&&(q.preventDefault(),X())},se=i.filter(q=>(q.contact_name?.toLowerCase()||"").includes(E.toLowerCase())||q.phone.includes(E)),P=i.find(q=>q.phone===l),F=q=>{const{mediaType:H,mediaId:Q,mediaExtra:R,mediaMime:D,media:U}=q,k=H||U?.type,Z=Q||U?.id,z=D||U?.mime,V=R||U?.extra;if(!k)return null;const I=q.direction==="outgoing",te="/api/chat/media";switch(k){case"image":return c.jsxs("div",{className:"mt-2 rounded-lg overflow-hidden max-w-xs",children:[c.jsx("img",{src:`${te}/${Z}`,alt:"Imagen",className:"w-full h-auto cursor-pointer hover:opacity-90",onClick:()=>window.open(`${te}/${Z}`,"_blank"),onError:pe=>{pe.target.style.display="none",pe.target.nextSibling.style.display="flex"}}),c.jsxs("div",{className:"hidden items-center gap-2 p-3 bg-gray-100 rounded-lg",children:[c.jsx(DN,{className:"w-5 h-5 text-gray-500"}),c.jsx("span",{className:"text-sm text-gray-600",children:"Imagen no disponible"})]})]});case"video":return c.jsx("div",{className:"mt-2 rounded-lg overflow-hidden max-w-xs",children:c.jsx("video",{src:`${te}/${Z}`,controls:!0,className:"w-full h-auto rounded-lg",preload:"metadata",children:"Tu navegador no soporta video"})});case"audio":return c.jsxs("div",{className:`mt-2 flex items-center gap-2 p-2 rounded-lg ${I?"bg-green-600":"bg-gray-100"}`,children:[c.jsx(VN,{className:`w-5 h-5 ${I?"text-white":"text-green-600"}`}),c.jsx("audio",{src:`${te}/${Z}`,controls:!0,className:"h-8 flex-1",preload:"metadata"})]});case"document":const le=V?.filename||"Documento";return c.jsxs("a",{href:`${te}/${Z}`,target:"_blank",rel:"noopener noreferrer",className:`mt-2 flex items-center gap-3 p-3 rounded-lg ${I?"bg-green-600 hover:bg-green-700":"bg-gray-100 hover:bg-gray-200"} transition`,children:[c.jsx(CN,{className:`w-8 h-8 ${I?"text-white":"text-blue-600"}`}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:`text-sm font-medium truncate ${I?"text-white":"text-gray-800"}`,children:le}),c.jsx("p",{className:`text-xs ${I?"text-green-100":"text-gray-500"}`,children:z||"Documento"})]}),c.jsx(jN,{className:`w-5 h-5 ${I?"text-white":"text-gray-500"}`})]});case"sticker":return c.jsx("div",{className:"mt-2",children:c.jsx("img",{src:`${te}/${Z}`,alt:"Sticker",className:"w-32 h-32 object-contain",onError:pe=>{pe.target.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="128" height="128" viewBox="0 0 24 24" fill="none" stroke="gray" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M8 14s1.5 2 4 2 4-2 4-2"/><line x1="9" y1="9" x2="9.01" y2="9"/><line x1="15" y1="9" x2="15.01" y2="9"/></svg>'}})});case"location":const ue=V?.latitude,ce=V?.longitude,oe=V?.name,de=V?.address,be=`https://www.google.com/maps?q=${ue},${ce}`;return c.jsx("a",{href:be,target:"_blank",rel:"noopener noreferrer",className:`mt-2 block p-3 rounded-lg ${I?"bg-green-600 hover:bg-green-700":"bg-gray-100 hover:bg-gray-200"} transition`,children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:`p-2 rounded-full ${I?"bg-green-500":"bg-red-100"}`,children:c.jsx(UN,{className:`w-5 h-5 ${I?"text-white":"text-red-600"}`})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[oe&&c.jsx("p",{className:`font-medium ${I?"text-white":"text-gray-800"}`,children:oe}),de&&c.jsx("p",{className:`text-sm ${I?"text-green-100":"text-gray-600"}`,children:de}),c.jsxs("p",{className:`text-xs mt-1 ${I?"text-green-200":"text-gray-500"}`,children:[ue?.toFixed(6),", ",ce?.toFixed(6)]})]})]})});case"contacts":const ve=V?.contacts||[];return c.jsxs("div",{className:`mt-2 p-3 rounded-lg ${I?"bg-green-600":"bg-gray-100"}`,children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(Rc,{className:`w-5 h-5 ${I?"text-white":"text-blue-600"}`}),c.jsx("span",{className:`font-medium ${I?"text-white":"text-gray-800"}`,children:ve.length===1?"Contacto compartido":`${ve.length} contactos`})]}),ve.map((pe,Ne)=>c.jsxs("div",{className:`p-2 rounded ${I?"bg-green-500":"bg-white"} ${Ne>0?"mt-2":""}`,children:[c.jsx("p",{className:`font-medium ${I?"text-white":"text-gray-800"}`,children:pe.name}),pe.phones?.map((ze,je)=>c.jsxs("p",{className:`text-sm ${I?"text-green-100":"text-gray-600"}`,children:[ze.phone," ",ze.type&&`(${ze.type})`]},je))]},Ne))]});case"reaction":const me=V?.emoji||q.body;return c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(RN,{className:`w-4 h-4 ${I?"text-white":"text-pink-500"}`}),c.jsx("span",{className:"text-2xl",children:me})]});default:return null}};return x?c.jsx("div",{className:"h-full flex items-center justify-center",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-500"})}):c.jsxs("div",{className:"h-screen flex",children:[c.jsxs("div",{className:"w-96 bg-white border-r border-gray-200 flex flex-col",children:[c.jsxs("div",{className:"p-4 border-b border-gray-200",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Conversaciones"}),c.jsxs("div",{className:"relative",children:[c.jsx(Qx,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),c.jsx("input",{type:"text",value:E,onChange:q=>A(q.target.value),placeholder:"Buscar conversacin...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none"})]})]}),c.jsx("div",{className:"flex-1 overflow-y-auto",children:se.length===0?c.jsxs("div",{className:"p-8 text-center text-gray-400",children:[c.jsx(Sr,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{children:"No hay conversaciones"})]}):se.map(q=>c.jsxs("button",{onClick:()=>u(q.phone),className:`w-full flex items-center gap-3 p-4 border-b border-gray-100 hover:bg-gray-50 transition text-left ${l===q.phone?"bg-green-50":""}`,children:[c.jsx("div",{className:`w-12 h-12 ${uy(q.contact_name||q.phone)} rounded-full flex items-center justify-center flex-shrink-0`,children:c.jsx("span",{className:"text-white font-semibold text-sm",children:dy(q.contact_name,q.phone)})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"font-medium text-gray-800 truncate",children:q.contact_name||q.phone}),q.unread_count>0&&c.jsx("span",{className:"bg-green-500 text-white text-xs font-medium px-2 py-0.5 rounded-full",children:q.unread_count})]}),c.jsx("p",{className:"text-sm text-gray-500 truncate",children:q.last_message||"Sin mensajes"}),c.jsx("p",{className:"text-xs text-gray-400 mt-1",children:q.last_message_time?Oc(new Date(q.last_message_time),{addSuffix:!0,locale:Nr}):""})]})]},q.phone))})]}),c.jsx("div",{className:"flex-1 flex flex-col bg-gray-50",children:l?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"bg-white border-b border-gray-200 p-4 flex items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:`w-10 h-10 ${uy(P?.contact_name||l)} rounded-full flex items-center justify-center`,children:c.jsx("span",{className:"text-white font-semibold text-sm",children:dy(P?.contact_name,l)})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-800",children:P?.contact_name||l}),c.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-1",children:[c.jsx(Ac,{className:"w-3 h-3"}),l]})]})]}),c.jsx("div",{className:"text-sm",children:M?c.jsxs("span",{className:"text-green-600 flex items-center gap-1",children:[c.jsx("span",{className:"w-2 h-2 bg-green-600 rounded-full"}),"Tiempo real"]}):c.jsxs("span",{className:"text-yellow-600 flex items-center gap-1",children:[c.jsx("span",{className:"w-2 h-2 bg-yellow-600 rounded-full"}),"Reconectando..."]})})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[f.map((q,H)=>c.jsx("div",{className:`flex ${q.direction==="outgoing"?"justify-end":"justify-start"}`,children:c.jsxs("div",{className:`max-w-md px-4 py-2 rounded-2xl ${q.direction==="outgoing"?"bg-green-500 text-white rounded-br-md":"bg-white text-gray-800 rounded-bl-md shadow-sm"}`,children:[q.direction==="incoming"&&c.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400 mb-1",children:[c.jsx(Px,{className:"w-3 h-3"}),"Cliente"]}),q.direction==="outgoing"&&q.is_bot&&c.jsxs("div",{className:"flex items-center gap-1 text-xs text-green-100 mb-1",children:[c.jsx(Sh,{className:"w-3 h-3"}),"Bot"]}),F(q),(q.body||q.content)&&(!q.mediaType||q.mediaType==="reaction")&&c.jsx("p",{className:"whitespace-pre-wrap",children:q.body||q.content}),q.mediaType&&q.mediaType!=="reaction"&&(q.mediaCaption||q.body)&&c.jsx("p",{className:"whitespace-pre-wrap mt-2 text-sm",children:q.mediaCaption||q.body}),c.jsxs("div",{className:`flex items-center gap-1 text-xs mt-1 ${q.direction==="outgoing"?"text-white opacity-90":"text-gray-400"}`,children:[c.jsx("span",{children:q.created_at?Dc(new Date(q.created_at),"HH:mm",{locale:Nr}):""}),q.direction==="outgoing"&&c.jsxs("span",{className:"ml-1",children:[q.status==="sent"&&"",q.status==="delivered"&&"",q.status==="read"&&c.jsx("span",{className:"text-blue-400",children:""})]})]})]})},H)),c.jsx("div",{ref:S})]}),c.jsx("div",{className:"bg-white border-t border-gray-200 p-4",children:c.jsxs("div",{className:"flex gap-3",children:[c.jsx("input",{type:"text",value:g,onChange:O,onKeyPress:J,placeholder:"Escribe un mensaje...",className:"flex-1 px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none"}),c.jsxs("button",{onClick:X,disabled:!g.trim()||v,className:"bg-green-500 hover:bg-green-600 text-white px-6 py-3 rounded-xl transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[c.jsx(JN,{className:"w-5 h-5"}),v?"Enviando...":"Enviar"]})]})})]}):c.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-400",children:c.jsxs("div",{className:"text-center",children:[c.jsx(Sr,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),c.jsx("p",{className:"text-lg",children:"Selecciona una conversacin"})]})})})]})}const ra="/api/visual-flows-live";async function Zt(t,a){if(!t.ok){let i=a;try{const s=await t.json();s.error&&(i=s.error)}catch{}throw new Error(i)}return t.json()}async function gv(){const t=await fetch(ra);return Zt(t,"Error al cargar flujos")}async function Jf(t){const a=await fetch(`${ra}/${t}`);return Zt(a,"Flujo no encontrado")}async function n4(t){const a=await fetch(ra,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return Zt(a,"Error al crear flujo")}async function a4(t,a){const i=await fetch(`${ra}/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});return Zt(i,"Error al actualizar flujo")}async function i4(t){const a=await fetch(`${ra}/${t}`,{method:"DELETE"});return Zt(a,"Error al eliminar flujo")}async function yv(t,a=!0){const i=await fetch(`${ra}/${t}/activate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({active:a})});return Zt(i,"Error al activar flujo")}async function r4(t,a){const i=await fetch(`${ra}/${t}/duplicate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({new_name:a})});return Zt(i,"Error al duplicar flujo")}async function s4(){const t=await fetch(`${ra}/templates/list`);return Zt(t,"Error al cargar plantillas")}async function xv(t,a){const i=await fetch(`${ra}/templates/${t}/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a})});return Zt(i,"Error al crear desde plantilla")}async function o4(t={}){const a=new URLSearchParams;t.status&&a.append("status",t.status),t.category&&a.append("category",t.category),t.lang&&a.append("lang",t.lang),a.append("with","components"),a.append("limit","200");const i=await fetch(`/api/chat/templates?${a}`);return Zt(i,"Error al cargar plantillas de Meta")}async function l4({templateName:t,languageCode:a,phone:i,parameters:s=[],headerParams:l=[],buttonParams:u=[]}){const f=await fetch("/api/templates/test",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({templateName:t,languageCode:a,phone:i,parameters:s,headerParams:l,buttonParams:u})});return Zt(f,"Error al enviar plantilla de prueba")}async function c4(){const t=await fetch("/api/settings/visual-flows");return Zt(t,"Error al obtener estado de Visual Flows")}async function u4(t){const a=await fetch("/api/settings/visual-flows",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({enabled:t})});return Zt(a,"Error al cambiar estado de Visual Flows")}const fy="whatsapp_test_phone";function d4({template:t,onClose:a}){const[i,s]=C.useState(""),[l,u]=C.useState(!0),[f,m]=C.useState([]),[g,p]=C.useState([]),[x,y]=C.useState([]),[v,N]=C.useState(!1),[E,A]=C.useState(null);C.useEffect(()=>{const M=localStorage.getItem(fy);M&&s(M)},[]),C.useEffect(()=>{if(!t?.components)return;const M=t.components.find(O=>O.type==="BODY"),B=t.components.find(O=>O.type==="HEADER"),L=t.components.filter(O=>O.type==="BUTTONS");if(M?.text){const O=M.text.match(/\{\{(\d+)\}\}/g)||[];m(O.map(()=>""))}if(B?.text){const O=B.text.match(/\{\{(\d+)\}\}/g)||[];p(O.map(()=>""))}if(L.length>0){const O=[];L.forEach(X=>{X.buttons&&X.buttons.forEach(J=>{J.type==="URL"&&J.url?.includes("{{")&&O.push("")})}),y(O)}},[t]);const S=async()=>{if(!i.trim()){A({ok:!1,error:"Ingresa un nmero de telfono"});return}N(!0),A(null);try{l&&localStorage.setItem(fy,i);const M=await l4({templateName:t.name,languageCode:t.language,phone:i.trim(),parameters:f.filter(B=>B!==""),headerParams:g.filter(B=>B!==""),buttonParams:x.filter(B=>B!=="")});A(M)}catch(M){A({ok:!1,error:M.message})}finally{N(!1)}},j=()=>{if(!t?.components)return"";const M=t.components.find(L=>L.type==="BODY");if(!M?.text)return"";let B=M.text;return f.forEach((L,O)=>{B=B.replace(`{{${O+1}}}`,L||`[param ${O+1}]`)}),B},_={APPROVED:{bg:"#dcfce7",text:"#166534"},PENDING:{bg:"#fef3c7",text:"#92400e"},REJECTED:{bg:"#fee2e2",text:"#991b1b"}},w={MARKETING:{bg:"#dbeafe",text:"#1e40af"},UTILITY:{bg:"#f3e8ff",text:"#6b21a8"},AUTHENTICATION:{bg:"#fce7f3",text:"#9d174d"}};return c.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:c.jsxs("div",{style:{background:"white",borderRadius:"16px",padding:"24px",maxWidth:"500px",width:"90%",maxHeight:"90vh",overflow:"auto"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[c.jsxs("div",{children:[c.jsx("h2",{style:{margin:"0 0 8px 0",fontSize:"20px"},children:"Probar Plantilla"}),c.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[c.jsx("span",{style:{padding:"2px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"500",background:_[t.status]?.bg||"#f3f4f6",color:_[t.status]?.text||"#374151"},children:t.status}),c.jsx("span",{style:{padding:"2px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"500",background:w[t.category]?.bg||"#f3f4f6",color:w[t.category]?.text||"#374151"},children:t.category}),c.jsx("span",{style:{padding:"2px 8px",borderRadius:"4px",fontSize:"12px",background:"#f3f4f6",color:"#374151"},children:t.language})]})]}),c.jsx("button",{onClick:a,style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#6b7280"},children:""})]}),c.jsxs("div",{style:{background:"#f9fafb",padding:"12px",borderRadius:"8px",marginBottom:"16px"},children:[c.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Nombre de la plantilla"}),c.jsx("div",{style:{fontFamily:"monospace",fontWeight:"500"},children:t.name})]}),c.jsxs("div",{style:{background:"#dcf8c6",padding:"12px",borderRadius:"8px",marginBottom:"16px",whiteSpace:"pre-wrap"},children:[c.jsx("div",{style:{fontSize:"12px",color:"#075e54",marginBottom:"4px"},children:"Vista previa"}),c.jsx("div",{style:{color:"#000"},children:j()||"(Sin contenido)"})]}),f.length>0&&c.jsxs("div",{style:{marginBottom:"16px"},children:[c.jsx("div",{style:{fontSize:"14px",fontWeight:"500",marginBottom:"8px"},children:"Parmetros del mensaje"}),f.map((M,B)=>c.jsx("input",{type:"text",placeholder:`Parmetro {{${B+1}}}`,value:M,onChange:L=>{const O=[...f];O[B]=L.target.value,m(O)},style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",marginBottom:"8px",fontSize:"14px"}},`body-${B}`))]}),g.length>0&&c.jsxs("div",{style:{marginBottom:"16px"},children:[c.jsx("div",{style:{fontSize:"14px",fontWeight:"500",marginBottom:"8px"},children:"Parmetros del encabezado"}),g.map((M,B)=>c.jsx("input",{type:"text",placeholder:`Header {{${B+1}}}`,value:M,onChange:L=>{const O=[...g];O[B]=L.target.value,p(O)},style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",marginBottom:"8px",fontSize:"14px"}},`header-${B}`))]}),x.length>0&&c.jsxs("div",{style:{marginBottom:"16px"},children:[c.jsx("div",{style:{fontSize:"14px",fontWeight:"500",marginBottom:"8px"},children:"Parmetros de botn URL"}),x.map((M,B)=>c.jsx("input",{type:"text",placeholder:`Texto dinmico del botn ${B+1}`,value:M,onChange:L=>{const O=[...x];O[B]=L.target.value,y(O)},style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",marginBottom:"8px",fontSize:"14px"}},`btn-${B}`))]}),c.jsxs("div",{style:{marginBottom:"16px"},children:[c.jsx("div",{style:{fontSize:"14px",fontWeight:"500",marginBottom:"8px"},children:"Nmero de telfono destino"}),c.jsx("input",{type:"tel",placeholder:"56912345678",value:i,onChange:M=>s(M.target.value),style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}}),c.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",marginTop:"8px",fontSize:"13px",color:"#6b7280",cursor:"pointer"},children:[c.jsx("input",{type:"checkbox",checked:l,onChange:M=>u(M.target.checked)}),"Recordar este nmero"]})]}),E&&c.jsx("div",{style:{padding:"12px",borderRadius:"8px",marginBottom:"16px",background:E.ok?"#dcfce7":"#fee2e2",color:E.ok?"#166534":"#991b1b"},children:E.ok?c.jsxs(c.Fragment,{children:[c.jsx("div",{style:{fontWeight:"500"},children:"Enviado correctamente"}),c.jsxs("div",{style:{fontSize:"13px",marginTop:"4px"},children:["Mensaje enviado a ",E.sentTo]})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{style:{fontWeight:"500"},children:"Error al enviar"}),c.jsx("div",{style:{fontSize:"13px",marginTop:"4px"},children:E.error})]})}),c.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[c.jsx("button",{onClick:a,style:{padding:"10px 20px",border:"1px solid #d1d5db",borderRadius:"8px",background:"white",cursor:"pointer",fontSize:"14px"},children:"Cerrar"}),c.jsx("button",{onClick:S,disabled:v||t.status!=="APPROVED",style:{padding:"10px 20px",border:"none",borderRadius:"8px",background:t.status==="APPROVED"?"#25d366":"#9ca3af",color:"white",cursor:t.status==="APPROVED"?"pointer":"not-allowed",fontSize:"14px",fontWeight:"500",display:"flex",alignItems:"center",gap:"8px"},children:v?"Enviando...":"Enviar Prueba"})]}),t.status!=="APPROVED"&&c.jsx("div",{style:{marginTop:"12px",padding:"8px",background:"#fef3c7",borderRadius:"6px",fontSize:"13px",color:"#92400e",textAlign:"center"},children:"Solo se pueden probar plantillas con estado APPROVED"})]})})}function f4(){const t=ji(),[a,i]=C.useState("flows"),[s,l]=C.useState([]),[u,f]=C.useState([]),[m,g]=C.useState([]),[p,x]=C.useState(!1),[y,v]=C.useState({status:"",category:""}),[N,E]=C.useState(null),[A,S]=C.useState(!0),[j,_]=C.useState(null),[w,M]=C.useState(null),[B,L]=C.useState(!0),[O,X]=C.useState(!1);C.useEffect(()=>{P(),J()},[]),C.useEffect(()=>{a==="whatsapp"&&F()},[a,y]);const J=async()=>{try{const k=await c4();L(k.enabled)}catch(k){console.error("Error loading visual flows status:",k)}},se=async()=>{try{X(!0);const Z=await u4(!B);L(Z.enabled),q(Z.enabled?"Modo automtico ACTIVADO":"Modo automtico DESACTIVADO",Z.enabled?"success":"info")}catch(k){console.error("Error toggling visual flows:",k),q(`Error: ${k.message}`,"error")}finally{X(!1)}},P=async()=>{try{S(!0),_(null);const[k,Z]=await Promise.all([gv(),s4()]);l(k.flows||[]),f(Z.templates||[])}catch(k){console.error("Error loading flows:",k),_(k.message)}finally{S(!1)}},F=async()=>{try{x(!0);const k={};y.status&&(k.status=y.status),y.category&&(k.category=y.category);const Z=await o4(k);g(Z.items||[])}catch(k){console.error("Error loading Meta templates:",k),q(`Error al cargar plantillas: ${k.message}`,"error")}finally{x(!1)}},q=(k,Z="success")=>{M({message:k,type:Z}),setTimeout(()=>M(null),4e3)},H=async(k,Z)=>{try{const z=await xv(k,null);q(`Flujo "${Z}" creado correctamente`,"success"),await P(),z.id&&t(`/flows/builder/${z.id}`)}catch(z){console.error("Error creating from template:",z),q(`Error al crear flujo: ${z.message}`,"error")}},Q=async k=>{try{const Z=!k.is_active;await yv(k.id,Z),q(`Flujo "${k.name}" ${Z?"activado":"desactivado"}`,"success"),await P()}catch(Z){console.error("Error toggling flow:",Z),q(`Error: ${Z.message}`,"error")}},R=async k=>{try{await r4(k.id,`${k.name} (copia)`),q("Flujo duplicado correctamente","success"),await P()}catch(Z){console.error("Error duplicating flow:",Z),q(`Error al duplicar: ${Z.message}`,"error")}},D=async k=>{if(confirm(`Ests seguro de eliminar el flujo "${k.name}"?`))try{await i4(k.id),q("Flujo eliminado correctamente","success"),await P()}catch(Z){console.error("Error deleting flow:",Z),q(`Error al eliminar: ${Z.message}`,"error")}},U=k=>({sales:"bg-green-100 text-green-800",support:"bg-blue-100 text-blue-800",service:"bg-purple-100 text-purple-800",feedback:"bg-yellow-100 text-yellow-800",engagement:"bg-pink-100 text-pink-800"})[k]||"bg-gray-100 text-gray-800";return A?c.jsx("div",{className:"flex items-center justify-center h-screen",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-500 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Cargando flujos..."})]})}):j?c.jsx("div",{className:"p-8",children:c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[c.jsx("h3",{className:"text-red-800 font-semibold mb-2",children:"Error al cargar flujos"}),c.jsx("p",{className:"text-red-600",children:j}),c.jsx("button",{onClick:P,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Reintentar"})]})}):c.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[c.jsxs("div",{className:"mb-6 flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Gestin de Flujos"}),c.jsx("p",{className:"text-gray-600",children:"Administra tus flujos conversacionales y crea nuevos desde plantillas predefinidas"})]}),c.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 rounded-lg border ${B?"bg-green-50 border-green-200":"bg-gray-50 border-gray-300"}`,children:[c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:`text-sm font-medium ${B?"text-green-800":"text-gray-600"}`,children:"Modo Automtico"}),c.jsx("p",{className:`text-xs ${B?"text-green-600":"text-gray-500"}`,children:B?"Bot respondiendo":"Bot pausado"})]}),c.jsx("button",{onClick:se,disabled:O,className:`relative inline-flex h-7 w-14 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 ${B?"bg-green-500 focus:ring-green-500":"bg-gray-300 focus:ring-gray-500"} ${O?"opacity-50 cursor-wait":"cursor-pointer"}`,children:c.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white shadow-md transition-transform ${B?"translate-x-8":"translate-x-1"}`})})]})]}),w&&c.jsx("div",{className:`mb-4 p-4 rounded-lg ${w.type==="success"?"bg-green-50 text-green-800 border border-green-200":w.type==="error"?"bg-red-50 text-red-800 border border-red-200":"bg-blue-50 text-blue-800 border border-blue-200"}`,children:w.message}),c.jsx("div",{className:"mb-6 border-b border-gray-200",children:c.jsxs("div",{className:"flex space-x-8",children:[c.jsxs("button",{onClick:()=>i("flows"),className:`pb-4 px-1 border-b-2 font-medium transition-colors ${a==="flows"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Mis Flujos (",s.length,")"]}),c.jsxs("button",{onClick:()=>i("templates"),className:`pb-4 px-1 border-b-2 font-medium transition-colors ${a==="templates"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Plantillas (",u.length,")"]}),c.jsxs("button",{onClick:()=>i("whatsapp"),className:`pb-4 px-1 border-b-2 font-medium transition-colors flex items-center gap-2 ${a==="whatsapp"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[c.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),"WhatsApp Templates"]})]})}),a==="flows"&&c.jsx("div",{children:s.length===0?c.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[c.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),c.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No tienes flujos creados"}),c.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Comienza creando un flujo desde una plantilla"}),c.jsx("div",{className:"mt-6",children:c.jsx("button",{onClick:()=>i("templates"),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Ver Plantillas"})})]}):c.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nombre"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estadsticas"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ltima actualizacin"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(k=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:"flex items-center",children:c.jsxs("div",{children:[c.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[k.name,k.is_default&&c.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:"Por defecto"})]}),k.description&&c.jsx("div",{className:"text-sm text-gray-500",children:k.description})]})})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("button",{onClick:()=>Q(k),className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium cursor-pointer transition-colors ${k.is_active?"bg-green-100 text-green-800 hover:bg-green-200":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:k.is_active?"Activo":"Inactivo"})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:c.jsxs("div",{className:"flex flex-col space-y-1",children:[c.jsxs("span",{children:["Ejecutado: ",k.times_triggered||0," veces"]}),c.jsxs("span",{children:["Completado: ",k.times_completed||0," veces"]})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:k.updated_at?Dc(new Date(k.updated_at),"dd MMM yyyy, HH:mm",{locale:Nr}):"-"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:c.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[c.jsx("button",{onClick:()=>t(`/flows/builder/${k.id}`),className:"text-blue-600 hover:text-blue-900",title:"Editar",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),c.jsx("button",{onClick:()=>R(k),className:"text-gray-600 hover:text-gray-900",title:"Duplicar",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),c.jsx("button",{onClick:()=>D(k),className:"text-red-600 hover:text-red-900",title:"Eliminar",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},k.id))})]})})}),a==="templates"&&c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(k=>c.jsx("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow overflow-hidden border border-gray-200",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-start justify-between mb-3",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:k.name}),c.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${U(k.category)}`,children:k.category})]}),c.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:k.description}),c.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-4",children:[c.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"})}),c.jsxs("span",{children:[k.nodes_count," nodos"]})]}),k.features&&k.features.length>0&&c.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:k.features.map(Z=>c.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-purple-50 text-purple-700 border border-purple-200",children:Z},Z))}),c.jsx("button",{onClick:()=>H(k.id,k.name),className:"w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Crear desde esta plantilla"})]})},k.id))}),a==="whatsapp"&&c.jsxs("div",{children:[c.jsxs("div",{className:"mb-6 flex flex-wrap gap-4 items-center",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),c.jsxs("select",{value:y.status,onChange:k=>v({...y,status:k.target.value}),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-green-500 focus:border-green-500",children:[c.jsx("option",{value:"",children:"Todos"}),c.jsx("option",{value:"APPROVED",children:"Aprobadas"}),c.jsx("option",{value:"PENDING",children:"Pendientes"}),c.jsx("option",{value:"REJECTED",children:"Rechazadas"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categora"}),c.jsxs("select",{value:y.category,onChange:k=>v({...y,category:k.target.value}),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-green-500 focus:border-green-500",children:[c.jsx("option",{value:"",children:"Todas"}),c.jsx("option",{value:"MARKETING",children:"Marketing"}),c.jsx("option",{value:"UTILITY",children:"Utilidad"}),c.jsx("option",{value:"AUTHENTICATION",children:"Autenticacin"})]})]}),c.jsx("div",{className:"flex-1"}),c.jsxs("div",{className:"text-sm text-gray-500",children:[m.length," plantillas encontradas"]})]}),p?c.jsxs("div",{className:"flex items-center justify-center py-12",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-500"}),c.jsx("span",{className:"ml-3 text-gray-600",children:"Cargando plantillas de Meta..."})]}):m.length===0?c.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[c.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),c.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No se encontraron plantillas"}),c.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Ajusta los filtros o crea plantillas en Meta Business Suite"})]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map((k,Z)=>{const V=k.components?.find(le=>le.type==="BODY")?.text||"",I={APPROVED:"bg-green-100 text-green-800",PENDING:"bg-yellow-100 text-yellow-800",REJECTED:"bg-red-100 text-red-800"},te={MARKETING:"bg-blue-100 text-blue-800",UTILITY:"bg-purple-100 text-purple-800",AUTHENTICATION:"bg-pink-100 text-pink-800"};return c.jsx("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow overflow-hidden border border-gray-200",children:c.jsxs("div",{className:"p-5",children:[c.jsx("div",{className:"flex items-start justify-between mb-3",children:c.jsx("h3",{className:"text-base font-semibold text-gray-900 font-mono",children:k.name})}),c.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[c.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${I[k.status]||"bg-gray-100 text-gray-800"}`,children:k.status}),c.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${te[k.category]||"bg-gray-100 text-gray-800"}`,children:k.category}),c.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800",children:k.language})]}),c.jsx("div",{className:"bg-gray-50 rounded-lg p-3 mb-4 max-h-32 overflow-y-auto",children:c.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:V.length>200?V.substring(0,200)+"...":V||"(Sin contenido)"})}),c.jsx("button",{onClick:()=>E(k),disabled:k.status!=="APPROVED",className:`w-full px-4 py-2 rounded-lg font-medium transition-colors ${k.status==="APPROVED"?"bg-green-600 text-white hover:bg-green-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:k.status==="APPROVED"?"Probar Plantilla":"No disponible"})]})},`${k.name}-${k.language}-${Z}`)})})]}),N&&c.jsx(d4,{template:N,onClose:()=>E(null)})]})}function lt(t){if(typeof t=="string"||typeof t=="number")return""+t;let a="";if(Array.isArray(t))for(let i=0,s;i<t.length;i++)(s=lt(t[i]))!==""&&(a+=(a&&" ")+s);else for(let i in t)t[i]&&(a+=(a&&" ")+i);return a}var h4={value:()=>{}};function Hc(){for(var t=0,a=arguments.length,i={},s;t<a;++t){if(!(s=arguments[t]+"")||s in i||/[\s.]/.test(s))throw new Error("illegal type: "+s);i[s]=[]}return new sc(i)}function sc(t){this._=t}function m4(t,a){return t.trim().split(/^|\s+/).map(function(i){var s="",l=i.indexOf(".");if(l>=0&&(s=i.slice(l+1),i=i.slice(0,l)),i&&!a.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:s}})}sc.prototype=Hc.prototype={constructor:sc,on:function(t,a){var i=this._,s=m4(t+"",i),l,u=-1,f=s.length;if(arguments.length<2){for(;++u<f;)if((l=(t=s[u]).type)&&(l=p4(i[l],t.name)))return l;return}if(a!=null&&typeof a!="function")throw new Error("invalid callback: "+a);for(;++u<f;)if(l=(t=s[u]).type)i[l]=hy(i[l],t.name,a);else if(a==null)for(l in i)i[l]=hy(i[l],t.name,null);return this},copy:function(){var t={},a=this._;for(var i in a)t[i]=a[i].slice();return new sc(t)},call:function(t,a){if((l=arguments.length-2)>0)for(var i=new Array(l),s=0,l,u;s<l;++s)i[s]=arguments[s+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(u=this._[t],s=0,l=u.length;s<l;++s)u[s].value.apply(a,i)},apply:function(t,a,i){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var s=this._[t],l=0,u=s.length;l<u;++l)s[l].value.apply(a,i)}};function p4(t,a){for(var i=0,s=t.length,l;i<s;++i)if((l=t[i]).name===a)return l.value}function hy(t,a,i){for(var s=0,l=t.length;s<l;++s)if(t[s].name===a){t[s]=h4,t=t.slice(0,s).concat(t.slice(s+1));break}return i!=null&&t.push({name:a,value:i}),t}var eh="http://www.w3.org/1999/xhtml";const my={svg:"http://www.w3.org/2000/svg",xhtml:eh,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Lc(t){var a=t+="",i=a.indexOf(":");return i>=0&&(a=t.slice(0,i))!=="xmlns"&&(t=t.slice(i+1)),my.hasOwnProperty(a)?{space:my[a],local:t}:t}function g4(t){return function(){var a=this.ownerDocument,i=this.namespaceURI;return i===eh&&a.documentElement.namespaceURI===eh?a.createElement(t):a.createElementNS(i,t)}}function y4(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function vv(t){var a=Lc(t);return(a.local?y4:g4)(a)}function x4(){}function Ah(t){return t==null?x4:function(){return this.querySelector(t)}}function v4(t){typeof t!="function"&&(t=Ah(t));for(var a=this._groups,i=a.length,s=new Array(i),l=0;l<i;++l)for(var u=a[l],f=u.length,m=s[l]=new Array(f),g,p,x=0;x<f;++x)(g=u[x])&&(p=t.call(g,g.__data__,x,u))&&("__data__"in g&&(p.__data__=g.__data__),m[x]=p);return new Xt(s,this._parents)}function b4(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function w4(){return[]}function bv(t){return t==null?w4:function(){return this.querySelectorAll(t)}}function S4(t){return function(){return b4(t.apply(this,arguments))}}function N4(t){typeof t=="function"?t=S4(t):t=bv(t);for(var a=this._groups,i=a.length,s=[],l=[],u=0;u<i;++u)for(var f=a[u],m=f.length,g,p=0;p<m;++p)(g=f[p])&&(s.push(t.call(g,g.__data__,p,f)),l.push(g));return new Xt(s,l)}function wv(t){return function(){return this.matches(t)}}function Sv(t){return function(a){return a.matches(t)}}var E4=Array.prototype.find;function j4(t){return function(){return E4.call(this.children,t)}}function _4(){return this.firstElementChild}function C4(t){return this.select(t==null?_4:j4(typeof t=="function"?t:Sv(t)))}var T4=Array.prototype.filter;function M4(){return Array.from(this.children)}function A4(t){return function(){return T4.call(this.children,t)}}function R4(t){return this.selectAll(t==null?M4:A4(typeof t=="function"?t:Sv(t)))}function z4(t){typeof t!="function"&&(t=wv(t));for(var a=this._groups,i=a.length,s=new Array(i),l=0;l<i;++l)for(var u=a[l],f=u.length,m=s[l]=[],g,p=0;p<f;++p)(g=u[p])&&t.call(g,g.__data__,p,u)&&m.push(g);return new Xt(s,this._parents)}function Nv(t){return new Array(t.length)}function D4(){return new Xt(this._enter||this._groups.map(Nv),this._parents)}function yc(t,a){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=a}yc.prototype={constructor:yc,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,a){return this._parent.insertBefore(t,a)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function O4(t){return function(){return t}}function k4(t,a,i,s,l,u){for(var f=0,m,g=a.length,p=u.length;f<p;++f)(m=a[f])?(m.__data__=u[f],s[f]=m):i[f]=new yc(t,u[f]);for(;f<g;++f)(m=a[f])&&(l[f]=m)}function B4(t,a,i,s,l,u,f){var m,g,p=new Map,x=a.length,y=u.length,v=new Array(x),N;for(m=0;m<x;++m)(g=a[m])&&(v[m]=N=f.call(g,g.__data__,m,a)+"",p.has(N)?l[m]=g:p.set(N,g));for(m=0;m<y;++m)N=f.call(t,u[m],m,u)+"",(g=p.get(N))?(s[m]=g,g.__data__=u[m],p.delete(N)):i[m]=new yc(t,u[m]);for(m=0;m<x;++m)(g=a[m])&&p.get(v[m])===g&&(l[m]=g)}function H4(t){return t.__data__}function L4(t,a){if(!arguments.length)return Array.from(this,H4);var i=a?B4:k4,s=this._parents,l=this._groups;typeof t!="function"&&(t=O4(t));for(var u=l.length,f=new Array(u),m=new Array(u),g=new Array(u),p=0;p<u;++p){var x=s[p],y=l[p],v=y.length,N=U4(t.call(x,x&&x.__data__,p,s)),E=N.length,A=m[p]=new Array(E),S=f[p]=new Array(E),j=g[p]=new Array(v);i(x,y,A,S,j,N,a);for(var _=0,w=0,M,B;_<E;++_)if(M=A[_]){for(_>=w&&(w=_+1);!(B=S[w])&&++w<E;);M._next=B||null}}return f=new Xt(f,s),f._enter=m,f._exit=g,f}function U4(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function $4(){return new Xt(this._exit||this._groups.map(Nv),this._parents)}function q4(t,a,i){var s=this.enter(),l=this,u=this.exit();return typeof t=="function"?(s=t(s),s&&(s=s.selection())):s=s.append(t+""),a!=null&&(l=a(l),l&&(l=l.selection())),i==null?u.remove():i(u),s&&l?s.merge(l).order():l}function V4(t){for(var a=t.selection?t.selection():t,i=this._groups,s=a._groups,l=i.length,u=s.length,f=Math.min(l,u),m=new Array(l),g=0;g<f;++g)for(var p=i[g],x=s[g],y=p.length,v=m[g]=new Array(y),N,E=0;E<y;++E)(N=p[E]||x[E])&&(v[E]=N);for(;g<l;++g)m[g]=i[g];return new Xt(m,this._parents)}function Y4(){for(var t=this._groups,a=-1,i=t.length;++a<i;)for(var s=t[a],l=s.length-1,u=s[l],f;--l>=0;)(f=s[l])&&(u&&f.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(f,u),u=f);return this}function X4(t){t||(t=G4);function a(y,v){return y&&v?t(y.__data__,v.__data__):!y-!v}for(var i=this._groups,s=i.length,l=new Array(s),u=0;u<s;++u){for(var f=i[u],m=f.length,g=l[u]=new Array(m),p,x=0;x<m;++x)(p=f[x])&&(g[x]=p);g.sort(a)}return new Xt(l,this._parents).order()}function G4(t,a){return t<a?-1:t>a?1:t>=a?0:NaN}function Z4(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Q4(){return Array.from(this)}function P4(){for(var t=this._groups,a=0,i=t.length;a<i;++a)for(var s=t[a],l=0,u=s.length;l<u;++l){var f=s[l];if(f)return f}return null}function I4(){let t=0;for(const a of this)++t;return t}function F4(){return!this.node()}function W4(t){for(var a=this._groups,i=0,s=a.length;i<s;++i)for(var l=a[i],u=0,f=l.length,m;u<f;++u)(m=l[u])&&t.call(m,m.__data__,u,l);return this}function K4(t){return function(){this.removeAttribute(t)}}function J4(t){return function(){this.removeAttributeNS(t.space,t.local)}}function e5(t,a){return function(){this.setAttribute(t,a)}}function t5(t,a){return function(){this.setAttributeNS(t.space,t.local,a)}}function n5(t,a){return function(){var i=a.apply(this,arguments);i==null?this.removeAttribute(t):this.setAttribute(t,i)}}function a5(t,a){return function(){var i=a.apply(this,arguments);i==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,i)}}function i5(t,a){var i=Lc(t);if(arguments.length<2){var s=this.node();return i.local?s.getAttributeNS(i.space,i.local):s.getAttribute(i)}return this.each((a==null?i.local?J4:K4:typeof a=="function"?i.local?a5:n5:i.local?t5:e5)(i,a))}function Ev(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function r5(t){return function(){this.style.removeProperty(t)}}function s5(t,a,i){return function(){this.style.setProperty(t,a,i)}}function o5(t,a,i){return function(){var s=a.apply(this,arguments);s==null?this.style.removeProperty(t):this.style.setProperty(t,s,i)}}function l5(t,a,i){return arguments.length>1?this.each((a==null?r5:typeof a=="function"?o5:s5)(t,a,i??"")):Er(this.node(),t)}function Er(t,a){return t.style.getPropertyValue(a)||Ev(t).getComputedStyle(t,null).getPropertyValue(a)}function c5(t){return function(){delete this[t]}}function u5(t,a){return function(){this[t]=a}}function d5(t,a){return function(){var i=a.apply(this,arguments);i==null?delete this[t]:this[t]=i}}function f5(t,a){return arguments.length>1?this.each((a==null?c5:typeof a=="function"?d5:u5)(t,a)):this.node()[t]}function jv(t){return t.trim().split(/^|\s+/)}function Rh(t){return t.classList||new _v(t)}function _v(t){this._node=t,this._names=jv(t.getAttribute("class")||"")}_v.prototype={add:function(t){var a=this._names.indexOf(t);a<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var a=this._names.indexOf(t);a>=0&&(this._names.splice(a,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Cv(t,a){for(var i=Rh(t),s=-1,l=a.length;++s<l;)i.add(a[s])}function Tv(t,a){for(var i=Rh(t),s=-1,l=a.length;++s<l;)i.remove(a[s])}function h5(t){return function(){Cv(this,t)}}function m5(t){return function(){Tv(this,t)}}function p5(t,a){return function(){(a.apply(this,arguments)?Cv:Tv)(this,t)}}function g5(t,a){var i=jv(t+"");if(arguments.length<2){for(var s=Rh(this.node()),l=-1,u=i.length;++l<u;)if(!s.contains(i[l]))return!1;return!0}return this.each((typeof a=="function"?p5:a?h5:m5)(i,a))}function y5(){this.textContent=""}function x5(t){return function(){this.textContent=t}}function v5(t){return function(){var a=t.apply(this,arguments);this.textContent=a??""}}function b5(t){return arguments.length?this.each(t==null?y5:(typeof t=="function"?v5:x5)(t)):this.node().textContent}function w5(){this.innerHTML=""}function S5(t){return function(){this.innerHTML=t}}function N5(t){return function(){var a=t.apply(this,arguments);this.innerHTML=a??""}}function E5(t){return arguments.length?this.each(t==null?w5:(typeof t=="function"?N5:S5)(t)):this.node().innerHTML}function j5(){this.nextSibling&&this.parentNode.appendChild(this)}function _5(){return this.each(j5)}function C5(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function T5(){return this.each(C5)}function M5(t){var a=typeof t=="function"?t:vv(t);return this.select(function(){return this.appendChild(a.apply(this,arguments))})}function A5(){return null}function R5(t,a){var i=typeof t=="function"?t:vv(t),s=a==null?A5:typeof a=="function"?a:Ah(a);return this.select(function(){return this.insertBefore(i.apply(this,arguments),s.apply(this,arguments)||null)})}function z5(){var t=this.parentNode;t&&t.removeChild(this)}function D5(){return this.each(z5)}function O5(){var t=this.cloneNode(!1),a=this.parentNode;return a?a.insertBefore(t,this.nextSibling):t}function k5(){var t=this.cloneNode(!0),a=this.parentNode;return a?a.insertBefore(t,this.nextSibling):t}function B5(t){return this.select(t?k5:O5)}function H5(t){return arguments.length?this.property("__data__",t):this.node().__data__}function L5(t){return function(a){t.call(this,a,this.__data__)}}function U5(t){return t.trim().split(/^|\s+/).map(function(a){var i="",s=a.indexOf(".");return s>=0&&(i=a.slice(s+1),a=a.slice(0,s)),{type:a,name:i}})}function $5(t){return function(){var a=this.__on;if(a){for(var i=0,s=-1,l=a.length,u;i<l;++i)u=a[i],(!t.type||u.type===t.type)&&u.name===t.name?this.removeEventListener(u.type,u.listener,u.options):a[++s]=u;++s?a.length=s:delete this.__on}}}function q5(t,a,i){return function(){var s=this.__on,l,u=L5(a);if(s){for(var f=0,m=s.length;f<m;++f)if((l=s[f]).type===t.type&&l.name===t.name){this.removeEventListener(l.type,l.listener,l.options),this.addEventListener(l.type,l.listener=u,l.options=i),l.value=a;return}}this.addEventListener(t.type,u,i),l={type:t.type,name:t.name,value:a,listener:u,options:i},s?s.push(l):this.__on=[l]}}function V5(t,a,i){var s=U5(t+""),l,u=s.length,f;if(arguments.length<2){var m=this.node().__on;if(m){for(var g=0,p=m.length,x;g<p;++g)for(l=0,x=m[g];l<u;++l)if((f=s[l]).type===x.type&&f.name===x.name)return x.value}return}for(m=a?q5:$5,l=0;l<u;++l)this.each(m(s[l],a,i));return this}function Mv(t,a,i){var s=Ev(t),l=s.CustomEvent;typeof l=="function"?l=new l(a,i):(l=s.document.createEvent("Event"),i?(l.initEvent(a,i.bubbles,i.cancelable),l.detail=i.detail):l.initEvent(a,!1,!1)),t.dispatchEvent(l)}function Y5(t,a){return function(){return Mv(this,t,a)}}function X5(t,a){return function(){return Mv(this,t,a.apply(this,arguments))}}function G5(t,a){return this.each((typeof a=="function"?X5:Y5)(t,a))}function*Z5(){for(var t=this._groups,a=0,i=t.length;a<i;++a)for(var s=t[a],l=0,u=s.length,f;l<u;++l)(f=s[l])&&(yield f)}var Av=[null];function Xt(t,a){this._groups=t,this._parents=a}function ro(){return new Xt([[document.documentElement]],Av)}function Q5(){return this}Xt.prototype=ro.prototype={constructor:Xt,select:v4,selectAll:N4,selectChild:C4,selectChildren:R4,filter:z4,data:L4,enter:D4,exit:$4,join:q4,merge:V4,selection:Q5,order:Y4,sort:X4,call:Z4,nodes:Q4,node:P4,size:I4,empty:F4,each:W4,attr:i5,style:l5,property:f5,classed:g5,text:b5,html:E5,raise:_5,lower:T5,append:M5,insert:R5,remove:D5,clone:B5,datum:H5,on:V5,dispatch:G5,[Symbol.iterator]:Z5};function Vt(t){return typeof t=="string"?new Xt([[document.querySelector(t)]],[document.documentElement]):new Xt([[t]],Av)}function P5(t){let a;for(;a=t.sourceEvent;)t=a;return t}function un(t,a){if(t=P5(t),a===void 0&&(a=t.currentTarget),a){var i=a.ownerSVGElement||a;if(i.createSVGPoint){var s=i.createSVGPoint();return s.x=t.clientX,s.y=t.clientY,s=s.matrixTransform(a.getScreenCTM().inverse()),[s.x,s.y]}if(a.getBoundingClientRect){var l=a.getBoundingClientRect();return[t.clientX-l.left-a.clientLeft,t.clientY-l.top-a.clientTop]}}return[t.pageX,t.pageY]}const I5={passive:!1},Gs={capture:!0,passive:!1};function Cf(t){t.stopImmediatePropagation()}function br(t){t.preventDefault(),t.stopImmediatePropagation()}function Rv(t){var a=t.document.documentElement,i=Vt(t).on("dragstart.drag",br,Gs);"onselectstart"in a?i.on("selectstart.drag",br,Gs):(a.__noselect=a.style.MozUserSelect,a.style.MozUserSelect="none")}function zv(t,a){var i=t.document.documentElement,s=Vt(t).on("dragstart.drag",null);a&&(s.on("click.drag",br,Gs),setTimeout(function(){s.on("click.drag",null)},0)),"onselectstart"in i?s.on("selectstart.drag",null):(i.style.MozUserSelect=i.__noselect,delete i.__noselect)}const Vl=t=>()=>t;function th(t,{sourceEvent:a,subject:i,target:s,identifier:l,active:u,x:f,y:m,dx:g,dy:p,dispatch:x}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:a,enumerable:!0,configurable:!0},subject:{value:i,enumerable:!0,configurable:!0},target:{value:s,enumerable:!0,configurable:!0},identifier:{value:l,enumerable:!0,configurable:!0},active:{value:u,enumerable:!0,configurable:!0},x:{value:f,enumerable:!0,configurable:!0},y:{value:m,enumerable:!0,configurable:!0},dx:{value:g,enumerable:!0,configurable:!0},dy:{value:p,enumerable:!0,configurable:!0},_:{value:x}})}th.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function F5(t){return!t.ctrlKey&&!t.button}function W5(){return this.parentNode}function K5(t,a){return a??{x:t.x,y:t.y}}function J5(){return navigator.maxTouchPoints||"ontouchstart"in this}function Dv(){var t=F5,a=W5,i=K5,s=J5,l={},u=Hc("start","drag","end"),f=0,m,g,p,x,y=0;function v(M){M.on("mousedown.drag",N).filter(s).on("touchstart.drag",S).on("touchmove.drag",j,I5).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function N(M,B){if(!(x||!t.call(this,M,B))){var L=w(this,a.call(this,M,B),M,B,"mouse");L&&(Vt(M.view).on("mousemove.drag",E,Gs).on("mouseup.drag",A,Gs),Rv(M.view),Cf(M),p=!1,m=M.clientX,g=M.clientY,L("start",M))}}function E(M){if(br(M),!p){var B=M.clientX-m,L=M.clientY-g;p=B*B+L*L>y}l.mouse("drag",M)}function A(M){Vt(M.view).on("mousemove.drag mouseup.drag",null),zv(M.view,p),br(M),l.mouse("end",M)}function S(M,B){if(t.call(this,M,B)){var L=M.changedTouches,O=a.call(this,M,B),X=L.length,J,se;for(J=0;J<X;++J)(se=w(this,O,M,B,L[J].identifier,L[J]))&&(Cf(M),se("start",M,L[J]))}}function j(M){var B=M.changedTouches,L=B.length,O,X;for(O=0;O<L;++O)(X=l[B[O].identifier])&&(br(M),X("drag",M,B[O]))}function _(M){var B=M.changedTouches,L=B.length,O,X;for(x&&clearTimeout(x),x=setTimeout(function(){x=null},500),O=0;O<L;++O)(X=l[B[O].identifier])&&(Cf(M),X("end",M,B[O]))}function w(M,B,L,O,X,J){var se=u.copy(),P=un(J||L,B),F,q,H;if((H=i.call(M,new th("beforestart",{sourceEvent:L,target:v,identifier:X,active:f,x:P[0],y:P[1],dx:0,dy:0,dispatch:se}),O))!=null)return F=H.x-P[0]||0,q=H.y-P[1]||0,function Q(R,D,U){var k=P,Z;switch(R){case"start":l[X]=Q,Z=f++;break;case"end":delete l[X],--f;case"drag":P=un(U||D,B),Z=f;break}se.call(R,M,new th(R,{sourceEvent:D,subject:H,target:v,identifier:X,active:Z,x:P[0]+F,y:P[1]+q,dx:P[0]-k[0],dy:P[1]-k[1],dispatch:se}),O)}}return v.filter=function(M){return arguments.length?(t=typeof M=="function"?M:Vl(!!M),v):t},v.container=function(M){return arguments.length?(a=typeof M=="function"?M:Vl(M),v):a},v.subject=function(M){return arguments.length?(i=typeof M=="function"?M:Vl(M),v):i},v.touchable=function(M){return arguments.length?(s=typeof M=="function"?M:Vl(!!M),v):s},v.on=function(){var M=u.on.apply(u,arguments);return M===u?v:M},v.clickDistance=function(M){return arguments.length?(y=(M=+M)*M,v):Math.sqrt(y)},v}function zh(t,a,i){t.prototype=a.prototype=i,i.constructor=t}function Ov(t,a){var i=Object.create(t.prototype);for(var s in a)i[s]=a[s];return i}function so(){}var Zs=.7,xc=1/Zs,wr="\\s*([+-]?\\d+)\\s*",Qs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",jn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",e3=/^#([0-9a-f]{3,8})$/,t3=new RegExp(`^rgb\\(${wr},${wr},${wr}\\)$`),n3=new RegExp(`^rgb\\(${jn},${jn},${jn}\\)$`),a3=new RegExp(`^rgba\\(${wr},${wr},${wr},${Qs}\\)$`),i3=new RegExp(`^rgba\\(${jn},${jn},${jn},${Qs}\\)$`),r3=new RegExp(`^hsl\\(${Qs},${jn},${jn}\\)$`),s3=new RegExp(`^hsla\\(${Qs},${jn},${jn},${Qs}\\)$`),py={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};zh(so,wi,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:gy,formatHex:gy,formatHex8:o3,formatHsl:l3,formatRgb:yy,toString:yy});function gy(){return this.rgb().formatHex()}function o3(){return this.rgb().formatHex8()}function l3(){return kv(this).formatHsl()}function yy(){return this.rgb().formatRgb()}function wi(t){var a,i;return t=(t+"").trim().toLowerCase(),(a=e3.exec(t))?(i=a[1].length,a=parseInt(a[1],16),i===6?xy(a):i===3?new Dt(a>>8&15|a>>4&240,a>>4&15|a&240,(a&15)<<4|a&15,1):i===8?Yl(a>>24&255,a>>16&255,a>>8&255,(a&255)/255):i===4?Yl(a>>12&15|a>>8&240,a>>8&15|a>>4&240,a>>4&15|a&240,((a&15)<<4|a&15)/255):null):(a=t3.exec(t))?new Dt(a[1],a[2],a[3],1):(a=n3.exec(t))?new Dt(a[1]*255/100,a[2]*255/100,a[3]*255/100,1):(a=a3.exec(t))?Yl(a[1],a[2],a[3],a[4]):(a=i3.exec(t))?Yl(a[1]*255/100,a[2]*255/100,a[3]*255/100,a[4]):(a=r3.exec(t))?wy(a[1],a[2]/100,a[3]/100,1):(a=s3.exec(t))?wy(a[1],a[2]/100,a[3]/100,a[4]):py.hasOwnProperty(t)?xy(py[t]):t==="transparent"?new Dt(NaN,NaN,NaN,0):null}function xy(t){return new Dt(t>>16&255,t>>8&255,t&255,1)}function Yl(t,a,i,s){return s<=0&&(t=a=i=NaN),new Dt(t,a,i,s)}function c3(t){return t instanceof so||(t=wi(t)),t?(t=t.rgb(),new Dt(t.r,t.g,t.b,t.opacity)):new Dt}function nh(t,a,i,s){return arguments.length===1?c3(t):new Dt(t,a,i,s??1)}function Dt(t,a,i,s){this.r=+t,this.g=+a,this.b=+i,this.opacity=+s}zh(Dt,nh,Ov(so,{brighter(t){return t=t==null?xc:Math.pow(xc,t),new Dt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Zs:Math.pow(Zs,t),new Dt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Dt(vi(this.r),vi(this.g),vi(this.b),vc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:vy,formatHex:vy,formatHex8:u3,formatRgb:by,toString:by}));function vy(){return`#${yi(this.r)}${yi(this.g)}${yi(this.b)}`}function u3(){return`#${yi(this.r)}${yi(this.g)}${yi(this.b)}${yi((isNaN(this.opacity)?1:this.opacity)*255)}`}function by(){const t=vc(this.opacity);return`${t===1?"rgb(":"rgba("}${vi(this.r)}, ${vi(this.g)}, ${vi(this.b)}${t===1?")":`, ${t})`}`}function vc(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function vi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function yi(t){return t=vi(t),(t<16?"0":"")+t.toString(16)}function wy(t,a,i,s){return s<=0?t=a=i=NaN:i<=0||i>=1?t=a=NaN:a<=0&&(t=NaN),new dn(t,a,i,s)}function kv(t){if(t instanceof dn)return new dn(t.h,t.s,t.l,t.opacity);if(t instanceof so||(t=wi(t)),!t)return new dn;if(t instanceof dn)return t;t=t.rgb();var a=t.r/255,i=t.g/255,s=t.b/255,l=Math.min(a,i,s),u=Math.max(a,i,s),f=NaN,m=u-l,g=(u+l)/2;return m?(a===u?f=(i-s)/m+(i<s)*6:i===u?f=(s-a)/m+2:f=(a-i)/m+4,m/=g<.5?u+l:2-u-l,f*=60):m=g>0&&g<1?0:f,new dn(f,m,g,t.opacity)}function d3(t,a,i,s){return arguments.length===1?kv(t):new dn(t,a,i,s??1)}function dn(t,a,i,s){this.h=+t,this.s=+a,this.l=+i,this.opacity=+s}zh(dn,d3,Ov(so,{brighter(t){return t=t==null?xc:Math.pow(xc,t),new dn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Zs:Math.pow(Zs,t),new dn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,a=isNaN(t)||isNaN(this.s)?0:this.s,i=this.l,s=i+(i<.5?i:1-i)*a,l=2*i-s;return new Dt(Tf(t>=240?t-240:t+120,l,s),Tf(t,l,s),Tf(t<120?t+240:t-120,l,s),this.opacity)},clamp(){return new dn(Sy(this.h),Xl(this.s),Xl(this.l),vc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=vc(this.opacity);return`${t===1?"hsl(":"hsla("}${Sy(this.h)}, ${Xl(this.s)*100}%, ${Xl(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Sy(t){return t=(t||0)%360,t<0?t+360:t}function Xl(t){return Math.max(0,Math.min(1,t||0))}function Tf(t,a,i){return(t<60?a+(i-a)*t/60:t<180?i:t<240?a+(i-a)*(240-t)/60:a)*255}const Dh=t=>()=>t;function f3(t,a){return function(i){return t+i*a}}function h3(t,a,i){return t=Math.pow(t,i),a=Math.pow(a,i)-t,i=1/i,function(s){return Math.pow(t+s*a,i)}}function m3(t){return(t=+t)==1?Bv:function(a,i){return i-a?h3(a,i,t):Dh(isNaN(a)?i:a)}}function Bv(t,a){var i=a-t;return i?f3(t,i):Dh(isNaN(t)?a:t)}const bc=(function t(a){var i=m3(a);function s(l,u){var f=i((l=nh(l)).r,(u=nh(u)).r),m=i(l.g,u.g),g=i(l.b,u.b),p=Bv(l.opacity,u.opacity);return function(x){return l.r=f(x),l.g=m(x),l.b=g(x),l.opacity=p(x),l+""}}return s.gamma=t,s})(1);function p3(t,a){a||(a=[]);var i=t?Math.min(a.length,t.length):0,s=a.slice(),l;return function(u){for(l=0;l<i;++l)s[l]=t[l]*(1-u)+a[l]*u;return s}}function g3(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function y3(t,a){var i=a?a.length:0,s=t?Math.min(i,t.length):0,l=new Array(s),u=new Array(i),f;for(f=0;f<s;++f)l[f]=qs(t[f],a[f]);for(;f<i;++f)u[f]=a[f];return function(m){for(f=0;f<s;++f)u[f]=l[f](m);return u}}function x3(t,a){var i=new Date;return t=+t,a=+a,function(s){return i.setTime(t*(1-s)+a*s),i}}function wn(t,a){return t=+t,a=+a,function(i){return t*(1-i)+a*i}}function v3(t,a){var i={},s={},l;(t===null||typeof t!="object")&&(t={}),(a===null||typeof a!="object")&&(a={});for(l in a)l in t?i[l]=qs(t[l],a[l]):s[l]=a[l];return function(u){for(l in i)s[l]=i[l](u);return s}}var ah=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Mf=new RegExp(ah.source,"g");function b3(t){return function(){return t}}function w3(t){return function(a){return t(a)+""}}function Hv(t,a){var i=ah.lastIndex=Mf.lastIndex=0,s,l,u,f=-1,m=[],g=[];for(t=t+"",a=a+"";(s=ah.exec(t))&&(l=Mf.exec(a));)(u=l.index)>i&&(u=a.slice(i,u),m[f]?m[f]+=u:m[++f]=u),(s=s[0])===(l=l[0])?m[f]?m[f]+=l:m[++f]=l:(m[++f]=null,g.push({i:f,x:wn(s,l)})),i=Mf.lastIndex;return i<a.length&&(u=a.slice(i),m[f]?m[f]+=u:m[++f]=u),m.length<2?g[0]?w3(g[0].x):b3(a):(a=g.length,function(p){for(var x=0,y;x<a;++x)m[(y=g[x]).i]=y.x(p);return m.join("")})}function qs(t,a){var i=typeof a,s;return a==null||i==="boolean"?Dh(a):(i==="number"?wn:i==="string"?(s=wi(a))?(a=s,bc):Hv:a instanceof wi?bc:a instanceof Date?x3:g3(a)?p3:Array.isArray(a)?y3:typeof a.valueOf!="function"&&typeof a.toString!="function"||isNaN(a)?v3:wn)(t,a)}var Ny=180/Math.PI,ih={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Lv(t,a,i,s,l,u){var f,m,g;return(f=Math.sqrt(t*t+a*a))&&(t/=f,a/=f),(g=t*i+a*s)&&(i-=t*g,s-=a*g),(m=Math.sqrt(i*i+s*s))&&(i/=m,s/=m,g/=m),t*s<a*i&&(t=-t,a=-a,g=-g,f=-f),{translateX:l,translateY:u,rotate:Math.atan2(a,t)*Ny,skewX:Math.atan(g)*Ny,scaleX:f,scaleY:m}}var Gl;function S3(t){const a=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return a.isIdentity?ih:Lv(a.a,a.b,a.c,a.d,a.e,a.f)}function N3(t){return t==null||(Gl||(Gl=document.createElementNS("http://www.w3.org/2000/svg","g")),Gl.setAttribute("transform",t),!(t=Gl.transform.baseVal.consolidate()))?ih:(t=t.matrix,Lv(t.a,t.b,t.c,t.d,t.e,t.f))}function Uv(t,a,i,s){function l(p){return p.length?p.pop()+" ":""}function u(p,x,y,v,N,E){if(p!==y||x!==v){var A=N.push("translate(",null,a,null,i);E.push({i:A-4,x:wn(p,y)},{i:A-2,x:wn(x,v)})}else(y||v)&&N.push("translate("+y+a+v+i)}function f(p,x,y,v){p!==x?(p-x>180?x+=360:x-p>180&&(p+=360),v.push({i:y.push(l(y)+"rotate(",null,s)-2,x:wn(p,x)})):x&&y.push(l(y)+"rotate("+x+s)}function m(p,x,y,v){p!==x?v.push({i:y.push(l(y)+"skewX(",null,s)-2,x:wn(p,x)}):x&&y.push(l(y)+"skewX("+x+s)}function g(p,x,y,v,N,E){if(p!==y||x!==v){var A=N.push(l(N)+"scale(",null,",",null,")");E.push({i:A-4,x:wn(p,y)},{i:A-2,x:wn(x,v)})}else(y!==1||v!==1)&&N.push(l(N)+"scale("+y+","+v+")")}return function(p,x){var y=[],v=[];return p=t(p),x=t(x),u(p.translateX,p.translateY,x.translateX,x.translateY,y,v),f(p.rotate,x.rotate,y,v),m(p.skewX,x.skewX,y,v),g(p.scaleX,p.scaleY,x.scaleX,x.scaleY,y,v),p=x=null,function(N){for(var E=-1,A=v.length,S;++E<A;)y[(S=v[E]).i]=S.x(N);return y.join("")}}}var E3=Uv(S3,"px, ","px)","deg)"),j3=Uv(N3,", ",")",")"),_3=1e-12;function Ey(t){return((t=Math.exp(t))+1/t)/2}function C3(t){return((t=Math.exp(t))-1/t)/2}function T3(t){return((t=Math.exp(2*t))-1)/(t+1)}const oc=(function t(a,i,s){function l(u,f){var m=u[0],g=u[1],p=u[2],x=f[0],y=f[1],v=f[2],N=x-m,E=y-g,A=N*N+E*E,S,j;if(A<_3)j=Math.log(v/p)/a,S=function(O){return[m+O*N,g+O*E,p*Math.exp(a*O*j)]};else{var _=Math.sqrt(A),w=(v*v-p*p+s*A)/(2*p*i*_),M=(v*v-p*p-s*A)/(2*v*i*_),B=Math.log(Math.sqrt(w*w+1)-w),L=Math.log(Math.sqrt(M*M+1)-M);j=(L-B)/a,S=function(O){var X=O*j,J=Ey(B),se=p/(i*_)*(J*T3(a*X+B)-C3(B));return[m+se*N,g+se*E,p*J/Ey(a*X+B)]}}return S.duration=j*1e3*a/Math.SQRT2,S}return l.rho=function(u){var f=Math.max(.001,+u),m=f*f,g=m*m;return t(f,m,g)},l})(Math.SQRT2,2,4);var jr=0,Us=0,ks=0,$v=1e3,wc,$s,Sc=0,Si=0,Uc=0,Ps=typeof performance=="object"&&performance.now?performance:Date,qv=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Oh(){return Si||(qv(M3),Si=Ps.now()+Uc)}function M3(){Si=0}function Nc(){this._call=this._time=this._next=null}Nc.prototype=Vv.prototype={constructor:Nc,restart:function(t,a,i){if(typeof t!="function")throw new TypeError("callback is not a function");i=(i==null?Oh():+i)+(a==null?0:+a),!this._next&&$s!==this&&($s?$s._next=this:wc=this,$s=this),this._call=t,this._time=i,rh()},stop:function(){this._call&&(this._call=null,this._time=1/0,rh())}};function Vv(t,a,i){var s=new Nc;return s.restart(t,a,i),s}function A3(){Oh(),++jr;for(var t=wc,a;t;)(a=Si-t._time)>=0&&t._call.call(void 0,a),t=t._next;--jr}function jy(){Si=(Sc=Ps.now())+Uc,jr=Us=0;try{A3()}finally{jr=0,z3(),Si=0}}function R3(){var t=Ps.now(),a=t-Sc;a>$v&&(Uc-=a,Sc=t)}function z3(){for(var t,a=wc,i,s=1/0;a;)a._call?(s>a._time&&(s=a._time),t=a,a=a._next):(i=a._next,a._next=null,a=t?t._next=i:wc=i);$s=t,rh(s)}function rh(t){if(!jr){Us&&(Us=clearTimeout(Us));var a=t-Si;a>24?(t<1/0&&(Us=setTimeout(jy,t-Ps.now()-Uc)),ks&&(ks=clearInterval(ks))):(ks||(Sc=Ps.now(),ks=setInterval(R3,$v)),jr=1,qv(jy))}}function _y(t,a,i){var s=new Nc;return a=a==null?0:+a,s.restart(l=>{s.stop(),t(l+a)},a,i),s}var D3=Hc("start","end","cancel","interrupt"),O3=[],Yv=0,Cy=1,sh=2,lc=3,Ty=4,oh=5,cc=6;function $c(t,a,i,s,l,u){var f=t.__transition;if(!f)t.__transition={};else if(i in f)return;k3(t,i,{name:a,index:s,group:l,on:D3,tween:O3,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:Yv})}function kh(t,a){var i=mn(t,a);if(i.state>Yv)throw new Error("too late; already scheduled");return i}function Tn(t,a){var i=mn(t,a);if(i.state>lc)throw new Error("too late; already running");return i}function mn(t,a){var i=t.__transition;if(!i||!(i=i[a]))throw new Error("transition not found");return i}function k3(t,a,i){var s=t.__transition,l;s[a]=i,i.timer=Vv(u,0,i.time);function u(p){i.state=Cy,i.timer.restart(f,i.delay,i.time),i.delay<=p&&f(p-i.delay)}function f(p){var x,y,v,N;if(i.state!==Cy)return g();for(x in s)if(N=s[x],N.name===i.name){if(N.state===lc)return _y(f);N.state===Ty?(N.state=cc,N.timer.stop(),N.on.call("interrupt",t,t.__data__,N.index,N.group),delete s[x]):+x<a&&(N.state=cc,N.timer.stop(),N.on.call("cancel",t,t.__data__,N.index,N.group),delete s[x])}if(_y(function(){i.state===lc&&(i.state=Ty,i.timer.restart(m,i.delay,i.time),m(p))}),i.state=sh,i.on.call("start",t,t.__data__,i.index,i.group),i.state===sh){for(i.state=lc,l=new Array(v=i.tween.length),x=0,y=-1;x<v;++x)(N=i.tween[x].value.call(t,t.__data__,i.index,i.group))&&(l[++y]=N);l.length=y+1}}function m(p){for(var x=p<i.duration?i.ease.call(null,p/i.duration):(i.timer.restart(g),i.state=oh,1),y=-1,v=l.length;++y<v;)l[y].call(t,x);i.state===oh&&(i.on.call("end",t,t.__data__,i.index,i.group),g())}function g(){i.state=cc,i.timer.stop(),delete s[a];for(var p in s)return;delete t.__transition}}function uc(t,a){var i=t.__transition,s,l,u=!0,f;if(i){a=a==null?null:a+"";for(f in i){if((s=i[f]).name!==a){u=!1;continue}l=s.state>sh&&s.state<oh,s.state=cc,s.timer.stop(),s.on.call(l?"interrupt":"cancel",t,t.__data__,s.index,s.group),delete i[f]}u&&delete t.__transition}}function B3(t){return this.each(function(){uc(this,t)})}function H3(t,a){var i,s;return function(){var l=Tn(this,t),u=l.tween;if(u!==i){s=i=u;for(var f=0,m=s.length;f<m;++f)if(s[f].name===a){s=s.slice(),s.splice(f,1);break}}l.tween=s}}function L3(t,a,i){var s,l;if(typeof i!="function")throw new Error;return function(){var u=Tn(this,t),f=u.tween;if(f!==s){l=(s=f).slice();for(var m={name:a,value:i},g=0,p=l.length;g<p;++g)if(l[g].name===a){l[g]=m;break}g===p&&l.push(m)}u.tween=l}}function U3(t,a){var i=this._id;if(t+="",arguments.length<2){for(var s=mn(this.node(),i).tween,l=0,u=s.length,f;l<u;++l)if((f=s[l]).name===t)return f.value;return null}return this.each((a==null?H3:L3)(i,t,a))}function Bh(t,a,i){var s=t._id;return t.each(function(){var l=Tn(this,s);(l.value||(l.value={}))[a]=i.apply(this,arguments)}),function(l){return mn(l,s).value[a]}}function Xv(t,a){var i;return(typeof a=="number"?wn:a instanceof wi?bc:(i=wi(a))?(a=i,bc):Hv)(t,a)}function $3(t){return function(){this.removeAttribute(t)}}function q3(t){return function(){this.removeAttributeNS(t.space,t.local)}}function V3(t,a,i){var s,l=i+"",u;return function(){var f=this.getAttribute(t);return f===l?null:f===s?u:u=a(s=f,i)}}function Y3(t,a,i){var s,l=i+"",u;return function(){var f=this.getAttributeNS(t.space,t.local);return f===l?null:f===s?u:u=a(s=f,i)}}function X3(t,a,i){var s,l,u;return function(){var f,m=i(this),g;return m==null?void this.removeAttribute(t):(f=this.getAttribute(t),g=m+"",f===g?null:f===s&&g===l?u:(l=g,u=a(s=f,m)))}}function G3(t,a,i){var s,l,u;return function(){var f,m=i(this),g;return m==null?void this.removeAttributeNS(t.space,t.local):(f=this.getAttributeNS(t.space,t.local),g=m+"",f===g?null:f===s&&g===l?u:(l=g,u=a(s=f,m)))}}function Z3(t,a){var i=Lc(t),s=i==="transform"?j3:Xv;return this.attrTween(t,typeof a=="function"?(i.local?G3:X3)(i,s,Bh(this,"attr."+t,a)):a==null?(i.local?q3:$3)(i):(i.local?Y3:V3)(i,s,a))}function Q3(t,a){return function(i){this.setAttribute(t,a.call(this,i))}}function P3(t,a){return function(i){this.setAttributeNS(t.space,t.local,a.call(this,i))}}function I3(t,a){var i,s;function l(){var u=a.apply(this,arguments);return u!==s&&(i=(s=u)&&P3(t,u)),i}return l._value=a,l}function F3(t,a){var i,s;function l(){var u=a.apply(this,arguments);return u!==s&&(i=(s=u)&&Q3(t,u)),i}return l._value=a,l}function W3(t,a){var i="attr."+t;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(a==null)return this.tween(i,null);if(typeof a!="function")throw new Error;var s=Lc(t);return this.tween(i,(s.local?I3:F3)(s,a))}function K3(t,a){return function(){kh(this,t).delay=+a.apply(this,arguments)}}function J3(t,a){return a=+a,function(){kh(this,t).delay=a}}function eC(t){var a=this._id;return arguments.length?this.each((typeof t=="function"?K3:J3)(a,t)):mn(this.node(),a).delay}function tC(t,a){return function(){Tn(this,t).duration=+a.apply(this,arguments)}}function nC(t,a){return a=+a,function(){Tn(this,t).duration=a}}function aC(t){var a=this._id;return arguments.length?this.each((typeof t=="function"?tC:nC)(a,t)):mn(this.node(),a).duration}function iC(t,a){if(typeof a!="function")throw new Error;return function(){Tn(this,t).ease=a}}function rC(t){var a=this._id;return arguments.length?this.each(iC(a,t)):mn(this.node(),a).ease}function sC(t,a){return function(){var i=a.apply(this,arguments);if(typeof i!="function")throw new Error;Tn(this,t).ease=i}}function oC(t){if(typeof t!="function")throw new Error;return this.each(sC(this._id,t))}function lC(t){typeof t!="function"&&(t=wv(t));for(var a=this._groups,i=a.length,s=new Array(i),l=0;l<i;++l)for(var u=a[l],f=u.length,m=s[l]=[],g,p=0;p<f;++p)(g=u[p])&&t.call(g,g.__data__,p,u)&&m.push(g);return new aa(s,this._parents,this._name,this._id)}function cC(t){if(t._id!==this._id)throw new Error;for(var a=this._groups,i=t._groups,s=a.length,l=i.length,u=Math.min(s,l),f=new Array(s),m=0;m<u;++m)for(var g=a[m],p=i[m],x=g.length,y=f[m]=new Array(x),v,N=0;N<x;++N)(v=g[N]||p[N])&&(y[N]=v);for(;m<s;++m)f[m]=a[m];return new aa(f,this._parents,this._name,this._id)}function uC(t){return(t+"").trim().split(/^|\s+/).every(function(a){var i=a.indexOf(".");return i>=0&&(a=a.slice(0,i)),!a||a==="start"})}function dC(t,a,i){var s,l,u=uC(a)?kh:Tn;return function(){var f=u(this,t),m=f.on;m!==s&&(l=(s=m).copy()).on(a,i),f.on=l}}function fC(t,a){var i=this._id;return arguments.length<2?mn(this.node(),i).on.on(t):this.each(dC(i,t,a))}function hC(t){return function(){var a=this.parentNode;for(var i in this.__transition)if(+i!==t)return;a&&a.removeChild(this)}}function mC(){return this.on("end.remove",hC(this._id))}function pC(t){var a=this._name,i=this._id;typeof t!="function"&&(t=Ah(t));for(var s=this._groups,l=s.length,u=new Array(l),f=0;f<l;++f)for(var m=s[f],g=m.length,p=u[f]=new Array(g),x,y,v=0;v<g;++v)(x=m[v])&&(y=t.call(x,x.__data__,v,m))&&("__data__"in x&&(y.__data__=x.__data__),p[v]=y,$c(p[v],a,i,v,p,mn(x,i)));return new aa(u,this._parents,a,i)}function gC(t){var a=this._name,i=this._id;typeof t!="function"&&(t=bv(t));for(var s=this._groups,l=s.length,u=[],f=[],m=0;m<l;++m)for(var g=s[m],p=g.length,x,y=0;y<p;++y)if(x=g[y]){for(var v=t.call(x,x.__data__,y,g),N,E=mn(x,i),A=0,S=v.length;A<S;++A)(N=v[A])&&$c(N,a,i,A,v,E);u.push(v),f.push(x)}return new aa(u,f,a,i)}var yC=ro.prototype.constructor;function xC(){return new yC(this._groups,this._parents)}function vC(t,a){var i,s,l;return function(){var u=Er(this,t),f=(this.style.removeProperty(t),Er(this,t));return u===f?null:u===i&&f===s?l:l=a(i=u,s=f)}}function Gv(t){return function(){this.style.removeProperty(t)}}function bC(t,a,i){var s,l=i+"",u;return function(){var f=Er(this,t);return f===l?null:f===s?u:u=a(s=f,i)}}function wC(t,a,i){var s,l,u;return function(){var f=Er(this,t),m=i(this),g=m+"";return m==null&&(g=m=(this.style.removeProperty(t),Er(this,t))),f===g?null:f===s&&g===l?u:(l=g,u=a(s=f,m))}}function SC(t,a){var i,s,l,u="style."+a,f="end."+u,m;return function(){var g=Tn(this,t),p=g.on,x=g.value[u]==null?m||(m=Gv(a)):void 0;(p!==i||l!==x)&&(s=(i=p).copy()).on(f,l=x),g.on=s}}function NC(t,a,i){var s=(t+="")=="transform"?E3:Xv;return a==null?this.styleTween(t,vC(t,s)).on("end.style."+t,Gv(t)):typeof a=="function"?this.styleTween(t,wC(t,s,Bh(this,"style."+t,a))).each(SC(this._id,t)):this.styleTween(t,bC(t,s,a),i).on("end.style."+t,null)}function EC(t,a,i){return function(s){this.style.setProperty(t,a.call(this,s),i)}}function jC(t,a,i){var s,l;function u(){var f=a.apply(this,arguments);return f!==l&&(s=(l=f)&&EC(t,f,i)),s}return u._value=a,u}function _C(t,a,i){var s="style."+(t+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(a==null)return this.tween(s,null);if(typeof a!="function")throw new Error;return this.tween(s,jC(t,a,i??""))}function CC(t){return function(){this.textContent=t}}function TC(t){return function(){var a=t(this);this.textContent=a??""}}function MC(t){return this.tween("text",typeof t=="function"?TC(Bh(this,"text",t)):CC(t==null?"":t+""))}function AC(t){return function(a){this.textContent=t.call(this,a)}}function RC(t){var a,i;function s(){var l=t.apply(this,arguments);return l!==i&&(a=(i=l)&&AC(l)),a}return s._value=t,s}function zC(t){var a="text";if(arguments.length<1)return(a=this.tween(a))&&a._value;if(t==null)return this.tween(a,null);if(typeof t!="function")throw new Error;return this.tween(a,RC(t))}function DC(){for(var t=this._name,a=this._id,i=Zv(),s=this._groups,l=s.length,u=0;u<l;++u)for(var f=s[u],m=f.length,g,p=0;p<m;++p)if(g=f[p]){var x=mn(g,a);$c(g,t,i,p,f,{time:x.time+x.delay+x.duration,delay:0,duration:x.duration,ease:x.ease})}return new aa(s,this._parents,t,i)}function OC(){var t,a,i=this,s=i._id,l=i.size();return new Promise(function(u,f){var m={value:f},g={value:function(){--l===0&&u()}};i.each(function(){var p=Tn(this,s),x=p.on;x!==t&&(a=(t=x).copy(),a._.cancel.push(m),a._.interrupt.push(m),a._.end.push(g)),p.on=a}),l===0&&u()})}var kC=0;function aa(t,a,i,s){this._groups=t,this._parents=a,this._name=i,this._id=s}function Zv(){return++kC}var Kn=ro.prototype;aa.prototype={constructor:aa,select:pC,selectAll:gC,selectChild:Kn.selectChild,selectChildren:Kn.selectChildren,filter:lC,merge:cC,selection:xC,transition:DC,call:Kn.call,nodes:Kn.nodes,node:Kn.node,size:Kn.size,empty:Kn.empty,each:Kn.each,on:fC,attr:Z3,attrTween:W3,style:NC,styleTween:_C,text:MC,textTween:zC,remove:mC,tween:U3,delay:eC,duration:aC,ease:rC,easeVarying:oC,end:OC,[Symbol.iterator]:Kn[Symbol.iterator]};function BC(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var HC={time:null,delay:0,duration:250,ease:BC};function LC(t,a){for(var i;!(i=t.__transition)||!(i=i[a]);)if(!(t=t.parentNode))throw new Error(`transition ${a} not found`);return i}function UC(t){var a,i;t instanceof aa?(a=t._id,t=t._name):(a=Zv(),(i=HC).time=Oh(),t=t==null?null:t+"");for(var s=this._groups,l=s.length,u=0;u<l;++u)for(var f=s[u],m=f.length,g,p=0;p<m;++p)(g=f[p])&&$c(g,t,a,p,f,i||LC(g,a));return new aa(s,this._parents,t,a)}ro.prototype.interrupt=B3;ro.prototype.transition=UC;const Zl=t=>()=>t;function $C(t,{sourceEvent:a,target:i,transform:s,dispatch:l}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:a,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},transform:{value:s,enumerable:!0,configurable:!0},_:{value:l}})}function Jn(t,a,i){this.k=t,this.x=a,this.y=i}Jn.prototype={constructor:Jn,scale:function(t){return t===1?this:new Jn(this.k*t,this.x,this.y)},translate:function(t,a){return t===0&a===0?this:new Jn(this.k,this.x+this.k*t,this.y+this.k*a)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var qc=new Jn(1,0,0);Qv.prototype=Jn.prototype;function Qv(t){for(;!t.__zoom;)if(!(t=t.parentNode))return qc;return t.__zoom}function Af(t){t.stopImmediatePropagation()}function Bs(t){t.preventDefault(),t.stopImmediatePropagation()}function qC(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function VC(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function My(){return this.__zoom||qc}function YC(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function XC(){return navigator.maxTouchPoints||"ontouchstart"in this}function GC(t,a,i){var s=t.invertX(a[0][0])-i[0][0],l=t.invertX(a[1][0])-i[1][0],u=t.invertY(a[0][1])-i[0][1],f=t.invertY(a[1][1])-i[1][1];return t.translate(l>s?(s+l)/2:Math.min(0,s)||Math.max(0,l),f>u?(u+f)/2:Math.min(0,u)||Math.max(0,f))}function Pv(){var t=qC,a=VC,i=GC,s=YC,l=XC,u=[0,1/0],f=[[-1/0,-1/0],[1/0,1/0]],m=250,g=oc,p=Hc("start","zoom","end"),x,y,v,N=500,E=150,A=0,S=10;function j(H){H.property("__zoom",My).on("wheel.zoom",X,{passive:!1}).on("mousedown.zoom",J).on("dblclick.zoom",se).filter(l).on("touchstart.zoom",P).on("touchmove.zoom",F).on("touchend.zoom touchcancel.zoom",q).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}j.transform=function(H,Q,R,D){var U=H.selection?H.selection():H;U.property("__zoom",My),H!==U?B(H,Q,R,D):U.interrupt().each(function(){L(this,arguments).event(D).start().zoom(null,typeof Q=="function"?Q.apply(this,arguments):Q).end()})},j.scaleBy=function(H,Q,R,D){j.scaleTo(H,function(){var U=this.__zoom.k,k=typeof Q=="function"?Q.apply(this,arguments):Q;return U*k},R,D)},j.scaleTo=function(H,Q,R,D){j.transform(H,function(){var U=a.apply(this,arguments),k=this.__zoom,Z=R==null?M(U):typeof R=="function"?R.apply(this,arguments):R,z=k.invert(Z),V=typeof Q=="function"?Q.apply(this,arguments):Q;return i(w(_(k,V),Z,z),U,f)},R,D)},j.translateBy=function(H,Q,R,D){j.transform(H,function(){return i(this.__zoom.translate(typeof Q=="function"?Q.apply(this,arguments):Q,typeof R=="function"?R.apply(this,arguments):R),a.apply(this,arguments),f)},null,D)},j.translateTo=function(H,Q,R,D,U){j.transform(H,function(){var k=a.apply(this,arguments),Z=this.__zoom,z=D==null?M(k):typeof D=="function"?D.apply(this,arguments):D;return i(qc.translate(z[0],z[1]).scale(Z.k).translate(typeof Q=="function"?-Q.apply(this,arguments):-Q,typeof R=="function"?-R.apply(this,arguments):-R),k,f)},D,U)};function _(H,Q){return Q=Math.max(u[0],Math.min(u[1],Q)),Q===H.k?H:new Jn(Q,H.x,H.y)}function w(H,Q,R){var D=Q[0]-R[0]*H.k,U=Q[1]-R[1]*H.k;return D===H.x&&U===H.y?H:new Jn(H.k,D,U)}function M(H){return[(+H[0][0]+ +H[1][0])/2,(+H[0][1]+ +H[1][1])/2]}function B(H,Q,R,D){H.on("start.zoom",function(){L(this,arguments).event(D).start()}).on("interrupt.zoom end.zoom",function(){L(this,arguments).event(D).end()}).tween("zoom",function(){var U=this,k=arguments,Z=L(U,k).event(D),z=a.apply(U,k),V=R==null?M(z):typeof R=="function"?R.apply(U,k):R,I=Math.max(z[1][0]-z[0][0],z[1][1]-z[0][1]),te=U.__zoom,le=typeof Q=="function"?Q.apply(U,k):Q,ue=g(te.invert(V).concat(I/te.k),le.invert(V).concat(I/le.k));return function(ce){if(ce===1)ce=le;else{var oe=ue(ce),de=I/oe[2];ce=new Jn(de,V[0]-oe[0]*de,V[1]-oe[1]*de)}Z.zoom(null,ce)}})}function L(H,Q,R){return!R&&H.__zooming||new O(H,Q)}function O(H,Q){this.that=H,this.args=Q,this.active=0,this.sourceEvent=null,this.extent=a.apply(H,Q),this.taps=0}O.prototype={event:function(H){return H&&(this.sourceEvent=H),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(H,Q){return this.mouse&&H!=="mouse"&&(this.mouse[1]=Q.invert(this.mouse[0])),this.touch0&&H!=="touch"&&(this.touch0[1]=Q.invert(this.touch0[0])),this.touch1&&H!=="touch"&&(this.touch1[1]=Q.invert(this.touch1[0])),this.that.__zoom=Q,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(H){var Q=Vt(this.that).datum();p.call(H,this.that,new $C(H,{sourceEvent:this.sourceEvent,target:j,transform:this.that.__zoom,dispatch:p}),Q)}};function X(H,...Q){if(!t.apply(this,arguments))return;var R=L(this,Q).event(H),D=this.__zoom,U=Math.max(u[0],Math.min(u[1],D.k*Math.pow(2,s.apply(this,arguments)))),k=un(H);if(R.wheel)(R.mouse[0][0]!==k[0]||R.mouse[0][1]!==k[1])&&(R.mouse[1]=D.invert(R.mouse[0]=k)),clearTimeout(R.wheel);else{if(D.k===U)return;R.mouse=[k,D.invert(k)],uc(this),R.start()}Bs(H),R.wheel=setTimeout(Z,E),R.zoom("mouse",i(w(_(D,U),R.mouse[0],R.mouse[1]),R.extent,f));function Z(){R.wheel=null,R.end()}}function J(H,...Q){if(v||!t.apply(this,arguments))return;var R=H.currentTarget,D=L(this,Q,!0).event(H),U=Vt(H.view).on("mousemove.zoom",V,!0).on("mouseup.zoom",I,!0),k=un(H,R),Z=H.clientX,z=H.clientY;Rv(H.view),Af(H),D.mouse=[k,this.__zoom.invert(k)],uc(this),D.start();function V(te){if(Bs(te),!D.moved){var le=te.clientX-Z,ue=te.clientY-z;D.moved=le*le+ue*ue>A}D.event(te).zoom("mouse",i(w(D.that.__zoom,D.mouse[0]=un(te,R),D.mouse[1]),D.extent,f))}function I(te){U.on("mousemove.zoom mouseup.zoom",null),zv(te.view,D.moved),Bs(te),D.event(te).end()}}function se(H,...Q){if(t.apply(this,arguments)){var R=this.__zoom,D=un(H.changedTouches?H.changedTouches[0]:H,this),U=R.invert(D),k=R.k*(H.shiftKey?.5:2),Z=i(w(_(R,k),D,U),a.apply(this,Q),f);Bs(H),m>0?Vt(this).transition().duration(m).call(B,Z,D,H):Vt(this).call(j.transform,Z,D,H)}}function P(H,...Q){if(t.apply(this,arguments)){var R=H.touches,D=R.length,U=L(this,Q,H.changedTouches.length===D).event(H),k,Z,z,V;for(Af(H),Z=0;Z<D;++Z)z=R[Z],V=un(z,this),V=[V,this.__zoom.invert(V),z.identifier],U.touch0?!U.touch1&&U.touch0[2]!==V[2]&&(U.touch1=V,U.taps=0):(U.touch0=V,k=!0,U.taps=1+!!x);x&&(x=clearTimeout(x)),k&&(U.taps<2&&(y=V[0],x=setTimeout(function(){x=null},N)),uc(this),U.start())}}function F(H,...Q){if(this.__zooming){var R=L(this,Q).event(H),D=H.changedTouches,U=D.length,k,Z,z,V;for(Bs(H),k=0;k<U;++k)Z=D[k],z=un(Z,this),R.touch0&&R.touch0[2]===Z.identifier?R.touch0[0]=z:R.touch1&&R.touch1[2]===Z.identifier&&(R.touch1[0]=z);if(Z=R.that.__zoom,R.touch1){var I=R.touch0[0],te=R.touch0[1],le=R.touch1[0],ue=R.touch1[1],ce=(ce=le[0]-I[0])*ce+(ce=le[1]-I[1])*ce,oe=(oe=ue[0]-te[0])*oe+(oe=ue[1]-te[1])*oe;Z=_(Z,Math.sqrt(ce/oe)),z=[(I[0]+le[0])/2,(I[1]+le[1])/2],V=[(te[0]+ue[0])/2,(te[1]+ue[1])/2]}else if(R.touch0)z=R.touch0[0],V=R.touch0[1];else return;R.zoom("touch",i(w(Z,z,V),R.extent,f))}}function q(H,...Q){if(this.__zooming){var R=L(this,Q).event(H),D=H.changedTouches,U=D.length,k,Z;for(Af(H),v&&clearTimeout(v),v=setTimeout(function(){v=null},N),k=0;k<U;++k)Z=D[k],R.touch0&&R.touch0[2]===Z.identifier?delete R.touch0:R.touch1&&R.touch1[2]===Z.identifier&&delete R.touch1;if(R.touch1&&!R.touch0&&(R.touch0=R.touch1,delete R.touch1),R.touch0)R.touch0[1]=this.__zoom.invert(R.touch0[0]);else if(R.end(),R.taps===2&&(Z=un(Z,this),Math.hypot(y[0]-Z[0],y[1]-Z[1])<S)){var z=Vt(this).on("dblclick.zoom");z&&z.apply(this,arguments)}}}return j.wheelDelta=function(H){return arguments.length?(s=typeof H=="function"?H:Zl(+H),j):s},j.filter=function(H){return arguments.length?(t=typeof H=="function"?H:Zl(!!H),j):t},j.touchable=function(H){return arguments.length?(l=typeof H=="function"?H:Zl(!!H),j):l},j.extent=function(H){return arguments.length?(a=typeof H=="function"?H:Zl([[+H[0][0],+H[0][1]],[+H[1][0],+H[1][1]]]),j):a},j.scaleExtent=function(H){return arguments.length?(u[0]=+H[0],u[1]=+H[1],j):[u[0],u[1]]},j.translateExtent=function(H){return arguments.length?(f[0][0]=+H[0][0],f[1][0]=+H[1][0],f[0][1]=+H[0][1],f[1][1]=+H[1][1],j):[[f[0][0],f[0][1]],[f[1][0],f[1][1]]]},j.constrain=function(H){return arguments.length?(i=H,j):i},j.duration=function(H){return arguments.length?(m=+H,j):m},j.interpolate=function(H){return arguments.length?(g=H,j):g},j.on=function(){var H=p.on.apply(p,arguments);return H===p?j:H},j.clickDistance=function(H){return arguments.length?(A=(H=+H)*H,j):Math.sqrt(A)},j.tapDistance=function(H){return arguments.length?(S=+H,j):S},j}const Cn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:a,sourceHandle:i,targetHandle:s})=>`Couldn't create edge for ${t} handle id: "${t==="source"?i:s}", edge id: ${a}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Is=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Iv=["Enter"," ","Escape"],Fv={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:t,x:a,y:i})=>`Moved selected node ${t}. New position, x: ${a}, y: ${i}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var _r;(function(t){t.Strict="strict",t.Loose="loose"})(_r||(_r={}));var bi;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(bi||(bi={}));var Fs;(function(t){t.Partial="partial",t.Full="full"})(Fs||(Fs={}));const Wv={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var Ua;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(Ua||(Ua={}));var Ec;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(Ec||(Ec={}));var ge;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(ge||(ge={}));const Ay={[ge.Left]:ge.Right,[ge.Right]:ge.Left,[ge.Top]:ge.Bottom,[ge.Bottom]:ge.Top};function Kv(t){return t===null?null:t?"valid":"invalid"}const Jv=t=>"id"in t&&"source"in t&&"target"in t,ZC=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),Hh=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),oo=(t,a=[0,0])=>{const{width:i,height:s}=sa(t),l=t.origin??a,u=i*l[0],f=s*l[1];return{x:t.position.x-u,y:t.position.y-f}},QC=(t,a={nodeOrigin:[0,0]})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const i=t.reduce((s,l)=>{const u=typeof l=="string";let f=!a.nodeLookup&&!u?l:void 0;a.nodeLookup&&(f=u?a.nodeLookup.get(l):Hh(l)?l:a.nodeLookup.get(l.id));const m=f?jc(f,a.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Vc(s,m)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Yc(i)},lo=(t,a={})=>{let i={x:1/0,y:1/0,x2:-1/0,y2:-1/0},s=!1;return t.forEach(l=>{(a.filter===void 0||a.filter(l))&&(i=Vc(i,jc(l)),s=!0)}),s?Yc(i):{x:0,y:0,width:0,height:0}},Lh=(t,a,[i,s,l]=[0,0,1],u=!1,f=!1)=>{const m={...uo(a,[i,s,l]),width:a.width/l,height:a.height/l},g=[];for(const p of t.values()){const{measured:x,selectable:y=!0,hidden:v=!1}=p;if(f&&!y||v)continue;const N=x.width??p.width??p.initialWidth??null,E=x.height??p.height??p.initialHeight??null,A=Ws(m,Tr(p)),S=(N??0)*(E??0),j=u&&A>0;(!p.internals.handleBounds||j||A>=S||p.dragging)&&g.push(p)}return g},PC=(t,a)=>{const i=new Set;return t.forEach(s=>{i.add(s.id)}),a.filter(s=>i.has(s.source)||i.has(s.target))};function IC(t,a){const i=new Map,s=a?.nodes?new Set(a.nodes.map(l=>l.id)):null;return t.forEach(l=>{l.measured.width&&l.measured.height&&(a?.includeHiddenNodes||!l.hidden)&&(!s||s.has(l.id))&&i.set(l.id,l)}),i}async function FC({nodes:t,width:a,height:i,panZoom:s,minZoom:l,maxZoom:u},f){if(t.size===0)return Promise.resolve(!0);const m=IC(t,f),g=lo(m),p=Uh(g,a,i,f?.minZoom??l,f?.maxZoom??u,f?.padding??.1);return await s.setViewport(p,{duration:f?.duration,ease:f?.ease,interpolate:f?.interpolate}),Promise.resolve(!0)}function e1({nodeId:t,nextPosition:a,nodeLookup:i,nodeOrigin:s=[0,0],nodeExtent:l,onError:u}){const f=i.get(t),m=f.parentId?i.get(f.parentId):void 0,{x:g,y:p}=m?m.internals.positionAbsolute:{x:0,y:0},x=f.origin??s;let y=f.extent||l;if(f.extent==="parent"&&!f.expandParent)if(!m)u?.("005",Cn.error005());else{const N=m.measured.width,E=m.measured.height;N&&E&&(y=[[g,p],[g+N,p+E]])}else m&&Mr(f.extent)&&(y=[[f.extent[0][0]+g,f.extent[0][1]+p],[f.extent[1][0]+g,f.extent[1][1]+p]]);const v=Mr(y)?Ni(a,y,f.measured):a;return(f.measured.width===void 0||f.measured.height===void 0)&&u?.("015",Cn.error015()),{position:{x:v.x-g+(f.measured.width??0)*x[0],y:v.y-p+(f.measured.height??0)*x[1]},positionAbsolute:v}}async function WC({nodesToRemove:t=[],edgesToRemove:a=[],nodes:i,edges:s,onBeforeDelete:l}){const u=new Set(t.map(v=>v.id)),f=[];for(const v of i){if(v.deletable===!1)continue;const N=u.has(v.id),E=!N&&v.parentId&&f.find(A=>A.id===v.parentId);(N||E)&&f.push(v)}const m=new Set(a.map(v=>v.id)),g=s.filter(v=>v.deletable!==!1),x=PC(f,g);for(const v of g)m.has(v.id)&&!x.find(E=>E.id===v.id)&&x.push(v);if(!l)return{edges:x,nodes:f};const y=await l({nodes:f,edges:x});return typeof y=="boolean"?y?{edges:x,nodes:f}:{edges:[],nodes:[]}:y}const Cr=(t,a=0,i=1)=>Math.min(Math.max(t,a),i),Ni=(t={x:0,y:0},a,i)=>({x:Cr(t.x,a[0][0],a[1][0]-(i?.width??0)),y:Cr(t.y,a[0][1],a[1][1]-(i?.height??0))});function t1(t,a,i){const{width:s,height:l}=sa(i),{x:u,y:f}=i.internals.positionAbsolute;return Ni(t,[[u,f],[u+s,f+l]],a)}const Ry=(t,a,i)=>t<a?Cr(Math.abs(t-a),1,a)/a:t>i?-Cr(Math.abs(t-i),1,a)/a:0,n1=(t,a,i=15,s=40)=>{const l=Ry(t.x,s,a.width-s)*i,u=Ry(t.y,s,a.height-s)*i;return[l,u]},Vc=(t,a)=>({x:Math.min(t.x,a.x),y:Math.min(t.y,a.y),x2:Math.max(t.x2,a.x2),y2:Math.max(t.y2,a.y2)}),lh=({x:t,y:a,width:i,height:s})=>({x:t,y:a,x2:t+i,y2:a+s}),Yc=({x:t,y:a,x2:i,y2:s})=>({x:t,y:a,width:i-t,height:s-a}),Tr=(t,a=[0,0])=>{const{x:i,y:s}=Hh(t)?t.internals.positionAbsolute:oo(t,a);return{x:i,y:s,width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}},jc=(t,a=[0,0])=>{const{x:i,y:s}=Hh(t)?t.internals.positionAbsolute:oo(t,a);return{x:i,y:s,x2:i+(t.measured?.width??t.width??t.initialWidth??0),y2:s+(t.measured?.height??t.height??t.initialHeight??0)}},a1=(t,a)=>Yc(Vc(lh(t),lh(a))),Ws=(t,a)=>{const i=Math.max(0,Math.min(t.x+t.width,a.x+a.width)-Math.max(t.x,a.x)),s=Math.max(0,Math.min(t.y+t.height,a.y+a.height)-Math.max(t.y,a.y));return Math.ceil(i*s)},zy=t=>fn(t.width)&&fn(t.height)&&fn(t.x)&&fn(t.y),fn=t=>!isNaN(t)&&isFinite(t),KC=(t,a)=>{},co=(t,a=[1,1])=>({x:a[0]*Math.round(t.x/a[0]),y:a[1]*Math.round(t.y/a[1])}),uo=({x:t,y:a},[i,s,l],u=!1,f=[1,1])=>{const m={x:(t-i)/l,y:(a-s)/l};return u?co(m,f):m},_c=({x:t,y:a},[i,s,l])=>({x:t*l+i,y:a*l+s});function pr(t,a){if(typeof t=="number")return Math.floor((a-a/(1+t))*.5);if(typeof t=="string"&&t.endsWith("px")){const i=parseFloat(t);if(!Number.isNaN(i))return Math.floor(i)}if(typeof t=="string"&&t.endsWith("%")){const i=parseFloat(t);if(!Number.isNaN(i))return Math.floor(a*i*.01)}return console.error(`[React Flow] The padding value "${t}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function JC(t,a,i){if(typeof t=="string"||typeof t=="number"){const s=pr(t,i),l=pr(t,a);return{top:s,right:l,bottom:s,left:l,x:l*2,y:s*2}}if(typeof t=="object"){const s=pr(t.top??t.y??0,i),l=pr(t.bottom??t.y??0,i),u=pr(t.left??t.x??0,a),f=pr(t.right??t.x??0,a);return{top:s,right:f,bottom:l,left:u,x:u+f,y:s+l}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function e6(t,a,i,s,l,u){const{x:f,y:m}=_c(t,[a,i,s]),{x:g,y:p}=_c({x:t.x+t.width,y:t.y+t.height},[a,i,s]),x=l-g,y=u-p;return{left:Math.floor(f),top:Math.floor(m),right:Math.floor(x),bottom:Math.floor(y)}}const Uh=(t,a,i,s,l,u)=>{const f=JC(u,a,i),m=(a-f.x)/t.width,g=(i-f.y)/t.height,p=Math.min(m,g),x=Cr(p,s,l),y=t.x+t.width/2,v=t.y+t.height/2,N=a/2-y*x,E=i/2-v*x,A=e6(t,N,E,x,a,i),S={left:Math.min(A.left-f.left,0),top:Math.min(A.top-f.top,0),right:Math.min(A.right-f.right,0),bottom:Math.min(A.bottom-f.bottom,0)};return{x:N-S.left+S.right,y:E-S.top+S.bottom,zoom:x}},Ks=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function Mr(t){return t!=null&&t!=="parent"}function sa(t){return{width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}}function i1(t){return(t.measured?.width??t.width??t.initialWidth)!==void 0&&(t.measured?.height??t.height??t.initialHeight)!==void 0}function r1(t,a={width:0,height:0},i,s,l){const u={...t},f=s.get(i);if(f){const m=f.origin||l;u.x+=f.internals.positionAbsolute.x-(a.width??0)*m[0],u.y+=f.internals.positionAbsolute.y-(a.height??0)*m[1]}return u}function Dy(t,a){if(t.size!==a.size)return!1;for(const i of t)if(!a.has(i))return!1;return!0}function t6(){let t,a;return{promise:new Promise((s,l)=>{t=s,a=l}),resolve:t,reject:a}}function n6(t){return{...Fv,...t||{}}}function Vs(t,{snapGrid:a=[0,0],snapToGrid:i=!1,transform:s,containerBounds:l}){const{x:u,y:f}=hn(t),m=uo({x:u-(l?.left??0),y:f-(l?.top??0)},s),{x:g,y:p}=i?co(m,a):m;return{xSnapped:g,ySnapped:p,...m}}const $h=t=>({width:t.offsetWidth,height:t.offsetHeight}),s1=t=>t?.getRootNode?.()||window?.document,a6=["INPUT","SELECT","TEXTAREA"];function o1(t){const a=t.composedPath?.()?.[0]||t.target;return a?.nodeType!==1?!1:a6.includes(a.nodeName)||a.hasAttribute("contenteditable")||!!a.closest(".nokey")}const l1=t=>"clientX"in t,hn=(t,a)=>{const i=l1(t),s=i?t.clientX:t.touches?.[0].clientX,l=i?t.clientY:t.touches?.[0].clientY;return{x:s-(a?.left??0),y:l-(a?.top??0)}},Oy=(t,a,i,s,l)=>{const u=a.querySelectorAll(`.${t}`);return!u||!u.length?null:Array.from(u).map(f=>{const m=f.getBoundingClientRect();return{id:f.getAttribute("data-handleid"),type:t,nodeId:l,position:f.getAttribute("data-handlepos"),x:(m.left-i.left)/s,y:(m.top-i.top)/s,...$h(f)}})};function c1({sourceX:t,sourceY:a,targetX:i,targetY:s,sourceControlX:l,sourceControlY:u,targetControlX:f,targetControlY:m}){const g=t*.125+l*.375+f*.375+i*.125,p=a*.125+u*.375+m*.375+s*.125,x=Math.abs(g-t),y=Math.abs(p-a);return[g,p,x,y]}function Ql(t,a){return t>=0?.5*t:a*25*Math.sqrt(-t)}function ky({pos:t,x1:a,y1:i,x2:s,y2:l,c:u}){switch(t){case ge.Left:return[a-Ql(a-s,u),i];case ge.Right:return[a+Ql(s-a,u),i];case ge.Top:return[a,i-Ql(i-l,u)];case ge.Bottom:return[a,i+Ql(l-i,u)]}}function u1({sourceX:t,sourceY:a,sourcePosition:i=ge.Bottom,targetX:s,targetY:l,targetPosition:u=ge.Top,curvature:f=.25}){const[m,g]=ky({pos:i,x1:t,y1:a,x2:s,y2:l,c:f}),[p,x]=ky({pos:u,x1:s,y1:l,x2:t,y2:a,c:f}),[y,v,N,E]=c1({sourceX:t,sourceY:a,targetX:s,targetY:l,sourceControlX:m,sourceControlY:g,targetControlX:p,targetControlY:x});return[`M${t},${a} C${m},${g} ${p},${x} ${s},${l}`,y,v,N,E]}function d1({sourceX:t,sourceY:a,targetX:i,targetY:s}){const l=Math.abs(i-t)/2,u=i<t?i+l:i-l,f=Math.abs(s-a)/2,m=s<a?s+f:s-f;return[u,m,l,f]}function i6({sourceNode:t,targetNode:a,selected:i=!1,zIndex:s=0,elevateOnSelect:l=!1,zIndexMode:u="basic"}){if(u==="manual")return s;const f=l&&i?s+1e3:s,m=Math.max(t.parentId||l&&t.selected?t.internals.z:0,a.parentId||l&&a.selected?a.internals.z:0);return f+m}function r6({sourceNode:t,targetNode:a,width:i,height:s,transform:l}){const u=Vc(jc(t),jc(a));u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const f={x:-l[0]/l[2],y:-l[1]/l[2],width:i/l[2],height:s/l[2]};return Ws(f,Yc(u))>0}const s6=({source:t,sourceHandle:a,target:i,targetHandle:s})=>`xy-edge__${t}${a||""}-${i}${s||""}`,o6=(t,a)=>a.some(i=>i.source===t.source&&i.target===t.target&&(i.sourceHandle===t.sourceHandle||!i.sourceHandle&&!t.sourceHandle)&&(i.targetHandle===t.targetHandle||!i.targetHandle&&!t.targetHandle)),f1=(t,a,i={})=>{if(!t.source||!t.target)return a;const s=i.getEdgeId||s6;let l;return Jv(t)?l={...t}:l={...t,id:s(t)},o6(l,a)?a:(l.sourceHandle===null&&delete l.sourceHandle,l.targetHandle===null&&delete l.targetHandle,a.concat(l))};function h1({sourceX:t,sourceY:a,targetX:i,targetY:s}){const[l,u,f,m]=d1({sourceX:t,sourceY:a,targetX:i,targetY:s});return[`M ${t},${a}L ${i},${s}`,l,u,f,m]}const By={[ge.Left]:{x:-1,y:0},[ge.Right]:{x:1,y:0},[ge.Top]:{x:0,y:-1},[ge.Bottom]:{x:0,y:1}},l6=({source:t,sourcePosition:a=ge.Bottom,target:i})=>a===ge.Left||a===ge.Right?t.x<i.x?{x:1,y:0}:{x:-1,y:0}:t.y<i.y?{x:0,y:1}:{x:0,y:-1},Hy=(t,a)=>Math.sqrt(Math.pow(a.x-t.x,2)+Math.pow(a.y-t.y,2));function c6({source:t,sourcePosition:a=ge.Bottom,target:i,targetPosition:s=ge.Top,center:l,offset:u,stepPosition:f}){const m=By[a],g=By[s],p={x:t.x+m.x*u,y:t.y+m.y*u},x={x:i.x+g.x*u,y:i.y+g.y*u},y=l6({source:p,sourcePosition:a,target:x}),v=y.x!==0?"x":"y",N=y[v];let E=[],A,S;const j={x:0,y:0},_={x:0,y:0},[,,w,M]=d1({sourceX:t.x,sourceY:t.y,targetX:i.x,targetY:i.y});if(m[v]*g[v]===-1){v==="x"?(A=l.x??p.x+(x.x-p.x)*f,S=l.y??(p.y+x.y)/2):(A=l.x??(p.x+x.x)/2,S=l.y??p.y+(x.y-p.y)*f);const L=[{x:A,y:p.y},{x:A,y:x.y}],O=[{x:p.x,y:S},{x:x.x,y:S}];m[v]===N?E=v==="x"?L:O:E=v==="x"?O:L}else{const L=[{x:p.x,y:x.y}],O=[{x:x.x,y:p.y}];if(v==="x"?E=m.x===N?O:L:E=m.y===N?L:O,a===s){const F=Math.abs(t[v]-i[v]);if(F<=u){const q=Math.min(u-1,u-F);m[v]===N?j[v]=(p[v]>t[v]?-1:1)*q:_[v]=(x[v]>i[v]?-1:1)*q}}if(a!==s){const F=v==="x"?"y":"x",q=m[v]===g[F],H=p[F]>x[F],Q=p[F]<x[F];(m[v]===1&&(!q&&H||q&&Q)||m[v]!==1&&(!q&&Q||q&&H))&&(E=v==="x"?L:O)}const X={x:p.x+j.x,y:p.y+j.y},J={x:x.x+_.x,y:x.y+_.y},se=Math.max(Math.abs(X.x-E[0].x),Math.abs(J.x-E[0].x)),P=Math.max(Math.abs(X.y-E[0].y),Math.abs(J.y-E[0].y));se>=P?(A=(X.x+J.x)/2,S=E[0].y):(A=E[0].x,S=(X.y+J.y)/2)}return[[t,{x:p.x+j.x,y:p.y+j.y},...E,{x:x.x+_.x,y:x.y+_.y},i],A,S,w,M]}function u6(t,a,i,s){const l=Math.min(Hy(t,a)/2,Hy(a,i)/2,s),{x:u,y:f}=a;if(t.x===u&&u===i.x||t.y===f&&f===i.y)return`L${u} ${f}`;if(t.y===f){const p=t.x<i.x?-1:1,x=t.y<i.y?1:-1;return`L ${u+l*p},${f}Q ${u},${f} ${u},${f+l*x}`}const m=t.x<i.x?1:-1,g=t.y<i.y?-1:1;return`L ${u},${f+l*g}Q ${u},${f} ${u+l*m},${f}`}function ch({sourceX:t,sourceY:a,sourcePosition:i=ge.Bottom,targetX:s,targetY:l,targetPosition:u=ge.Top,borderRadius:f=5,centerX:m,centerY:g,offset:p=20,stepPosition:x=.5}){const[y,v,N,E,A]=c6({source:{x:t,y:a},sourcePosition:i,target:{x:s,y:l},targetPosition:u,center:{x:m,y:g},offset:p,stepPosition:x});return[y.reduce((j,_,w)=>{let M="";return w>0&&w<y.length-1?M=u6(y[w-1],_,y[w+1],f):M=`${w===0?"M":"L"}${_.x} ${_.y}`,j+=M,j},""),v,N,E,A]}function Ly(t){return t&&!!(t.internals.handleBounds||t.handles?.length)&&!!(t.measured.width||t.width||t.initialWidth)}function d6(t){const{sourceNode:a,targetNode:i}=t;if(!Ly(a)||!Ly(i))return null;const s=a.internals.handleBounds||Uy(a.handles),l=i.internals.handleBounds||Uy(i.handles),u=$y(s?.source??[],t.sourceHandle),f=$y(t.connectionMode===_r.Strict?l?.target??[]:(l?.target??[]).concat(l?.source??[]),t.targetHandle);if(!u||!f)return t.onError?.("008",Cn.error008(u?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const m=u?.position||ge.Bottom,g=f?.position||ge.Top,p=Ei(a,u,m),x=Ei(i,f,g);return{sourceX:p.x,sourceY:p.y,targetX:x.x,targetY:x.y,sourcePosition:m,targetPosition:g}}function Uy(t){if(!t)return null;const a=[],i=[];for(const s of t)s.width=s.width??1,s.height=s.height??1,s.type==="source"?a.push(s):s.type==="target"&&i.push(s);return{source:a,target:i}}function Ei(t,a,i=ge.Left,s=!1){const l=(a?.x??0)+t.internals.positionAbsolute.x,u=(a?.y??0)+t.internals.positionAbsolute.y,{width:f,height:m}=a??sa(t);if(s)return{x:l+f/2,y:u+m/2};switch(a?.position??i){case ge.Top:return{x:l+f/2,y:u};case ge.Right:return{x:l+f,y:u+m/2};case ge.Bottom:return{x:l+f/2,y:u+m};case ge.Left:return{x:l,y:u+m/2}}}function $y(t,a){return t&&(a?t.find(i=>i.id===a):t[0])||null}function uh(t,a){return t?typeof t=="string"?t:`${a?`${a}__`:""}${Object.keys(t).sort().map(s=>`${s}=${t[s]}`).join("&")}`:""}function f6(t,{id:a,defaultColor:i,defaultMarkerStart:s,defaultMarkerEnd:l}){const u=new Set;return t.reduce((f,m)=>([m.markerStart||s,m.markerEnd||l].forEach(g=>{if(g&&typeof g=="object"){const p=uh(g,a);u.has(p)||(f.push({id:p,color:g.color||i,...g}),u.add(p))}}),f),[]).sort((f,m)=>f.id.localeCompare(m.id))}const m1=1e3,h6=10,qh={nodeOrigin:[0,0],nodeExtent:Is,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},m6={...qh,checkEquality:!0};function Vh(t,a){const i={...t};for(const s in a)a[s]!==void 0&&(i[s]=a[s]);return i}function p6(t,a,i){const s=Vh(qh,i);for(const l of t.values())if(l.parentId)Xh(l,t,a,s);else{const u=oo(l,s.nodeOrigin),f=Mr(l.extent)?l.extent:s.nodeExtent,m=Ni(u,f,sa(l));l.internals.positionAbsolute=m}}function g6(t,a){if(!t.handles)return t.measured?a?.internals.handleBounds:void 0;const i=[],s=[];for(const l of t.handles){const u={id:l.id,width:l.width??1,height:l.height??1,nodeId:t.id,x:l.x,y:l.y,position:l.position,type:l.type};l.type==="source"?i.push(u):l.type==="target"&&s.push(u)}return{source:i,target:s}}function Yh(t){return t==="manual"}function dh(t,a,i,s={}){const l=Vh(m6,s),u={i:0},f=new Map(a),m=l?.elevateNodesOnSelect&&!Yh(l.zIndexMode)?m1:0;let g=t.length>0;a.clear(),i.clear();for(const p of t){let x=f.get(p.id);if(l.checkEquality&&p===x?.internals.userNode)a.set(p.id,x);else{const y=oo(p,l.nodeOrigin),v=Mr(p.extent)?p.extent:l.nodeExtent,N=Ni(y,v,sa(p));x={...l.defaults,...p,measured:{width:p.measured?.width,height:p.measured?.height},internals:{positionAbsolute:N,handleBounds:g6(p,x),z:p1(p,m,l.zIndexMode),userNode:p}},a.set(p.id,x)}(x.measured===void 0||x.measured.width===void 0||x.measured.height===void 0)&&!x.hidden&&(g=!1),p.parentId&&Xh(x,a,i,s,u)}return g}function y6(t,a){if(!t.parentId)return;const i=a.get(t.parentId);i?i.set(t.id,t):a.set(t.parentId,new Map([[t.id,t]]))}function Xh(t,a,i,s,l){const{elevateNodesOnSelect:u,nodeOrigin:f,nodeExtent:m,zIndexMode:g}=Vh(qh,s),p=t.parentId,x=a.get(p);if(!x){console.warn(`Parent node ${p} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}y6(t,i),l&&!x.parentId&&x.internals.rootParentIndex===void 0&&g==="auto"&&(x.internals.rootParentIndex=++l.i,x.internals.z=x.internals.z+l.i*h6),l&&x.internals.rootParentIndex!==void 0&&(l.i=x.internals.rootParentIndex);const y=u&&!Yh(g)?m1:0,{x:v,y:N,z:E}=x6(t,x,f,m,y,g),{positionAbsolute:A}=t.internals,S=v!==A.x||N!==A.y;(S||E!==t.internals.z)&&a.set(t.id,{...t,internals:{...t.internals,positionAbsolute:S?{x:v,y:N}:A,z:E}})}function p1(t,a,i){const s=fn(t.zIndex)?t.zIndex:0;return Yh(i)?s:s+(t.selected?a:0)}function x6(t,a,i,s,l,u){const{x:f,y:m}=a.internals.positionAbsolute,g=sa(t),p=oo(t,i),x=Mr(t.extent)?Ni(p,t.extent,g):p;let y=Ni({x:f+x.x,y:m+x.y},s,g);t.extent==="parent"&&(y=t1(y,g,a));const v=p1(t,l,u),N=a.internals.z??0;return{x:y.x,y:y.y,z:N>=v?N+1:v}}function Gh(t,a,i,s=[0,0]){const l=[],u=new Map;for(const f of t){const m=a.get(f.parentId);if(!m)continue;const g=u.get(f.parentId)?.expandedRect??Tr(m),p=a1(g,f.rect);u.set(f.parentId,{expandedRect:p,parent:m})}return u.size>0&&u.forEach(({expandedRect:f,parent:m},g)=>{const p=m.internals.positionAbsolute,x=sa(m),y=m.origin??s,v=f.x<p.x?Math.round(Math.abs(p.x-f.x)):0,N=f.y<p.y?Math.round(Math.abs(p.y-f.y)):0,E=Math.max(x.width,Math.round(f.width)),A=Math.max(x.height,Math.round(f.height)),S=(E-x.width)*y[0],j=(A-x.height)*y[1];(v>0||N>0||S||j)&&(l.push({id:g,type:"position",position:{x:m.position.x-v+S,y:m.position.y-N+j}}),i.get(g)?.forEach(_=>{t.some(w=>w.id===_.id)||l.push({id:_.id,type:"position",position:{x:_.position.x+v,y:_.position.y+N}})})),(x.width<f.width||x.height<f.height||v||N)&&l.push({id:g,type:"dimensions",setAttributes:!0,dimensions:{width:E+(v?y[0]*v-S:0),height:A+(N?y[1]*N-j:0)}})}),l}function v6(t,a,i,s,l,u,f){const m=s?.querySelector(".xyflow__viewport");let g=!1;if(!m)return{changes:[],updatedInternals:g};const p=[],x=window.getComputedStyle(m),{m22:y}=new window.DOMMatrixReadOnly(x.transform),v=[];for(const N of t.values()){const E=a.get(N.id);if(!E)continue;if(E.hidden){a.set(E.id,{...E,internals:{...E.internals,handleBounds:void 0}}),g=!0;continue}const A=$h(N.nodeElement),S=E.measured.width!==A.width||E.measured.height!==A.height;if(!!(A.width&&A.height&&(S||!E.internals.handleBounds||N.force))){const _=N.nodeElement.getBoundingClientRect(),w=Mr(E.extent)?E.extent:u;let{positionAbsolute:M}=E.internals;E.parentId&&E.extent==="parent"?M=t1(M,A,a.get(E.parentId)):w&&(M=Ni(M,w,A));const B={...E,measured:A,internals:{...E.internals,positionAbsolute:M,handleBounds:{source:Oy("source",N.nodeElement,_,y,E.id),target:Oy("target",N.nodeElement,_,y,E.id)}}};a.set(E.id,B),E.parentId&&Xh(B,a,i,{nodeOrigin:l,zIndexMode:f}),g=!0,S&&(p.push({id:E.id,type:"dimensions",dimensions:A}),E.expandParent&&E.parentId&&v.push({id:E.id,parentId:E.parentId,rect:Tr(B,l)}))}}if(v.length>0){const N=Gh(v,a,i,l);p.push(...N)}return{changes:p,updatedInternals:g}}async function b6({delta:t,panZoom:a,transform:i,translateExtent:s,width:l,height:u}){if(!a||!t.x&&!t.y)return Promise.resolve(!1);const f=await a.setViewportConstrained({x:i[0]+t.x,y:i[1]+t.y,zoom:i[2]},[[0,0],[l,u]],s),m=!!f&&(f.x!==i[0]||f.y!==i[1]||f.k!==i[2]);return Promise.resolve(m)}function qy(t,a,i,s,l,u){let f=l;const m=s.get(f)||new Map;s.set(f,m.set(i,a)),f=`${l}-${t}`;const g=s.get(f)||new Map;if(s.set(f,g.set(i,a)),u){f=`${l}-${t}-${u}`;const p=s.get(f)||new Map;s.set(f,p.set(i,a))}}function g1(t,a,i){t.clear(),a.clear();for(const s of i){const{source:l,target:u,sourceHandle:f=null,targetHandle:m=null}=s,g={edgeId:s.id,source:l,target:u,sourceHandle:f,targetHandle:m},p=`${l}-${f}--${u}-${m}`,x=`${u}-${m}--${l}-${f}`;qy("source",g,x,t,l,f),qy("target",g,p,t,u,m),a.set(s.id,s)}}function y1(t,a){if(!t.parentId)return!1;const i=a.get(t.parentId);return i?i.selected?!0:y1(i,a):!1}function Vy(t,a,i){let s=t;do{if(s?.matches?.(a))return!0;if(s===i)return!1;s=s?.parentElement}while(s);return!1}function w6(t,a,i,s){const l=new Map;for(const[u,f]of t)if((f.selected||f.id===s)&&(!f.parentId||!y1(f,t))&&(f.draggable||a&&typeof f.draggable>"u")){const m=t.get(u);m&&l.set(u,{id:u,position:m.position||{x:0,y:0},distance:{x:i.x-m.internals.positionAbsolute.x,y:i.y-m.internals.positionAbsolute.y},extent:m.extent,parentId:m.parentId,origin:m.origin,expandParent:m.expandParent,internals:{positionAbsolute:m.internals.positionAbsolute||{x:0,y:0}},measured:{width:m.measured.width??0,height:m.measured.height??0}})}return l}function Rf({nodeId:t,dragItems:a,nodeLookup:i,dragging:s=!0}){const l=[];for(const[f,m]of a){const g=i.get(f)?.internals.userNode;g&&l.push({...g,position:m.position,dragging:s})}if(!t)return[l[0],l];const u=i.get(t)?.internals.userNode;return[u?{...u,position:a.get(t)?.position||u.position,dragging:s}:l[0],l]}function S6({dragItems:t,snapGrid:a,x:i,y:s}){const l=t.values().next().value;if(!l)return null;const u={x:i-l.distance.x,y:s-l.distance.y},f=co(u,a);return{x:f.x-u.x,y:f.y-u.y}}function N6({onNodeMouseDown:t,getStoreItems:a,onDragStart:i,onDrag:s,onDragStop:l}){let u={x:null,y:null},f=0,m=new Map,g=!1,p={x:0,y:0},x=null,y=!1,v=null,N=!1,E=!1,A=null;function S({noDragClassName:_,handleSelector:w,domNode:M,isSelectable:B,nodeId:L,nodeClickDistance:O=0}){v=Vt(M);function X({x:F,y:q}){const{nodeLookup:H,nodeExtent:Q,snapGrid:R,snapToGrid:D,nodeOrigin:U,onNodeDrag:k,onSelectionDrag:Z,onError:z,updateNodePositions:V}=a();u={x:F,y:q};let I=!1;const te=m.size>1,le=te&&Q?lh(lo(m)):null,ue=te&&D?S6({dragItems:m,snapGrid:R,x:F,y:q}):null;for(const[ce,oe]of m){if(!H.has(ce))continue;let de={x:F-oe.distance.x,y:q-oe.distance.y};D&&(de=ue?{x:Math.round(de.x+ue.x),y:Math.round(de.y+ue.y)}:co(de,R));let be=null;if(te&&Q&&!oe.extent&&le){const{positionAbsolute:pe}=oe.internals,Ne=pe.x-le.x+Q[0][0],ze=pe.x+oe.measured.width-le.x2+Q[1][0],je=pe.y-le.y+Q[0][1],Je=pe.y+oe.measured.height-le.y2+Q[1][1];be=[[Ne,je],[ze,Je]]}const{position:ve,positionAbsolute:me}=e1({nodeId:ce,nextPosition:de,nodeLookup:H,nodeExtent:be||Q,nodeOrigin:U,onError:z});I=I||oe.position.x!==ve.x||oe.position.y!==ve.y,oe.position=ve,oe.internals.positionAbsolute=me}if(E=E||I,!!I&&(V(m,!0),A&&(s||k||!L&&Z))){const[ce,oe]=Rf({nodeId:L,dragItems:m,nodeLookup:H});s?.(A,m,ce,oe),k?.(A,ce,oe),L||Z?.(A,oe)}}async function J(){if(!x)return;const{transform:F,panBy:q,autoPanSpeed:H,autoPanOnNodeDrag:Q}=a();if(!Q){g=!1,cancelAnimationFrame(f);return}const[R,D]=n1(p,x,H);(R!==0||D!==0)&&(u.x=(u.x??0)-R/F[2],u.y=(u.y??0)-D/F[2],await q({x:R,y:D})&&X(u)),f=requestAnimationFrame(J)}function se(F){const{nodeLookup:q,multiSelectionActive:H,nodesDraggable:Q,transform:R,snapGrid:D,snapToGrid:U,selectNodesOnDrag:k,onNodeDragStart:Z,onSelectionDragStart:z,unselectNodesAndEdges:V}=a();y=!0,(!k||!B)&&!H&&L&&(q.get(L)?.selected||V()),B&&k&&L&&t?.(L);const I=Vs(F.sourceEvent,{transform:R,snapGrid:D,snapToGrid:U,containerBounds:x});if(u=I,m=w6(q,Q,I,L),m.size>0&&(i||Z||!L&&z)){const[te,le]=Rf({nodeId:L,dragItems:m,nodeLookup:q});i?.(F.sourceEvent,m,te,le),Z?.(F.sourceEvent,te,le),L||z?.(F.sourceEvent,le)}}const P=Dv().clickDistance(O).on("start",F=>{const{domNode:q,nodeDragThreshold:H,transform:Q,snapGrid:R,snapToGrid:D}=a();x=q?.getBoundingClientRect()||null,N=!1,E=!1,A=F.sourceEvent,H===0&&se(F),u=Vs(F.sourceEvent,{transform:Q,snapGrid:R,snapToGrid:D,containerBounds:x}),p=hn(F.sourceEvent,x)}).on("drag",F=>{const{autoPanOnNodeDrag:q,transform:H,snapGrid:Q,snapToGrid:R,nodeDragThreshold:D,nodeLookup:U}=a(),k=Vs(F.sourceEvent,{transform:H,snapGrid:Q,snapToGrid:R,containerBounds:x});if(A=F.sourceEvent,(F.sourceEvent.type==="touchmove"&&F.sourceEvent.touches.length>1||L&&!U.has(L))&&(N=!0),!N){if(!g&&q&&y&&(g=!0,J()),!y){const Z=hn(F.sourceEvent,x),z=Z.x-p.x,V=Z.y-p.y;Math.sqrt(z*z+V*V)>D&&se(F)}(u.x!==k.xSnapped||u.y!==k.ySnapped)&&m&&y&&(p=hn(F.sourceEvent,x),X(k))}}).on("end",F=>{if(!(!y||N)&&(g=!1,y=!1,cancelAnimationFrame(f),m.size>0)){const{nodeLookup:q,updateNodePositions:H,onNodeDragStop:Q,onSelectionDragStop:R}=a();if(E&&(H(m,!1),E=!1),l||Q||!L&&R){const[D,U]=Rf({nodeId:L,dragItems:m,nodeLookup:q,dragging:!1});l?.(F.sourceEvent,m,D,U),Q?.(F.sourceEvent,D,U),L||R?.(F.sourceEvent,U)}}}).filter(F=>{const q=F.target;return!F.button&&(!_||!Vy(q,`.${_}`,M))&&(!w||Vy(q,w,M))});v.call(P)}function j(){v?.on(".drag",null)}return{update:S,destroy:j}}function E6(t,a,i){const s=[],l={x:t.x-i,y:t.y-i,width:i*2,height:i*2};for(const u of a.values())Ws(l,Tr(u))>0&&s.push(u);return s}const j6=250;function _6(t,a,i,s){let l=[],u=1/0;const f=E6(t,i,a+j6);for(const m of f){const g=[...m.internals.handleBounds?.source??[],...m.internals.handleBounds?.target??[]];for(const p of g){if(s.nodeId===p.nodeId&&s.type===p.type&&s.id===p.id)continue;const{x,y}=Ei(m,p,p.position,!0),v=Math.sqrt(Math.pow(x-t.x,2)+Math.pow(y-t.y,2));v>a||(v<u?(l=[{...p,x,y}],u=v):v===u&&l.push({...p,x,y}))}}if(!l.length)return null;if(l.length>1){const m=s.type==="source"?"target":"source";return l.find(g=>g.type===m)??l[0]}return l[0]}function x1(t,a,i,s,l,u=!1){const f=s.get(t);if(!f)return null;const m=l==="strict"?f.internals.handleBounds?.[a]:[...f.internals.handleBounds?.source??[],...f.internals.handleBounds?.target??[]],g=(i?m?.find(p=>p.id===i):m?.[0])??null;return g&&u?{...g,...Ei(f,g,g.position,!0)}:g}function v1(t,a){return t||(a?.classList.contains("target")?"target":a?.classList.contains("source")?"source":null)}function C6(t,a){let i=null;return a?i=!0:t&&!a&&(i=!1),i}const b1=()=>!0;function T6(t,{connectionMode:a,connectionRadius:i,handleId:s,nodeId:l,edgeUpdaterType:u,isTarget:f,domNode:m,nodeLookup:g,lib:p,autoPanOnConnect:x,flowId:y,panBy:v,cancelConnection:N,onConnectStart:E,onConnect:A,onConnectEnd:S,isValidConnection:j=b1,onReconnectEnd:_,updateConnection:w,getTransform:M,getFromHandle:B,autoPanSpeed:L,dragThreshold:O=1,handleDomNode:X}){const J=s1(t.target);let se=0,P;const{x:F,y:q}=hn(t),H=v1(u,X),Q=m?.getBoundingClientRect();let R=!1;if(!Q||!H)return;const D=x1(l,H,s,g,a);if(!D)return;let U=hn(t,Q),k=!1,Z=null,z=!1,V=null;function I(){if(!x||!Q)return;const[ve,me]=n1(U,Q,L);v({x:ve,y:me}),se=requestAnimationFrame(I)}const te={...D,nodeId:l,type:H,position:D.position},le=g.get(l);let ce={inProgress:!0,isValid:null,from:Ei(le,te,ge.Left,!0),fromHandle:te,fromPosition:te.position,fromNode:le,to:U,toHandle:null,toPosition:Ay[te.position],toNode:null,pointer:U};function oe(){R=!0,w(ce),E?.(t,{nodeId:l,handleId:s,handleType:H})}O===0&&oe();function de(ve){if(!R){const{x:Je,y:Et}=hn(ve),xt=Je-F,an=Et-q;if(!(xt*xt+an*an>O*O))return;oe()}if(!B()||!te){be(ve);return}const me=M();U=hn(ve,Q),P=_6(uo(U,me,!1,[1,1]),i,g,te),k||(I(),k=!0);const pe=w1(ve,{handle:P,connectionMode:a,fromNodeId:l,fromHandleId:s,fromType:f?"target":"source",isValidConnection:j,doc:J,lib:p,flowId:y,nodeLookup:g});V=pe.handleDomNode,Z=pe.connection,z=C6(!!P,pe.isValid);const Ne=g.get(l),ze=Ne?Ei(Ne,te,ge.Left,!0):ce.from,je={...ce,from:ze,isValid:z,to:pe.toHandle&&z?_c({x:pe.toHandle.x,y:pe.toHandle.y},me):U,toHandle:pe.toHandle,toPosition:z&&pe.toHandle?pe.toHandle.position:Ay[te.position],toNode:pe.toHandle?g.get(pe.toHandle.nodeId):null,pointer:U};w(je),ce=je}function be(ve){if(!("touches"in ve&&ve.touches.length>0)){if(R){(P||V)&&Z&&z&&A?.(Z);const{inProgress:me,...pe}=ce,Ne={...pe,toPosition:ce.toHandle?ce.toPosition:null};S?.(ve,Ne),u&&_?.(ve,Ne)}N(),cancelAnimationFrame(se),k=!1,z=!1,Z=null,V=null,J.removeEventListener("mousemove",de),J.removeEventListener("mouseup",be),J.removeEventListener("touchmove",de),J.removeEventListener("touchend",be)}}J.addEventListener("mousemove",de),J.addEventListener("mouseup",be),J.addEventListener("touchmove",de),J.addEventListener("touchend",be)}function w1(t,{handle:a,connectionMode:i,fromNodeId:s,fromHandleId:l,fromType:u,doc:f,lib:m,flowId:g,isValidConnection:p=b1,nodeLookup:x}){const y=u==="target",v=a?f.querySelector(`.${m}-flow__handle[data-id="${g}-${a?.nodeId}-${a?.id}-${a?.type}"]`):null,{x:N,y:E}=hn(t),A=f.elementFromPoint(N,E),S=A?.classList.contains(`${m}-flow__handle`)?A:v,j={handleDomNode:S,isValid:!1,connection:null,toHandle:null};if(S){const _=v1(void 0,S),w=S.getAttribute("data-nodeid"),M=S.getAttribute("data-handleid"),B=S.classList.contains("connectable"),L=S.classList.contains("connectableend");if(!w||!_)return j;const O={source:y?w:s,sourceHandle:y?M:l,target:y?s:w,targetHandle:y?l:M};j.connection=O;const J=B&&L&&(i===_r.Strict?y&&_==="source"||!y&&_==="target":w!==s||M!==l);j.isValid=J&&p(O),j.toHandle=x1(w,_,M,x,i,!0)}return j}const fh={onPointerDown:T6,isValid:w1};function M6({domNode:t,panZoom:a,getTransform:i,getViewScale:s}){const l=Vt(t);function u({translateExtent:m,width:g,height:p,zoomStep:x=1,pannable:y=!0,zoomable:v=!0,inversePan:N=!1}){const E=w=>{if(w.sourceEvent.type!=="wheel"||!a)return;const M=i(),B=w.sourceEvent.ctrlKey&&Ks()?10:1,L=-w.sourceEvent.deltaY*(w.sourceEvent.deltaMode===1?.05:w.sourceEvent.deltaMode?1:.002)*x,O=M[2]*Math.pow(2,L*B);a.scaleTo(O)};let A=[0,0];const S=w=>{(w.sourceEvent.type==="mousedown"||w.sourceEvent.type==="touchstart")&&(A=[w.sourceEvent.clientX??w.sourceEvent.touches[0].clientX,w.sourceEvent.clientY??w.sourceEvent.touches[0].clientY])},j=w=>{const M=i();if(w.sourceEvent.type!=="mousemove"&&w.sourceEvent.type!=="touchmove"||!a)return;const B=[w.sourceEvent.clientX??w.sourceEvent.touches[0].clientX,w.sourceEvent.clientY??w.sourceEvent.touches[0].clientY],L=[B[0]-A[0],B[1]-A[1]];A=B;const O=s()*Math.max(M[2],Math.log(M[2]))*(N?-1:1),X={x:M[0]-L[0]*O,y:M[1]-L[1]*O},J=[[0,0],[g,p]];a.setViewportConstrained({x:X.x,y:X.y,zoom:M[2]},J,m)},_=Pv().on("start",S).on("zoom",y?j:null).on("zoom.wheel",v?E:null);l.call(_,{})}function f(){l.on("zoom",null)}return{update:u,destroy:f,pointer:un}}const Xc=t=>({x:t.x,y:t.y,zoom:t.k}),zf=({x:t,y:a,zoom:i})=>qc.translate(t,a).scale(i),yr=(t,a)=>t.target.closest(`.${a}`),S1=(t,a)=>a===2&&Array.isArray(t)&&t.includes(2),A6=t=>((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2,Df=(t,a=0,i=A6,s=()=>{})=>{const l=typeof a=="number"&&a>0;return l||s(),l?t.transition().duration(a).ease(i).on("end",s):t},N1=t=>{const a=t.ctrlKey&&Ks()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*a};function R6({zoomPanValues:t,noWheelClassName:a,d3Selection:i,d3Zoom:s,panOnScrollMode:l,panOnScrollSpeed:u,zoomOnPinch:f,onPanZoomStart:m,onPanZoom:g,onPanZoomEnd:p}){return x=>{if(yr(x,a))return x.ctrlKey&&x.preventDefault(),!1;x.preventDefault(),x.stopImmediatePropagation();const y=i.property("__zoom").k||1;if(x.ctrlKey&&f){const S=un(x),j=N1(x),_=y*Math.pow(2,j);s.scaleTo(i,_,S,x);return}const v=x.deltaMode===1?20:1;let N=l===bi.Vertical?0:x.deltaX*v,E=l===bi.Horizontal?0:x.deltaY*v;!Ks()&&x.shiftKey&&l!==bi.Vertical&&(N=x.deltaY*v,E=0),s.translateBy(i,-(N/y)*u,-(E/y)*u,{internal:!0});const A=Xc(i.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling?(g?.(x,A),t.panScrollTimeout=setTimeout(()=>{p?.(x,A),t.isPanScrolling=!1},150)):(t.isPanScrolling=!0,m?.(x,A))}}function z6({noWheelClassName:t,preventScrolling:a,d3ZoomHandler:i}){return function(s,l){const u=s.type==="wheel",f=!a&&u&&!s.ctrlKey,m=yr(s,t);if(s.ctrlKey&&u&&m&&s.preventDefault(),f||m)return null;s.preventDefault(),i.call(this,s,l)}}function D6({zoomPanValues:t,onDraggingChange:a,onPanZoomStart:i}){return s=>{if(s.sourceEvent?.internal)return;const l=Xc(s.transform);t.mouseButton=s.sourceEvent?.button||0,t.isZoomingOrPanning=!0,t.prevViewport=l,s.sourceEvent?.type==="mousedown"&&a(!0),i&&i?.(s.sourceEvent,l)}}function O6({zoomPanValues:t,panOnDrag:a,onPaneContextMenu:i,onTransformChange:s,onPanZoom:l}){return u=>{t.usedRightMouseButton=!!(i&&S1(a,t.mouseButton??0)),u.sourceEvent?.sync||s([u.transform.x,u.transform.y,u.transform.k]),l&&!u.sourceEvent?.internal&&l?.(u.sourceEvent,Xc(u.transform))}}function k6({zoomPanValues:t,panOnDrag:a,panOnScroll:i,onDraggingChange:s,onPanZoomEnd:l,onPaneContextMenu:u}){return f=>{if(!f.sourceEvent?.internal&&(t.isZoomingOrPanning=!1,u&&S1(a,t.mouseButton??0)&&!t.usedRightMouseButton&&f.sourceEvent&&u(f.sourceEvent),t.usedRightMouseButton=!1,s(!1),l)){const m=Xc(f.transform);t.prevViewport=m,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{l?.(f.sourceEvent,m)},i?150:0)}}}function B6({zoomActivationKeyPressed:t,zoomOnScroll:a,zoomOnPinch:i,panOnDrag:s,panOnScroll:l,zoomOnDoubleClick:u,userSelectionActive:f,noWheelClassName:m,noPanClassName:g,lib:p,connectionInProgress:x}){return y=>{const v=t||a,N=i&&y.ctrlKey,E=y.type==="wheel";if(y.button===1&&y.type==="mousedown"&&(yr(y,`${p}-flow__node`)||yr(y,`${p}-flow__edge`)))return!0;if(!s&&!v&&!l&&!u&&!i||f||x&&!E||yr(y,m)&&E||yr(y,g)&&(!E||l&&E&&!t)||!i&&y.ctrlKey&&E)return!1;if(!i&&y.type==="touchstart"&&y.touches?.length>1)return y.preventDefault(),!1;if(!v&&!l&&!N&&E||!s&&(y.type==="mousedown"||y.type==="touchstart")||Array.isArray(s)&&!s.includes(y.button)&&y.type==="mousedown")return!1;const A=Array.isArray(s)&&s.includes(y.button)||!y.button||y.button<=1;return(!y.ctrlKey||E)&&A}}function H6({domNode:t,minZoom:a,maxZoom:i,translateExtent:s,viewport:l,onPanZoom:u,onPanZoomStart:f,onPanZoomEnd:m,onDraggingChange:g}){const p={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},x=t.getBoundingClientRect(),y=Pv().scaleExtent([a,i]).translateExtent(s),v=Vt(t).call(y);_({x:l.x,y:l.y,zoom:Cr(l.zoom,a,i)},[[0,0],[x.width,x.height]],s);const N=v.on("wheel.zoom"),E=v.on("dblclick.zoom");y.wheelDelta(N1);function A(P,F){return v?new Promise(q=>{y?.interpolate(F?.interpolate==="linear"?qs:oc).transform(Df(v,F?.duration,F?.ease,()=>q(!0)),P)}):Promise.resolve(!1)}function S({noWheelClassName:P,noPanClassName:F,onPaneContextMenu:q,userSelectionActive:H,panOnScroll:Q,panOnDrag:R,panOnScrollMode:D,panOnScrollSpeed:U,preventScrolling:k,zoomOnPinch:Z,zoomOnScroll:z,zoomOnDoubleClick:V,zoomActivationKeyPressed:I,lib:te,onTransformChange:le,connectionInProgress:ue,paneClickDistance:ce,selectionOnDrag:oe}){H&&!p.isZoomingOrPanning&&j();const de=Q&&!I&&!H;y.clickDistance(oe?1/0:!fn(ce)||ce<0?0:ce);const be=de?R6({zoomPanValues:p,noWheelClassName:P,d3Selection:v,d3Zoom:y,panOnScrollMode:D,panOnScrollSpeed:U,zoomOnPinch:Z,onPanZoomStart:f,onPanZoom:u,onPanZoomEnd:m}):z6({noWheelClassName:P,preventScrolling:k,d3ZoomHandler:N});if(v.on("wheel.zoom",be,{passive:!1}),!H){const me=D6({zoomPanValues:p,onDraggingChange:g,onPanZoomStart:f});y.on("start",me);const pe=O6({zoomPanValues:p,panOnDrag:R,onPaneContextMenu:!!q,onPanZoom:u,onTransformChange:le});y.on("zoom",pe);const Ne=k6({zoomPanValues:p,panOnDrag:R,panOnScroll:Q,onPaneContextMenu:q,onPanZoomEnd:m,onDraggingChange:g});y.on("end",Ne)}const ve=B6({zoomActivationKeyPressed:I,panOnDrag:R,zoomOnScroll:z,panOnScroll:Q,zoomOnDoubleClick:V,zoomOnPinch:Z,userSelectionActive:H,noPanClassName:F,noWheelClassName:P,lib:te,connectionInProgress:ue});y.filter(ve),V?v.on("dblclick.zoom",E):v.on("dblclick.zoom",null)}function j(){y.on("zoom",null)}async function _(P,F,q){const H=zf(P),Q=y?.constrain()(H,F,q);return Q&&await A(Q),new Promise(R=>R(Q))}async function w(P,F){const q=zf(P);return await A(q,F),new Promise(H=>H(q))}function M(P){if(v){const F=zf(P),q=v.property("__zoom");(q.k!==P.zoom||q.x!==P.x||q.y!==P.y)&&y?.transform(v,F,null,{sync:!0})}}function B(){const P=v?Qv(v.node()):{x:0,y:0,k:1};return{x:P.x,y:P.y,zoom:P.k}}function L(P,F){return v?new Promise(q=>{y?.interpolate(F?.interpolate==="linear"?qs:oc).scaleTo(Df(v,F?.duration,F?.ease,()=>q(!0)),P)}):Promise.resolve(!1)}function O(P,F){return v?new Promise(q=>{y?.interpolate(F?.interpolate==="linear"?qs:oc).scaleBy(Df(v,F?.duration,F?.ease,()=>q(!0)),P)}):Promise.resolve(!1)}function X(P){y?.scaleExtent(P)}function J(P){y?.translateExtent(P)}function se(P){const F=!fn(P)||P<0?0:P;y?.clickDistance(F)}return{update:S,destroy:j,setViewport:w,setViewportConstrained:_,getViewport:B,scaleTo:L,scaleBy:O,setScaleExtent:X,setTranslateExtent:J,syncViewport:M,setClickDistance:se}}var Ar;(function(t){t.Line="line",t.Handle="handle"})(Ar||(Ar={}));function L6({width:t,prevWidth:a,height:i,prevHeight:s,affectsX:l,affectsY:u}){const f=t-a,m=i-s,g=[f>0?1:f<0?-1:0,m>0?1:m<0?-1:0];return f&&l&&(g[0]=g[0]*-1),m&&u&&(g[1]=g[1]*-1),g}function Yy(t){const a=t.includes("right")||t.includes("left"),i=t.includes("bottom")||t.includes("top"),s=t.includes("left"),l=t.includes("top");return{isHorizontal:a,isVertical:i,affectsX:s,affectsY:l}}function Ha(t,a){return Math.max(0,a-t)}function La(t,a){return Math.max(0,t-a)}function Pl(t,a,i){return Math.max(0,a-t,t-i)}function Xy(t,a){return t?!a:a}function U6(t,a,i,s,l,u,f,m){let{affectsX:g,affectsY:p}=a;const{isHorizontal:x,isVertical:y}=a,v=x&&y,{xSnapped:N,ySnapped:E}=i,{minWidth:A,maxWidth:S,minHeight:j,maxHeight:_}=s,{x:w,y:M,width:B,height:L,aspectRatio:O}=t;let X=Math.floor(x?N-t.pointerX:0),J=Math.floor(y?E-t.pointerY:0);const se=B+(g?-X:X),P=L+(p?-J:J),F=-u[0]*B,q=-u[1]*L;let H=Pl(se,A,S),Q=Pl(P,j,_);if(f){let U=0,k=0;g&&X<0?U=Ha(w+X+F,f[0][0]):!g&&X>0&&(U=La(w+se+F,f[1][0])),p&&J<0?k=Ha(M+J+q,f[0][1]):!p&&J>0&&(k=La(M+P+q,f[1][1])),H=Math.max(H,U),Q=Math.max(Q,k)}if(m){let U=0,k=0;g&&X>0?U=La(w+X,m[0][0]):!g&&X<0&&(U=Ha(w+se,m[1][0])),p&&J>0?k=La(M+J,m[0][1]):!p&&J<0&&(k=Ha(M+P,m[1][1])),H=Math.max(H,U),Q=Math.max(Q,k)}if(l){if(x){const U=Pl(se/O,j,_)*O;if(H=Math.max(H,U),f){let k=0;!g&&!p||g&&!p&&v?k=La(M+q+se/O,f[1][1])*O:k=Ha(M+q+(g?X:-X)/O,f[0][1])*O,H=Math.max(H,k)}if(m){let k=0;!g&&!p||g&&!p&&v?k=Ha(M+se/O,m[1][1])*O:k=La(M+(g?X:-X)/O,m[0][1])*O,H=Math.max(H,k)}}if(y){const U=Pl(P*O,A,S)/O;if(Q=Math.max(Q,U),f){let k=0;!g&&!p||p&&!g&&v?k=La(w+P*O+F,f[1][0])/O:k=Ha(w+(p?J:-J)*O+F,f[0][0])/O,Q=Math.max(Q,k)}if(m){let k=0;!g&&!p||p&&!g&&v?k=Ha(w+P*O,m[1][0])/O:k=La(w+(p?J:-J)*O,m[0][0])/O,Q=Math.max(Q,k)}}}J=J+(J<0?Q:-Q),X=X+(X<0?H:-H),l&&(v?se>P*O?J=(Xy(g,p)?-X:X)/O:X=(Xy(g,p)?-J:J)*O:x?(J=X/O,p=g):(X=J*O,g=p));const R=g?w+X:w,D=p?M+J:M;return{width:B+(g?-X:X),height:L+(p?-J:J),x:u[0]*X*(g?-1:1)+R,y:u[1]*J*(p?-1:1)+D}}const E1={width:0,height:0,x:0,y:0},$6={...E1,pointerX:0,pointerY:0,aspectRatio:1};function q6(t){return[[0,0],[t.measured.width,t.measured.height]]}function V6(t,a,i){const s=a.position.x+t.position.x,l=a.position.y+t.position.y,u=t.measured.width??0,f=t.measured.height??0,m=i[0]*u,g=i[1]*f;return[[s-m,l-g],[s+u-m,l+f-g]]}function Y6({domNode:t,nodeId:a,getStoreItems:i,onChange:s,onEnd:l}){const u=Vt(t);let f={controlDirection:Yy("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function m({controlPosition:p,boundaries:x,keepAspectRatio:y,resizeDirection:v,onResizeStart:N,onResize:E,onResizeEnd:A,shouldResize:S}){let j={...E1},_={...$6};f={boundaries:x,resizeDirection:v,keepAspectRatio:y,controlDirection:Yy(p)};let w,M=null,B=[],L,O,X,J=!1;const se=Dv().on("start",P=>{const{nodeLookup:F,transform:q,snapGrid:H,snapToGrid:Q,nodeOrigin:R,paneDomNode:D}=i();if(w=F.get(a),!w)return;M=D?.getBoundingClientRect()??null;const{xSnapped:U,ySnapped:k}=Vs(P.sourceEvent,{transform:q,snapGrid:H,snapToGrid:Q,containerBounds:M});j={width:w.measured.width??0,height:w.measured.height??0,x:w.position.x??0,y:w.position.y??0},_={...j,pointerX:U,pointerY:k,aspectRatio:j.width/j.height},L=void 0,w.parentId&&(w.extent==="parent"||w.expandParent)&&(L=F.get(w.parentId),O=L&&w.extent==="parent"?q6(L):void 0),B=[],X=void 0;for(const[Z,z]of F)if(z.parentId===a&&(B.push({id:Z,position:{...z.position},extent:z.extent}),z.extent==="parent"||z.expandParent)){const V=V6(z,w,z.origin??R);X?X=[[Math.min(V[0][0],X[0][0]),Math.min(V[0][1],X[0][1])],[Math.max(V[1][0],X[1][0]),Math.max(V[1][1],X[1][1])]]:X=V}N?.(P,{...j})}).on("drag",P=>{const{transform:F,snapGrid:q,snapToGrid:H,nodeOrigin:Q}=i(),R=Vs(P.sourceEvent,{transform:F,snapGrid:q,snapToGrid:H,containerBounds:M}),D=[];if(!w)return;const{x:U,y:k,width:Z,height:z}=j,V={},I=w.origin??Q,{width:te,height:le,x:ue,y:ce}=U6(_,f.controlDirection,R,f.boundaries,f.keepAspectRatio,I,O,X),oe=te!==Z,de=le!==z,be=ue!==U&&oe,ve=ce!==k&&de;if(!be&&!ve&&!oe&&!de)return;if((be||ve||I[0]===1||I[1]===1)&&(V.x=be?ue:j.x,V.y=ve?ce:j.y,j.x=V.x,j.y=V.y,B.length>0)){const ze=ue-U,je=ce-k;for(const Je of B)Je.position={x:Je.position.x-ze+I[0]*(te-Z),y:Je.position.y-je+I[1]*(le-z)},D.push(Je)}if((oe||de)&&(V.width=oe&&(!f.resizeDirection||f.resizeDirection==="horizontal")?te:j.width,V.height=de&&(!f.resizeDirection||f.resizeDirection==="vertical")?le:j.height,j.width=V.width,j.height=V.height),L&&w.expandParent){const ze=I[0]*(V.width??0);V.x&&V.x<ze&&(j.x=ze,_.x=_.x-(V.x-ze));const je=I[1]*(V.height??0);V.y&&V.y<je&&(j.y=je,_.y=_.y-(V.y-je))}const me=L6({width:j.width,prevWidth:Z,height:j.height,prevHeight:z,affectsX:f.controlDirection.affectsX,affectsY:f.controlDirection.affectsY}),pe={...j,direction:me};S?.(P,pe)!==!1&&(J=!0,E?.(P,pe),s(V,D))}).on("end",P=>{J&&(A?.(P,{...j}),l?.({...j}),J=!1)});u.call(se)}function g(){u.on(".drag",null)}return{update:m,destroy:g}}var Of={exports:{}},kf={},Bf={exports:{}},Hf={};var Gy;function X6(){if(Gy)return Hf;Gy=1;var t=eo();function a(y,v){return y===v&&(y!==0||1/y===1/v)||y!==y&&v!==v}var i=typeof Object.is=="function"?Object.is:a,s=t.useState,l=t.useEffect,u=t.useLayoutEffect,f=t.useDebugValue;function m(y,v){var N=v(),E=s({inst:{value:N,getSnapshot:v}}),A=E[0].inst,S=E[1];return u(function(){A.value=N,A.getSnapshot=v,g(A)&&S({inst:A})},[y,N,v]),l(function(){return g(A)&&S({inst:A}),y(function(){g(A)&&S({inst:A})})},[y]),f(N),N}function g(y){var v=y.getSnapshot;y=y.value;try{var N=v();return!i(y,N)}catch{return!0}}function p(y,v){return v()}var x=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:m;return Hf.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:x,Hf}var Zy;function G6(){return Zy||(Zy=1,Bf.exports=X6()),Bf.exports}var Qy;function Z6(){if(Qy)return kf;Qy=1;var t=eo(),a=G6();function i(p,x){return p===x&&(p!==0||1/p===1/x)||p!==p&&x!==x}var s=typeof Object.is=="function"?Object.is:i,l=a.useSyncExternalStore,u=t.useRef,f=t.useEffect,m=t.useMemo,g=t.useDebugValue;return kf.useSyncExternalStoreWithSelector=function(p,x,y,v,N){var E=u(null);if(E.current===null){var A={hasValue:!1,value:null};E.current=A}else A=E.current;E=m(function(){function j(L){if(!_){if(_=!0,w=L,L=v(L),N!==void 0&&A.hasValue){var O=A.value;if(N(O,L))return M=O}return M=L}if(O=M,s(w,L))return O;var X=v(L);return N!==void 0&&N(O,X)?(w=L,O):(w=L,M=X)}var _=!1,w,M,B=y===void 0?null:y;return[function(){return j(x())},B===null?void 0:function(){return j(B())}]},[x,y,v,N]);var S=l(p,E[0],E[1]);return f(function(){A.hasValue=!0,A.value=S},[S]),g(S),S},kf}var Py;function Q6(){return Py||(Py=1,Of.exports=Z6()),Of.exports}var P6=Q6();const I6=mh(P6),F6={},Iy=t=>{let a;const i=new Set,s=(x,y)=>{const v=typeof x=="function"?x(a):x;if(!Object.is(v,a)){const N=a;a=y??(typeof v!="object"||v===null)?v:Object.assign({},a,v),i.forEach(E=>E(a,N))}},l=()=>a,g={setState:s,getState:l,getInitialState:()=>p,subscribe:x=>(i.add(x),()=>i.delete(x)),destroy:()=>{(F6?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),i.clear()}},p=a=t(s,l,g);return g},W6=t=>t?Iy(t):Iy,{useDebugValue:K6}=gr,{useSyncExternalStoreWithSelector:J6}=I6,eT=t=>t;function j1(t,a=eT,i){const s=J6(t.subscribe,t.getState,t.getServerState||t.getInitialState,a,i);return K6(s),s}const Fy=(t,a)=>{const i=W6(t),s=(l,u=a)=>j1(i,l,u);return Object.assign(s,i),s},tT=(t,a)=>t?Fy(t,a):Fy;function Ie(t,a){if(Object.is(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;if(t instanceof Map&&a instanceof Map){if(t.size!==a.size)return!1;for(const[s,l]of t)if(!Object.is(l,a.get(s)))return!1;return!0}if(t instanceof Set&&a instanceof Set){if(t.size!==a.size)return!1;for(const s of t)if(!a.has(s))return!1;return!0}const i=Object.keys(t);if(i.length!==Object.keys(a).length)return!1;for(const s of i)if(!Object.prototype.hasOwnProperty.call(a,s)||!Object.is(t[s],a[s]))return!1;return!0}const Gc=C.createContext(null),nT=Gc.Provider,_1=Cn.error001();function De(t,a){const i=C.useContext(Gc);if(i===null)throw new Error(_1);return j1(i,t,a)}function Fe(){const t=C.useContext(Gc);if(t===null)throw new Error(_1);return C.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe}),[t])}const Wy={display:"none"},aT={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},C1="react-flow__node-desc",T1="react-flow__edge-desc",iT="react-flow__aria-live",rT=t=>t.ariaLiveMessage,sT=t=>t.ariaLabelConfig;function oT({rfId:t}){const a=De(rT);return c.jsx("div",{id:`${iT}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:aT,children:a})}function lT({rfId:t,disableKeyboardA11y:a}){const i=De(sT);return c.jsxs(c.Fragment,{children:[c.jsx("div",{id:`${C1}-${t}`,style:Wy,children:a?i["node.a11yDescription.default"]:i["node.a11yDescription.keyboardDisabled"]}),c.jsx("div",{id:`${T1}-${t}`,style:Wy,children:i["edge.a11yDescription.default"]}),!a&&c.jsx(oT,{rfId:t})]})}const Zc=C.forwardRef(({position:t="top-left",children:a,className:i,style:s,...l},u)=>{const f=`${t}`.split("-");return c.jsx("div",{className:lt(["react-flow__panel",i,...f]),style:s,ref:u,...l,children:a})});Zc.displayName="Panel";function cT({proOptions:t,position:a="bottom-right"}){return t?.hideAttribution?null:c.jsx(Zc,{position:a,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:c.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const uT=t=>{const a=[],i=[];for(const[,s]of t.nodeLookup)s.selected&&a.push(s.internals.userNode);for(const[,s]of t.edgeLookup)s.selected&&i.push(s);return{selectedNodes:a,selectedEdges:i}},Il=t=>t.id;function dT(t,a){return Ie(t.selectedNodes.map(Il),a.selectedNodes.map(Il))&&Ie(t.selectedEdges.map(Il),a.selectedEdges.map(Il))}function fT({onSelectionChange:t}){const a=Fe(),{selectedNodes:i,selectedEdges:s}=De(uT,dT);return C.useEffect(()=>{const l={nodes:i,edges:s};t?.(l),a.getState().onSelectionChangeHandlers.forEach(u=>u(l))},[i,s,t]),null}const hT=t=>!!t.onSelectionChangeHandlers;function mT({onSelectionChange:t}){const a=De(hT);return t||a?c.jsx(fT,{onSelectionChange:t}):null}const M1=[0,0],pT={x:0,y:0,zoom:1},gT=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],Ky=[...gT,"rfId"],yT=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges}),Jy={translateExtent:Is,nodeOrigin:M1,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function xT(t){const{setNodes:a,setEdges:i,setMinZoom:s,setMaxZoom:l,setTranslateExtent:u,setNodeExtent:f,reset:m,setDefaultNodesAndEdges:g}=De(yT,Ie),p=Fe();C.useEffect(()=>(g(t.defaultNodes,t.defaultEdges),()=>{x.current=Jy,m()}),[]);const x=C.useRef(Jy);return C.useEffect(()=>{for(const y of Ky){const v=t[y],N=x.current[y];v!==N&&(typeof t[y]>"u"||(y==="nodes"?a(v):y==="edges"?i(v):y==="minZoom"?s(v):y==="maxZoom"?l(v):y==="translateExtent"?u(v):y==="nodeExtent"?f(v):y==="ariaLabelConfig"?p.setState({ariaLabelConfig:n6(v)}):y==="fitView"?p.setState({fitViewQueued:v}):y==="fitViewOptions"?p.setState({fitViewOptions:v}):p.setState({[y]:v})))}x.current=t},Ky.map(y=>t[y])),null}function ex(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function vT(t){const[a,i]=C.useState(t==="system"?null:t);return C.useEffect(()=>{if(t!=="system"){i(t);return}const s=ex(),l=()=>i(s?.matches?"dark":"light");return l(),s?.addEventListener("change",l),()=>{s?.removeEventListener("change",l)}},[t]),a!==null?a:ex()?.matches?"dark":"light"}const tx=typeof document<"u"?document:null;function Js(t=null,a={target:tx,actInsideInputWithModifier:!0}){const[i,s]=C.useState(!1),l=C.useRef(!1),u=C.useRef(new Set([])),[f,m]=C.useMemo(()=>{if(t!==null){const p=(Array.isArray(t)?t:[t]).filter(y=>typeof y=="string").map(y=>y.replace("+",`
`).replace(`

`,`
+`).split(`
`)),x=p.reduce((y,v)=>y.concat(...v),[]);return[p,x]}return[[],[]]},[t]);return C.useEffect(()=>{const g=a?.target??tx,p=a?.actInsideInputWithModifier??!0;if(t!==null){const x=N=>{if(l.current=N.ctrlKey||N.metaKey||N.shiftKey||N.altKey,(!l.current||l.current&&!p)&&o1(N))return!1;const A=ax(N.code,m);if(u.current.add(N[A]),nx(f,u.current,!1)){const S=N.composedPath?.()?.[0]||N.target,j=S?.nodeName==="BUTTON"||S?.nodeName==="A";a.preventDefault!==!1&&(l.current||!j)&&N.preventDefault(),s(!0)}},y=N=>{const E=ax(N.code,m);nx(f,u.current,!0)?(s(!1),u.current.clear()):u.current.delete(N[E]),N.key==="Meta"&&u.current.clear(),l.current=!1},v=()=>{u.current.clear(),s(!1)};return g?.addEventListener("keydown",x),g?.addEventListener("keyup",y),window.addEventListener("blur",v),window.addEventListener("contextmenu",v),()=>{g?.removeEventListener("keydown",x),g?.removeEventListener("keyup",y),window.removeEventListener("blur",v),window.removeEventListener("contextmenu",v)}}},[t,s]),i}function nx(t,a,i){return t.filter(s=>i||s.length===a.size).some(s=>s.every(l=>a.has(l)))}function ax(t,a){return a.includes(t)?"code":"key"}const bT=()=>{const t=Fe();return C.useMemo(()=>({zoomIn:a=>{const{panZoom:i}=t.getState();return i?i.scaleBy(1.2,{duration:a?.duration}):Promise.resolve(!1)},zoomOut:a=>{const{panZoom:i}=t.getState();return i?i.scaleBy(1/1.2,{duration:a?.duration}):Promise.resolve(!1)},zoomTo:(a,i)=>{const{panZoom:s}=t.getState();return s?s.scaleTo(a,{duration:i?.duration}):Promise.resolve(!1)},getZoom:()=>t.getState().transform[2],setViewport:async(a,i)=>{const{transform:[s,l,u],panZoom:f}=t.getState();return f?(await f.setViewport({x:a.x??s,y:a.y??l,zoom:a.zoom??u},i),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[a,i,s]=t.getState().transform;return{x:a,y:i,zoom:s}},setCenter:async(a,i,s)=>t.getState().setCenter(a,i,s),fitBounds:async(a,i)=>{const{width:s,height:l,minZoom:u,maxZoom:f,panZoom:m}=t.getState(),g=Uh(a,s,l,u,f,i?.padding??.1);return m?(await m.setViewport(g,{duration:i?.duration,ease:i?.ease,interpolate:i?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(a,i={})=>{const{transform:s,snapGrid:l,snapToGrid:u,domNode:f}=t.getState();if(!f)return a;const{x:m,y:g}=f.getBoundingClientRect(),p={x:a.x-m,y:a.y-g},x=i.snapGrid??l,y=i.snapToGrid??u;return uo(p,s,y,x)},flowToScreenPosition:a=>{const{transform:i,domNode:s}=t.getState();if(!s)return a;const{x:l,y:u}=s.getBoundingClientRect(),f=_c(a,i);return{x:f.x+l,y:f.y+u}}}),[])};function A1(t,a){const i=[],s=new Map,l=[];for(const u of t)if(u.type==="add"){l.push(u);continue}else if(u.type==="remove"||u.type==="replace")s.set(u.id,[u]);else{const f=s.get(u.id);f?f.push(u):s.set(u.id,[u])}for(const u of a){const f=s.get(u.id);if(!f){i.push(u);continue}if(f[0].type==="remove")continue;if(f[0].type==="replace"){i.push({...f[0].item});continue}const m={...u};for(const g of f)wT(g,m);i.push(m)}return l.length&&l.forEach(u=>{u.index!==void 0?i.splice(u.index,0,{...u.item}):i.push({...u.item})}),i}function wT(t,a){switch(t.type){case"select":{a.selected=t.selected;break}case"position":{typeof t.position<"u"&&(a.position=t.position),typeof t.dragging<"u"&&(a.dragging=t.dragging);break}case"dimensions":{typeof t.dimensions<"u"&&(a.measured={...t.dimensions},t.setAttributes&&((t.setAttributes===!0||t.setAttributes==="width")&&(a.width=t.dimensions.width),(t.setAttributes===!0||t.setAttributes==="height")&&(a.height=t.dimensions.height))),typeof t.resizing=="boolean"&&(a.resizing=t.resizing);break}}}function R1(t,a){return A1(t,a)}function z1(t,a){return A1(t,a)}function pi(t,a){return{id:t,type:"select",selected:a}}function xr(t,a=new Set,i=!1){const s=[];for(const[l,u]of t){const f=a.has(l);!(u.selected===void 0&&!f)&&u.selected!==f&&(i&&(u.selected=f),s.push(pi(u.id,f)))}return s}function ix({items:t=[],lookup:a}){const i=[],s=new Map(t.map(l=>[l.id,l]));for(const[l,u]of t.entries()){const f=a.get(u.id),m=f?.internals?.userNode??f;m!==void 0&&m!==u&&i.push({id:u.id,item:u,type:"replace"}),m===void 0&&i.push({item:u,type:"add",index:l})}for(const[l]of a)s.get(l)===void 0&&i.push({id:l,type:"remove"});return i}function rx(t){return{id:t.id,type:"remove"}}const sx=t=>ZC(t),ST=t=>Jv(t);function D1(t){return C.forwardRef(t)}const NT=typeof window<"u"?C.useLayoutEffect:C.useEffect;function ox(t){const[a,i]=C.useState(BigInt(0)),[s]=C.useState(()=>ET(()=>i(l=>l+BigInt(1))));return NT(()=>{const l=s.get();l.length&&(t(l),s.reset())},[a]),s}function ET(t){let a=[];return{get:()=>a,reset:()=>{a=[]},push:i=>{a.push(i),t()}}}const O1=C.createContext(null);function jT({children:t}){const a=Fe(),i=C.useCallback(m=>{const{nodes:g=[],setNodes:p,hasDefaultNodes:x,onNodesChange:y,nodeLookup:v,fitViewQueued:N,onNodesChangeMiddlewareMap:E}=a.getState();let A=g;for(const j of m)A=typeof j=="function"?j(A):j;let S=ix({items:A,lookup:v});for(const j of E.values())S=j(S);x&&p(A),S.length>0?y?.(S):N&&window.requestAnimationFrame(()=>{const{fitViewQueued:j,nodes:_,setNodes:w}=a.getState();j&&w(_)})},[]),s=ox(i),l=C.useCallback(m=>{const{edges:g=[],setEdges:p,hasDefaultEdges:x,onEdgesChange:y,edgeLookup:v}=a.getState();let N=g;for(const E of m)N=typeof E=="function"?E(N):E;x?p(N):y&&y(ix({items:N,lookup:v}))},[]),u=ox(l),f=C.useMemo(()=>({nodeQueue:s,edgeQueue:u}),[]);return c.jsx(O1.Provider,{value:f,children:t})}function _T(){const t=C.useContext(O1);if(!t)throw new Error("useBatchContext must be used within a BatchProvider");return t}const CT=t=>!!t.panZoom;function Zh(){const t=bT(),a=Fe(),i=_T(),s=De(CT),l=C.useMemo(()=>{const u=y=>a.getState().nodeLookup.get(y),f=y=>{i.nodeQueue.push(y)},m=y=>{i.edgeQueue.push(y)},g=y=>{const{nodeLookup:v,nodeOrigin:N}=a.getState(),E=sx(y)?y:v.get(y.id),A=E.parentId?r1(E.position,E.measured,E.parentId,v,N):E.position,S={...E,position:A,width:E.measured?.width??E.width,height:E.measured?.height??E.height};return Tr(S)},p=(y,v,N={replace:!1})=>{f(E=>E.map(A=>{if(A.id===y){const S=typeof v=="function"?v(A):v;return N.replace&&sx(S)?S:{...A,...S}}return A}))},x=(y,v,N={replace:!1})=>{m(E=>E.map(A=>{if(A.id===y){const S=typeof v=="function"?v(A):v;return N.replace&&ST(S)?S:{...A,...S}}return A}))};return{getNodes:()=>a.getState().nodes.map(y=>({...y})),getNode:y=>u(y)?.internals.userNode,getInternalNode:u,getEdges:()=>{const{edges:y=[]}=a.getState();return y.map(v=>({...v}))},getEdge:y=>a.getState().edgeLookup.get(y),setNodes:f,setEdges:m,addNodes:y=>{const v=Array.isArray(y)?y:[y];i.nodeQueue.push(N=>[...N,...v])},addEdges:y=>{const v=Array.isArray(y)?y:[y];i.edgeQueue.push(N=>[...N,...v])},toObject:()=>{const{nodes:y=[],edges:v=[],transform:N}=a.getState(),[E,A,S]=N;return{nodes:y.map(j=>({...j})),edges:v.map(j=>({...j})),viewport:{x:E,y:A,zoom:S}}},deleteElements:async({nodes:y=[],edges:v=[]})=>{const{nodes:N,edges:E,onNodesDelete:A,onEdgesDelete:S,triggerNodeChanges:j,triggerEdgeChanges:_,onDelete:w,onBeforeDelete:M}=a.getState(),{nodes:B,edges:L}=await WC({nodesToRemove:y,edgesToRemove:v,nodes:N,edges:E,onBeforeDelete:M}),O=L.length>0,X=B.length>0;if(O){const J=L.map(rx);S?.(L),_(J)}if(X){const J=B.map(rx);A?.(B),j(J)}return(X||O)&&w?.({nodes:B,edges:L}),{deletedNodes:B,deletedEdges:L}},getIntersectingNodes:(y,v=!0,N)=>{const E=zy(y),A=E?y:g(y),S=N!==void 0;return A?(N||a.getState().nodes).filter(j=>{const _=a.getState().nodeLookup.get(j.id);if(_&&!E&&(j.id===y.id||!_.internals.positionAbsolute))return!1;const w=Tr(S?j:_),M=Ws(w,A);return v&&M>0||M>=w.width*w.height||M>=A.width*A.height}):[]},isNodeIntersecting:(y,v,N=!0)=>{const A=zy(y)?y:g(y);if(!A)return!1;const S=Ws(A,v);return N&&S>0||S>=v.width*v.height||S>=A.width*A.height},updateNode:p,updateNodeData:(y,v,N={replace:!1})=>{p(y,E=>{const A=typeof v=="function"?v(E):v;return N.replace?{...E,data:A}:{...E,data:{...E.data,...A}}},N)},updateEdge:x,updateEdgeData:(y,v,N={replace:!1})=>{x(y,E=>{const A=typeof v=="function"?v(E):v;return N.replace?{...E,data:A}:{...E,data:{...E.data,...A}}},N)},getNodesBounds:y=>{const{nodeLookup:v,nodeOrigin:N}=a.getState();return QC(y,{nodeLookup:v,nodeOrigin:N})},getHandleConnections:({type:y,id:v,nodeId:N})=>Array.from(a.getState().connectionLookup.get(`${N}-${y}${v?`-${v}`:""}`)?.values()??[]),getNodeConnections:({type:y,handleId:v,nodeId:N})=>Array.from(a.getState().connectionLookup.get(`${N}${y?v?`-${y}-${v}`:`-${y}`:""}`)?.values()??[]),fitView:async y=>{const v=a.getState().fitViewResolver??t6();return a.setState({fitViewQueued:!0,fitViewOptions:y,fitViewResolver:v}),i.nodeQueue.push(N=>[...N]),v.promise}}},[]);return C.useMemo(()=>({...l,...t,viewportInitialized:s}),[s])}const lx=t=>t.selected,TT=typeof window<"u"?window:void 0;function MT({deleteKeyCode:t,multiSelectionKeyCode:a}){const i=Fe(),{deleteElements:s}=Zh(),l=Js(t,{actInsideInputWithModifier:!1}),u=Js(a,{target:TT});C.useEffect(()=>{if(l){const{edges:f,nodes:m}=i.getState();s({nodes:m.filter(lx),edges:f.filter(lx)}),i.setState({nodesSelectionActive:!1})}},[l]),C.useEffect(()=>{i.setState({multiSelectionActive:u})},[u])}function AT(t){const a=Fe();C.useEffect(()=>{const i=()=>{if(!t.current||!(t.current.checkVisibility?.()??!0))return!1;const s=$h(t.current);(s.height===0||s.width===0)&&a.getState().onError?.("004",Cn.error004()),a.setState({width:s.width||500,height:s.height||500})};if(t.current){i(),window.addEventListener("resize",i);const s=new ResizeObserver(()=>i());return s.observe(t.current),()=>{window.removeEventListener("resize",i),s&&t.current&&s.unobserve(t.current)}}},[])}const Qc={position:"absolute",width:"100%",height:"100%",top:0,left:0},RT=t=>({userSelectionActive:t.userSelectionActive,lib:t.lib,connectionInProgress:t.connection.inProgress});function zT({onPaneContextMenu:t,zoomOnScroll:a=!0,zoomOnPinch:i=!0,panOnScroll:s=!1,panOnScrollSpeed:l=.5,panOnScrollMode:u=bi.Free,zoomOnDoubleClick:f=!0,panOnDrag:m=!0,defaultViewport:g,translateExtent:p,minZoom:x,maxZoom:y,zoomActivationKeyCode:v,preventScrolling:N=!0,children:E,noWheelClassName:A,noPanClassName:S,onViewportChange:j,isControlledViewport:_,paneClickDistance:w,selectionOnDrag:M}){const B=Fe(),L=C.useRef(null),{userSelectionActive:O,lib:X,connectionInProgress:J}=De(RT,Ie),se=Js(v),P=C.useRef();AT(L);const F=C.useCallback(q=>{j?.({x:q[0],y:q[1],zoom:q[2]}),_||B.setState({transform:q})},[j,_]);return C.useEffect(()=>{if(L.current){P.current=H6({domNode:L.current,minZoom:x,maxZoom:y,translateExtent:p,viewport:g,onDraggingChange:R=>B.setState({paneDragging:R}),onPanZoomStart:(R,D)=>{const{onViewportChangeStart:U,onMoveStart:k}=B.getState();k?.(R,D),U?.(D)},onPanZoom:(R,D)=>{const{onViewportChange:U,onMove:k}=B.getState();k?.(R,D),U?.(D)},onPanZoomEnd:(R,D)=>{const{onViewportChangeEnd:U,onMoveEnd:k}=B.getState();k?.(R,D),U?.(D)}});const{x:q,y:H,zoom:Q}=P.current.getViewport();return B.setState({panZoom:P.current,transform:[q,H,Q],domNode:L.current.closest(".react-flow")}),()=>{P.current?.destroy()}}},[]),C.useEffect(()=>{P.current?.update({onPaneContextMenu:t,zoomOnScroll:a,zoomOnPinch:i,panOnScroll:s,panOnScrollSpeed:l,panOnScrollMode:u,zoomOnDoubleClick:f,panOnDrag:m,zoomActivationKeyPressed:se,preventScrolling:N,noPanClassName:S,userSelectionActive:O,noWheelClassName:A,lib:X,onTransformChange:F,connectionInProgress:J,selectionOnDrag:M,paneClickDistance:w})},[t,a,i,s,l,u,f,m,se,N,S,O,A,X,F,J,M,w]),c.jsx("div",{className:"react-flow__renderer",ref:L,style:Qc,children:E})}const DT=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function OT(){const{userSelectionActive:t,userSelectionRect:a}=De(DT,Ie);return t&&a?c.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:a.width,height:a.height,transform:`translate(${a.x}px, ${a.y}px)`}}):null}const Lf=(t,a)=>i=>{i.target===a.current&&t?.(i)},kT=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,connectionInProgress:t.connection.inProgress,dragging:t.paneDragging});function BT({isSelecting:t,selectionKeyPressed:a,selectionMode:i=Fs.Full,panOnDrag:s,paneClickDistance:l,selectionOnDrag:u,onSelectionStart:f,onSelectionEnd:m,onPaneClick:g,onPaneContextMenu:p,onPaneScroll:x,onPaneMouseEnter:y,onPaneMouseMove:v,onPaneMouseLeave:N,children:E}){const A=Fe(),{userSelectionActive:S,elementsSelectable:j,dragging:_,connectionInProgress:w}=De(kT,Ie),M=j&&(t||S),B=C.useRef(null),L=C.useRef(),O=C.useRef(new Set),X=C.useRef(new Set),J=C.useRef(!1),se=U=>{if(J.current||w){J.current=!1;return}g?.(U),A.getState().resetSelectedElements(),A.setState({nodesSelectionActive:!1})},P=U=>{if(Array.isArray(s)&&s?.includes(2)){U.preventDefault();return}p?.(U)},F=x?U=>x(U):void 0,q=U=>{J.current&&(U.stopPropagation(),J.current=!1)},H=U=>{const{domNode:k}=A.getState();if(L.current=k?.getBoundingClientRect(),!L.current)return;const Z=U.target===B.current;if(!Z&&!!U.target.closest(".nokey")||!t||!(u&&Z||a)||U.button!==0||!U.isPrimary)return;U.target?.setPointerCapture?.(U.pointerId),J.current=!1;const{x:I,y:te}=hn(U.nativeEvent,L.current);A.setState({userSelectionRect:{width:0,height:0,startX:I,startY:te,x:I,y:te}}),Z||(U.stopPropagation(),U.preventDefault())},Q=U=>{const{userSelectionRect:k,transform:Z,nodeLookup:z,edgeLookup:V,connectionLookup:I,triggerNodeChanges:te,triggerEdgeChanges:le,defaultEdgeOptions:ue,resetSelectedElements:ce}=A.getState();if(!L.current||!k)return;const{x:oe,y:de}=hn(U.nativeEvent,L.current),{startX:be,startY:ve}=k;if(!J.current){const je=a?0:l;if(Math.hypot(oe-be,de-ve)<=je)return;ce(),f?.(U)}J.current=!0;const me={startX:be,startY:ve,x:oe<be?oe:be,y:de<ve?de:ve,width:Math.abs(oe-be),height:Math.abs(de-ve)},pe=O.current,Ne=X.current;O.current=new Set(Lh(z,me,Z,i===Fs.Partial,!0).map(je=>je.id)),X.current=new Set;const ze=ue?.selectable??!0;for(const je of O.current){const Je=I.get(je);if(Je)for(const{edgeId:Et}of Je.values()){const xt=V.get(Et);xt&&(xt.selectable??ze)&&X.current.add(Et)}}if(!Dy(pe,O.current)){const je=xr(z,O.current,!0);te(je)}if(!Dy(Ne,X.current)){const je=xr(V,X.current);le(je)}A.setState({userSelectionRect:me,userSelectionActive:!0,nodesSelectionActive:!1})},R=U=>{U.button===0&&(U.target?.releasePointerCapture?.(U.pointerId),!S&&U.target===B.current&&A.getState().userSelectionRect&&se?.(U),A.setState({userSelectionActive:!1,userSelectionRect:null}),J.current&&(m?.(U),A.setState({nodesSelectionActive:O.current.size>0})))},D=s===!0||Array.isArray(s)&&s.includes(0);return c.jsxs("div",{className:lt(["react-flow__pane",{draggable:D,dragging:_,selection:t}]),onClick:M?void 0:Lf(se,B),onContextMenu:Lf(P,B),onWheel:Lf(F,B),onPointerEnter:M?void 0:y,onPointerMove:M?Q:v,onPointerUp:M?R:void 0,onPointerDownCapture:M?H:void 0,onClickCapture:M?q:void 0,onPointerLeave:N,ref:B,style:Qc,children:[E,c.jsx(OT,{})]})}function hh({id:t,store:a,unselect:i=!1,nodeRef:s}){const{addSelectedNodes:l,unselectNodesAndEdges:u,multiSelectionActive:f,nodeLookup:m,onError:g}=a.getState(),p=m.get(t);if(!p){g?.("012",Cn.error012(t));return}a.setState({nodesSelectionActive:!1}),p.selected?(i||p.selected&&f)&&(u({nodes:[p],edges:[]}),requestAnimationFrame(()=>s?.current?.blur())):l([t])}function k1({nodeRef:t,disabled:a=!1,noDragClassName:i,handleSelector:s,nodeId:l,isSelectable:u,nodeClickDistance:f}){const m=Fe(),[g,p]=C.useState(!1),x=C.useRef();return C.useEffect(()=>{x.current=N6({getStoreItems:()=>m.getState(),onNodeMouseDown:y=>{hh({id:y,store:m,nodeRef:t})},onDragStart:()=>{p(!0)},onDragStop:()=>{p(!1)}})},[]),C.useEffect(()=>{if(a)x.current?.destroy();else if(t.current)return x.current?.update({noDragClassName:i,handleSelector:s,domNode:t.current,isSelectable:u,nodeId:l,nodeClickDistance:f}),()=>{x.current?.destroy()}},[i,s,a,u,t,l]),g}const HT=t=>a=>a.selected&&(a.draggable||t&&typeof a.draggable>"u");function B1(){const t=Fe();return C.useCallback(i=>{const{nodeExtent:s,snapToGrid:l,snapGrid:u,nodesDraggable:f,onError:m,updateNodePositions:g,nodeLookup:p,nodeOrigin:x}=t.getState(),y=new Map,v=HT(f),N=l?u[0]:5,E=l?u[1]:5,A=i.direction.x*N*i.factor,S=i.direction.y*E*i.factor;for(const[,j]of p){if(!v(j))continue;let _={x:j.internals.positionAbsolute.x+A,y:j.internals.positionAbsolute.y+S};l&&(_=co(_,u));const{position:w,positionAbsolute:M}=e1({nodeId:j.id,nextPosition:_,nodeLookup:p,nodeExtent:s,nodeOrigin:x,onError:m});j.position=w,j.internals.positionAbsolute=M,y.set(j.id,j)}g(y)},[])}const Qh=C.createContext(null),LT=Qh.Provider;Qh.Consumer;const H1=()=>C.useContext(Qh),UT=t=>({connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName,rfId:t.rfId}),$T=(t,a,i)=>s=>{const{connectionClickStartHandle:l,connectionMode:u,connection:f}=s,{fromHandle:m,toHandle:g,isValid:p}=f,x=g?.nodeId===t&&g?.id===a&&g?.type===i;return{connectingFrom:m?.nodeId===t&&m?.id===a&&m?.type===i,connectingTo:x,clickConnecting:l?.nodeId===t&&l?.id===a&&l?.type===i,isPossibleEndHandle:u===_r.Strict?m?.type!==i:t!==m?.nodeId||a!==m?.id,connectionInProcess:!!m,clickConnectionInProcess:!!l,valid:x&&p}};function qT({type:t="source",position:a=ge.Top,isValidConnection:i,isConnectable:s=!0,isConnectableStart:l=!0,isConnectableEnd:u=!0,id:f,onConnect:m,children:g,className:p,onMouseDown:x,onTouchStart:y,...v},N){const E=f||null,A=t==="target",S=Fe(),j=H1(),{connectOnClick:_,noPanClassName:w,rfId:M}=De(UT,Ie),{connectingFrom:B,connectingTo:L,clickConnecting:O,isPossibleEndHandle:X,connectionInProcess:J,clickConnectionInProcess:se,valid:P}=De($T(j,E,t),Ie);j||S.getState().onError?.("010",Cn.error010());const F=Q=>{const{defaultEdgeOptions:R,onConnect:D,hasDefaultEdges:U}=S.getState(),k={...R,...Q};if(U){const{edges:Z,setEdges:z}=S.getState();z(f1(k,Z))}D?.(k),m?.(k)},q=Q=>{if(!j)return;const R=l1(Q.nativeEvent);if(l&&(R&&Q.button===0||!R)){const D=S.getState();fh.onPointerDown(Q.nativeEvent,{handleDomNode:Q.currentTarget,autoPanOnConnect:D.autoPanOnConnect,connectionMode:D.connectionMode,connectionRadius:D.connectionRadius,domNode:D.domNode,nodeLookup:D.nodeLookup,lib:D.lib,isTarget:A,handleId:E,nodeId:j,flowId:D.rfId,panBy:D.panBy,cancelConnection:D.cancelConnection,onConnectStart:D.onConnectStart,onConnectEnd:D.onConnectEnd,updateConnection:D.updateConnection,onConnect:F,isValidConnection:i||D.isValidConnection,getTransform:()=>S.getState().transform,getFromHandle:()=>S.getState().connection.fromHandle,autoPanSpeed:D.autoPanSpeed,dragThreshold:D.connectionDragThreshold})}R?x?.(Q):y?.(Q)},H=Q=>{const{onClickConnectStart:R,onClickConnectEnd:D,connectionClickStartHandle:U,connectionMode:k,isValidConnection:Z,lib:z,rfId:V,nodeLookup:I,connection:te}=S.getState();if(!j||!U&&!l)return;if(!U){R?.(Q.nativeEvent,{nodeId:j,handleId:E,handleType:t}),S.setState({connectionClickStartHandle:{nodeId:j,type:t,id:E}});return}const le=s1(Q.target),ue=i||Z,{connection:ce,isValid:oe}=fh.isValid(Q.nativeEvent,{handle:{nodeId:j,id:E,type:t},connectionMode:k,fromNodeId:U.nodeId,fromHandleId:U.id||null,fromType:U.type,isValidConnection:ue,flowId:V,doc:le,lib:z,nodeLookup:I});oe&&ce&&F(ce);const de=structuredClone(te);delete de.inProgress,de.toPosition=de.toHandle?de.toHandle.position:null,D?.(Q,de),S.setState({connectionClickStartHandle:null})};return c.jsx("div",{"data-handleid":E,"data-nodeid":j,"data-handlepos":a,"data-id":`${M}-${j}-${E}-${t}`,className:lt(["react-flow__handle",`react-flow__handle-${a}`,"nodrag",w,p,{source:!A,target:A,connectable:s,connectablestart:l,connectableend:u,clickconnecting:O,connectingfrom:B,connectingto:L,valid:P,connectionindicator:s&&(!J||X)&&(J||se?u:l)}]),onMouseDown:q,onTouchStart:q,onClick:_?H:void 0,ref:N,...v,children:g})}const Rr=C.memo(D1(qT));function VT({data:t,isConnectable:a,sourcePosition:i=ge.Bottom}){return c.jsxs(c.Fragment,{children:[t?.label,c.jsx(Rr,{type:"source",position:i,isConnectable:a})]})}function YT({data:t,isConnectable:a,targetPosition:i=ge.Top,sourcePosition:s=ge.Bottom}){return c.jsxs(c.Fragment,{children:[c.jsx(Rr,{type:"target",position:i,isConnectable:a}),t?.label,c.jsx(Rr,{type:"source",position:s,isConnectable:a})]})}function XT(){return null}function GT({data:t,isConnectable:a,targetPosition:i=ge.Top}){return c.jsxs(c.Fragment,{children:[c.jsx(Rr,{type:"target",position:i,isConnectable:a}),t?.label]})}const Cc={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},cx={input:VT,default:YT,output:GT,group:XT};function ZT(t){return t.internals.handleBounds===void 0?{width:t.width??t.initialWidth??t.style?.width,height:t.height??t.initialHeight??t.style?.height}:{width:t.width??t.style?.width,height:t.height??t.style?.height}}const QT=t=>{const{width:a,height:i,x:s,y:l}=lo(t.nodeLookup,{filter:u=>!!u.selected});return{width:fn(a)?a:null,height:fn(i)?i:null,userSelectionActive:t.userSelectionActive,transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]}) translate(${s}px,${l}px)`}};function PT({onSelectionContextMenu:t,noPanClassName:a,disableKeyboardA11y:i}){const s=Fe(),{width:l,height:u,transformString:f,userSelectionActive:m}=De(QT,Ie),g=B1(),p=C.useRef(null);if(C.useEffect(()=>{i||p.current?.focus({preventScroll:!0})},[i]),k1({nodeRef:p}),m||!l||!u)return null;const x=t?v=>{const N=s.getState().nodes.filter(E=>E.selected);t(v,N)}:void 0,y=v=>{Object.prototype.hasOwnProperty.call(Cc,v.key)&&(v.preventDefault(),g({direction:Cc[v.key],factor:v.shiftKey?4:1}))};return c.jsx("div",{className:lt(["react-flow__nodesselection","react-flow__container",a]),style:{transform:f},children:c.jsx("div",{ref:p,className:"react-flow__nodesselection-rect",onContextMenu:x,tabIndex:i?void 0:-1,onKeyDown:i?void 0:y,style:{width:l,height:u}})})}const ux=typeof window<"u"?window:void 0,IT=t=>({nodesSelectionActive:t.nodesSelectionActive,userSelectionActive:t.userSelectionActive});function L1({children:t,onPaneClick:a,onPaneMouseEnter:i,onPaneMouseMove:s,onPaneMouseLeave:l,onPaneContextMenu:u,onPaneScroll:f,paneClickDistance:m,deleteKeyCode:g,selectionKeyCode:p,selectionOnDrag:x,selectionMode:y,onSelectionStart:v,onSelectionEnd:N,multiSelectionKeyCode:E,panActivationKeyCode:A,zoomActivationKeyCode:S,elementsSelectable:j,zoomOnScroll:_,zoomOnPinch:w,panOnScroll:M,panOnScrollSpeed:B,panOnScrollMode:L,zoomOnDoubleClick:O,panOnDrag:X,defaultViewport:J,translateExtent:se,minZoom:P,maxZoom:F,preventScrolling:q,onSelectionContextMenu:H,noWheelClassName:Q,noPanClassName:R,disableKeyboardA11y:D,onViewportChange:U,isControlledViewport:k}){const{nodesSelectionActive:Z,userSelectionActive:z}=De(IT,Ie),V=Js(p,{target:ux}),I=Js(A,{target:ux}),te=I||X,le=I||M,ue=x&&te!==!0,ce=V||z||ue;return MT({deleteKeyCode:g,multiSelectionKeyCode:E}),c.jsx(zT,{onPaneContextMenu:u,elementsSelectable:j,zoomOnScroll:_,zoomOnPinch:w,panOnScroll:le,panOnScrollSpeed:B,panOnScrollMode:L,zoomOnDoubleClick:O,panOnDrag:!V&&te,defaultViewport:J,translateExtent:se,minZoom:P,maxZoom:F,zoomActivationKeyCode:S,preventScrolling:q,noWheelClassName:Q,noPanClassName:R,onViewportChange:U,isControlledViewport:k,paneClickDistance:m,selectionOnDrag:ue,children:c.jsxs(BT,{onSelectionStart:v,onSelectionEnd:N,onPaneClick:a,onPaneMouseEnter:i,onPaneMouseMove:s,onPaneMouseLeave:l,onPaneContextMenu:u,onPaneScroll:f,panOnDrag:te,isSelecting:!!ce,selectionMode:y,selectionKeyPressed:V,paneClickDistance:m,selectionOnDrag:ue,children:[t,Z&&c.jsx(PT,{onSelectionContextMenu:H,noPanClassName:R,disableKeyboardA11y:D})]})})}L1.displayName="FlowRenderer";const FT=C.memo(L1),WT=t=>a=>t?Lh(a.nodeLookup,{x:0,y:0,width:a.width,height:a.height},a.transform,!0).map(i=>i.id):Array.from(a.nodeLookup.keys());function KT(t){return De(C.useCallback(WT(t),[t]),Ie)}const JT=t=>t.updateNodeInternals;function e8(){const t=De(JT),[a]=C.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(i=>{const s=new Map;i.forEach(l=>{const u=l.target.getAttribute("data-id");s.set(u,{id:u,nodeElement:l.target,force:!0})}),t(s)}));return C.useEffect(()=>()=>{a?.disconnect()},[a]),a}function t8({node:t,nodeType:a,hasDimensions:i,resizeObserver:s}){const l=Fe(),u=C.useRef(null),f=C.useRef(null),m=C.useRef(t.sourcePosition),g=C.useRef(t.targetPosition),p=C.useRef(a),x=i&&!!t.internals.handleBounds;return C.useEffect(()=>{u.current&&!t.hidden&&(!x||f.current!==u.current)&&(f.current&&s?.unobserve(f.current),s?.observe(u.current),f.current=u.current)},[x,t.hidden]),C.useEffect(()=>()=>{f.current&&(s?.unobserve(f.current),f.current=null)},[]),C.useEffect(()=>{if(u.current){const y=p.current!==a,v=m.current!==t.sourcePosition,N=g.current!==t.targetPosition;(y||v||N)&&(p.current=a,m.current=t.sourcePosition,g.current=t.targetPosition,l.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:u.current,force:!0}]])))}},[t.id,a,t.sourcePosition,t.targetPosition]),u}function n8({id:t,onClick:a,onMouseEnter:i,onMouseMove:s,onMouseLeave:l,onContextMenu:u,onDoubleClick:f,nodesDraggable:m,elementsSelectable:g,nodesConnectable:p,nodesFocusable:x,resizeObserver:y,noDragClassName:v,noPanClassName:N,disableKeyboardA11y:E,rfId:A,nodeTypes:S,nodeClickDistance:j,onError:_}){const{node:w,internals:M,isParent:B}=De(oe=>{const de=oe.nodeLookup.get(t),be=oe.parentLookup.has(t);return{node:de,internals:de.internals,isParent:be}},Ie);let L=w.type||"default",O=S?.[L]||cx[L];O===void 0&&(_?.("003",Cn.error003(L)),L="default",O=S?.default||cx.default);const X=!!(w.draggable||m&&typeof w.draggable>"u"),J=!!(w.selectable||g&&typeof w.selectable>"u"),se=!!(w.connectable||p&&typeof w.connectable>"u"),P=!!(w.focusable||x&&typeof w.focusable>"u"),F=Fe(),q=i1(w),H=t8({node:w,nodeType:L,hasDimensions:q,resizeObserver:y}),Q=k1({nodeRef:H,disabled:w.hidden||!X,noDragClassName:v,handleSelector:w.dragHandle,nodeId:t,isSelectable:J,nodeClickDistance:j}),R=B1();if(w.hidden)return null;const D=sa(w),U=ZT(w),k=J||X||a||i||s||l,Z=i?oe=>i(oe,{...M.userNode}):void 0,z=s?oe=>s(oe,{...M.userNode}):void 0,V=l?oe=>l(oe,{...M.userNode}):void 0,I=u?oe=>u(oe,{...M.userNode}):void 0,te=f?oe=>f(oe,{...M.userNode}):void 0,le=oe=>{const{selectNodesOnDrag:de,nodeDragThreshold:be}=F.getState();J&&(!de||!X||be>0)&&hh({id:t,store:F,nodeRef:H}),a&&a(oe,{...M.userNode})},ue=oe=>{if(!(o1(oe.nativeEvent)||E)){if(Iv.includes(oe.key)&&J){const de=oe.key==="Escape";hh({id:t,store:F,unselect:de,nodeRef:H})}else if(X&&w.selected&&Object.prototype.hasOwnProperty.call(Cc,oe.key)){oe.preventDefault();const{ariaLabelConfig:de}=F.getState();F.setState({ariaLiveMessage:de["node.a11yDescription.ariaLiveMessage"]({direction:oe.key.replace("Arrow","").toLowerCase(),x:~~M.positionAbsolute.x,y:~~M.positionAbsolute.y})}),R({direction:Cc[oe.key],factor:oe.shiftKey?4:1})}}},ce=()=>{if(E||!H.current?.matches(":focus-visible"))return;const{transform:oe,width:de,height:be,autoPanOnNodeFocus:ve,setCenter:me}=F.getState();if(!ve)return;Lh(new Map([[t,w]]),{x:0,y:0,width:de,height:be},oe,!0).length>0||me(w.position.x+D.width/2,w.position.y+D.height/2,{zoom:oe[2]})};return c.jsx("div",{className:lt(["react-flow__node",`react-flow__node-${L}`,{[N]:X},w.className,{selected:w.selected,selectable:J,parent:B,draggable:X,dragging:Q}]),ref:H,style:{zIndex:M.z,transform:`translate(${M.positionAbsolute.x}px,${M.positionAbsolute.y}px)`,pointerEvents:k?"all":"none",visibility:q?"visible":"hidden",...w.style,...U},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:Z,onMouseMove:z,onMouseLeave:V,onContextMenu:I,onClick:le,onDoubleClick:te,onKeyDown:P?ue:void 0,tabIndex:P?0:void 0,onFocus:P?ce:void 0,role:w.ariaRole??(P?"group":void 0),"aria-roledescription":"node","aria-describedby":E?void 0:`${C1}-${A}`,"aria-label":w.ariaLabel,...w.domAttributes,children:c.jsx(LT,{value:t,children:c.jsx(O,{id:t,data:w.data,type:L,positionAbsoluteX:M.positionAbsolute.x,positionAbsoluteY:M.positionAbsolute.y,selected:w.selected??!1,selectable:J,draggable:X,deletable:w.deletable??!0,isConnectable:se,sourcePosition:w.sourcePosition,targetPosition:w.targetPosition,dragging:Q,dragHandle:w.dragHandle,zIndex:M.z,parentId:w.parentId,...D})})})}var a8=C.memo(n8);const i8=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,onError:t.onError});function U1(t){const{nodesDraggable:a,nodesConnectable:i,nodesFocusable:s,elementsSelectable:l,onError:u}=De(i8,Ie),f=KT(t.onlyRenderVisibleElements),m=e8();return c.jsx("div",{className:"react-flow__nodes",style:Qc,children:f.map(g=>c.jsx(a8,{id:g,nodeTypes:t.nodeTypes,nodeExtent:t.nodeExtent,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,resizeObserver:m,nodesDraggable:a,nodesConnectable:i,nodesFocusable:s,elementsSelectable:l,nodeClickDistance:t.nodeClickDistance,onError:u},g))})}U1.displayName="NodeRenderer";const r8=C.memo(U1);function s8(t){return De(C.useCallback(i=>{if(!t)return i.edges.map(l=>l.id);const s=[];if(i.width&&i.height)for(const l of i.edges){const u=i.nodeLookup.get(l.source),f=i.nodeLookup.get(l.target);u&&f&&r6({sourceNode:u,targetNode:f,width:i.width,height:i.height,transform:i.transform})&&s.push(l.id)}return s},[t]),Ie)}const o8=({color:t="none",strokeWidth:a=1})=>{const i={strokeWidth:a,...t&&{stroke:t}};return c.jsx("polyline",{className:"arrow",style:i,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},l8=({color:t="none",strokeWidth:a=1})=>{const i={strokeWidth:a,...t&&{stroke:t,fill:t}};return c.jsx("polyline",{className:"arrowclosed",style:i,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},dx={[Ec.Arrow]:o8,[Ec.ArrowClosed]:l8};function c8(t){const a=Fe();return C.useMemo(()=>Object.prototype.hasOwnProperty.call(dx,t)?dx[t]:(a.getState().onError?.("009",Cn.error009(t)),null),[t])}const u8=({id:t,type:a,color:i,width:s=12.5,height:l=12.5,markerUnits:u="strokeWidth",strokeWidth:f,orient:m="auto-start-reverse"})=>{const g=c8(a);return g?c.jsx("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${s}`,markerHeight:`${l}`,viewBox:"-10 -10 20 20",markerUnits:u,orient:m,refX:"0",refY:"0",children:c.jsx(g,{color:i,strokeWidth:f})}):null},$1=({defaultColor:t,rfId:a})=>{const i=De(u=>u.edges),s=De(u=>u.defaultEdgeOptions),l=C.useMemo(()=>f6(i,{id:a,defaultColor:t,defaultMarkerStart:s?.markerStart,defaultMarkerEnd:s?.markerEnd}),[i,s,a,t]);return l.length?c.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:c.jsx("defs",{children:l.map(u=>c.jsx(u8,{id:u.id,type:u.type,color:u.color,width:u.width,height:u.height,markerUnits:u.markerUnits,strokeWidth:u.strokeWidth,orient:u.orient},u.id))})}):null};$1.displayName="MarkerDefinitions";var d8=C.memo($1);function q1({x:t,y:a,label:i,labelStyle:s,labelShowBg:l=!0,labelBgStyle:u,labelBgPadding:f=[2,4],labelBgBorderRadius:m=2,children:g,className:p,...x}){const[y,v]=C.useState({x:1,y:0,width:0,height:0}),N=lt(["react-flow__edge-textwrapper",p]),E=C.useRef(null);return C.useEffect(()=>{if(E.current){const A=E.current.getBBox();v({x:A.x,y:A.y,width:A.width,height:A.height})}},[i]),i?c.jsxs("g",{transform:`translate(${t-y.width/2} ${a-y.height/2})`,className:N,visibility:y.width?"visible":"hidden",...x,children:[l&&c.jsx("rect",{width:y.width+2*f[0],x:-f[0],y:-f[1],height:y.height+2*f[1],className:"react-flow__edge-textbg",style:u,rx:m,ry:m}),c.jsx("text",{className:"react-flow__edge-text",y:y.height/2,dy:"0.3em",ref:E,style:s,children:i}),g]}):null}q1.displayName="EdgeText";const f8=C.memo(q1);function Pc({path:t,labelX:a,labelY:i,label:s,labelStyle:l,labelShowBg:u,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:g,interactionWidth:p=20,...x}){return c.jsxs(c.Fragment,{children:[c.jsx("path",{...x,d:t,fill:"none",className:lt(["react-flow__edge-path",x.className])}),p?c.jsx("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:p,className:"react-flow__edge-interaction"}):null,s&&fn(a)&&fn(i)?c.jsx(f8,{x:a,y:i,label:s,labelStyle:l,labelShowBg:u,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:g}):null]})}function fx({pos:t,x1:a,y1:i,x2:s,y2:l}){return t===ge.Left||t===ge.Right?[.5*(a+s),i]:[a,.5*(i+l)]}function V1({sourceX:t,sourceY:a,sourcePosition:i=ge.Bottom,targetX:s,targetY:l,targetPosition:u=ge.Top}){const[f,m]=fx({pos:i,x1:t,y1:a,x2:s,y2:l}),[g,p]=fx({pos:u,x1:s,y1:l,x2:t,y2:a}),[x,y,v,N]=c1({sourceX:t,sourceY:a,targetX:s,targetY:l,sourceControlX:f,sourceControlY:m,targetControlX:g,targetControlY:p});return[`M${t},${a} C${f},${m} ${g},${p} ${s},${l}`,x,y,v,N]}function Y1(t){return C.memo(({id:a,sourceX:i,sourceY:s,targetX:l,targetY:u,sourcePosition:f,targetPosition:m,label:g,labelStyle:p,labelShowBg:x,labelBgStyle:y,labelBgPadding:v,labelBgBorderRadius:N,style:E,markerEnd:A,markerStart:S,interactionWidth:j})=>{const[_,w,M]=V1({sourceX:i,sourceY:s,sourcePosition:f,targetX:l,targetY:u,targetPosition:m}),B=t.isInternal?void 0:a;return c.jsx(Pc,{id:B,path:_,labelX:w,labelY:M,label:g,labelStyle:p,labelShowBg:x,labelBgStyle:y,labelBgPadding:v,labelBgBorderRadius:N,style:E,markerEnd:A,markerStart:S,interactionWidth:j})})}const h8=Y1({isInternal:!1}),X1=Y1({isInternal:!0});h8.displayName="SimpleBezierEdge";X1.displayName="SimpleBezierEdgeInternal";function G1(t){return C.memo(({id:a,sourceX:i,sourceY:s,targetX:l,targetY:u,label:f,labelStyle:m,labelShowBg:g,labelBgStyle:p,labelBgPadding:x,labelBgBorderRadius:y,style:v,sourcePosition:N=ge.Bottom,targetPosition:E=ge.Top,markerEnd:A,markerStart:S,pathOptions:j,interactionWidth:_})=>{const[w,M,B]=ch({sourceX:i,sourceY:s,sourcePosition:N,targetX:l,targetY:u,targetPosition:E,borderRadius:j?.borderRadius,offset:j?.offset,stepPosition:j?.stepPosition}),L=t.isInternal?void 0:a;return c.jsx(Pc,{id:L,path:w,labelX:M,labelY:B,label:f,labelStyle:m,labelShowBg:g,labelBgStyle:p,labelBgPadding:x,labelBgBorderRadius:y,style:v,markerEnd:A,markerStart:S,interactionWidth:_})})}const Z1=G1({isInternal:!1}),Q1=G1({isInternal:!0});Z1.displayName="SmoothStepEdge";Q1.displayName="SmoothStepEdgeInternal";function P1(t){return C.memo(({id:a,...i})=>{const s=t.isInternal?void 0:a;return c.jsx(Z1,{...i,id:s,pathOptions:C.useMemo(()=>({borderRadius:0,offset:i.pathOptions?.offset}),[i.pathOptions?.offset])})})}const m8=P1({isInternal:!1}),I1=P1({isInternal:!0});m8.displayName="StepEdge";I1.displayName="StepEdgeInternal";function F1(t){return C.memo(({id:a,sourceX:i,sourceY:s,targetX:l,targetY:u,label:f,labelStyle:m,labelShowBg:g,labelBgStyle:p,labelBgPadding:x,labelBgBorderRadius:y,style:v,markerEnd:N,markerStart:E,interactionWidth:A})=>{const[S,j,_]=h1({sourceX:i,sourceY:s,targetX:l,targetY:u}),w=t.isInternal?void 0:a;return c.jsx(Pc,{id:w,path:S,labelX:j,labelY:_,label:f,labelStyle:m,labelShowBg:g,labelBgStyle:p,labelBgPadding:x,labelBgBorderRadius:y,style:v,markerEnd:N,markerStart:E,interactionWidth:A})})}const p8=F1({isInternal:!1}),W1=F1({isInternal:!0});p8.displayName="StraightEdge";W1.displayName="StraightEdgeInternal";function K1(t){return C.memo(({id:a,sourceX:i,sourceY:s,targetX:l,targetY:u,sourcePosition:f=ge.Bottom,targetPosition:m=ge.Top,label:g,labelStyle:p,labelShowBg:x,labelBgStyle:y,labelBgPadding:v,labelBgBorderRadius:N,style:E,markerEnd:A,markerStart:S,pathOptions:j,interactionWidth:_})=>{const[w,M,B]=u1({sourceX:i,sourceY:s,sourcePosition:f,targetX:l,targetY:u,targetPosition:m,curvature:j?.curvature}),L=t.isInternal?void 0:a;return c.jsx(Pc,{id:L,path:w,labelX:M,labelY:B,label:g,labelStyle:p,labelShowBg:x,labelBgStyle:y,labelBgPadding:v,labelBgBorderRadius:N,style:E,markerEnd:A,markerStart:S,interactionWidth:_})})}const g8=K1({isInternal:!1}),J1=K1({isInternal:!0});g8.displayName="BezierEdge";J1.displayName="BezierEdgeInternal";const hx={default:J1,straight:W1,step:I1,smoothstep:Q1,simplebezier:X1},mx={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},y8=(t,a,i)=>i===ge.Left?t-a:i===ge.Right?t+a:t,x8=(t,a,i)=>i===ge.Top?t-a:i===ge.Bottom?t+a:t,px="react-flow__edgeupdater";function gx({position:t,centerX:a,centerY:i,radius:s=10,onMouseDown:l,onMouseEnter:u,onMouseOut:f,type:m}){return c.jsx("circle",{onMouseDown:l,onMouseEnter:u,onMouseOut:f,className:lt([px,`${px}-${m}`]),cx:y8(a,s,t),cy:x8(i,s,t),r:s,stroke:"transparent",fill:"transparent"})}function v8({isReconnectable:t,reconnectRadius:a,edge:i,sourceX:s,sourceY:l,targetX:u,targetY:f,sourcePosition:m,targetPosition:g,onReconnect:p,onReconnectStart:x,onReconnectEnd:y,setReconnecting:v,setUpdateHover:N}){const E=Fe(),A=(M,B)=>{if(M.button!==0)return;const{autoPanOnConnect:L,domNode:O,isValidConnection:X,connectionMode:J,connectionRadius:se,lib:P,onConnectStart:F,onConnectEnd:q,cancelConnection:H,nodeLookup:Q,rfId:R,panBy:D,updateConnection:U}=E.getState(),k=B.type==="target",Z=(I,te)=>{v(!1),y?.(I,i,B.type,te)},z=I=>p?.(i,I),V=(I,te)=>{v(!0),x?.(M,i,B.type),F?.(I,te)};fh.onPointerDown(M.nativeEvent,{autoPanOnConnect:L,connectionMode:J,connectionRadius:se,domNode:O,handleId:B.id,nodeId:B.nodeId,nodeLookup:Q,isTarget:k,edgeUpdaterType:B.type,lib:P,flowId:R,cancelConnection:H,panBy:D,isValidConnection:X,onConnect:z,onConnectStart:V,onConnectEnd:q,onReconnectEnd:Z,updateConnection:U,getTransform:()=>E.getState().transform,getFromHandle:()=>E.getState().connection.fromHandle,dragThreshold:E.getState().connectionDragThreshold,handleDomNode:M.currentTarget})},S=M=>A(M,{nodeId:i.target,id:i.targetHandle??null,type:"target"}),j=M=>A(M,{nodeId:i.source,id:i.sourceHandle??null,type:"source"}),_=()=>N(!0),w=()=>N(!1);return c.jsxs(c.Fragment,{children:[(t===!0||t==="source")&&c.jsx(gx,{position:m,centerX:s,centerY:l,radius:a,onMouseDown:S,onMouseEnter:_,onMouseOut:w,type:"source"}),(t===!0||t==="target")&&c.jsx(gx,{position:g,centerX:u,centerY:f,radius:a,onMouseDown:j,onMouseEnter:_,onMouseOut:w,type:"target"})]})}function b8({id:t,edgesFocusable:a,edgesReconnectable:i,elementsSelectable:s,onClick:l,onDoubleClick:u,onContextMenu:f,onMouseEnter:m,onMouseMove:g,onMouseLeave:p,reconnectRadius:x,onReconnect:y,onReconnectStart:v,onReconnectEnd:N,rfId:E,edgeTypes:A,noPanClassName:S,onError:j,disableKeyboardA11y:_}){let w=De(me=>me.edgeLookup.get(t));const M=De(me=>me.defaultEdgeOptions);w=M?{...M,...w}:w;let B=w.type||"default",L=A?.[B]||hx[B];L===void 0&&(j?.("011",Cn.error011(B)),B="default",L=A?.default||hx.default);const O=!!(w.focusable||a&&typeof w.focusable>"u"),X=typeof y<"u"&&(w.reconnectable||i&&typeof w.reconnectable>"u"),J=!!(w.selectable||s&&typeof w.selectable>"u"),se=C.useRef(null),[P,F]=C.useState(!1),[q,H]=C.useState(!1),Q=Fe(),{zIndex:R,sourceX:D,sourceY:U,targetX:k,targetY:Z,sourcePosition:z,targetPosition:V}=De(C.useCallback(me=>{const pe=me.nodeLookup.get(w.source),Ne=me.nodeLookup.get(w.target);if(!pe||!Ne)return{zIndex:w.zIndex,...mx};const ze=d6({id:t,sourceNode:pe,targetNode:Ne,sourceHandle:w.sourceHandle||null,targetHandle:w.targetHandle||null,connectionMode:me.connectionMode,onError:j});return{zIndex:i6({selected:w.selected,zIndex:w.zIndex,sourceNode:pe,targetNode:Ne,elevateOnSelect:me.elevateEdgesOnSelect,zIndexMode:me.zIndexMode}),...ze||mx}},[w.source,w.target,w.sourceHandle,w.targetHandle,w.selected,w.zIndex]),Ie),I=C.useMemo(()=>w.markerStart?`url('#${uh(w.markerStart,E)}')`:void 0,[w.markerStart,E]),te=C.useMemo(()=>w.markerEnd?`url('#${uh(w.markerEnd,E)}')`:void 0,[w.markerEnd,E]);if(w.hidden||D===null||U===null||k===null||Z===null)return null;const le=me=>{const{addSelectedEdges:pe,unselectNodesAndEdges:Ne,multiSelectionActive:ze}=Q.getState();J&&(Q.setState({nodesSelectionActive:!1}),w.selected&&ze?(Ne({nodes:[],edges:[w]}),se.current?.blur()):pe([t])),l&&l(me,w)},ue=u?me=>{u(me,{...w})}:void 0,ce=f?me=>{f(me,{...w})}:void 0,oe=m?me=>{m(me,{...w})}:void 0,de=g?me=>{g(me,{...w})}:void 0,be=p?me=>{p(me,{...w})}:void 0,ve=me=>{if(!_&&Iv.includes(me.key)&&J){const{unselectNodesAndEdges:pe,addSelectedEdges:Ne}=Q.getState();me.key==="Escape"?(se.current?.blur(),pe({edges:[w]})):Ne([t])}};return c.jsx("svg",{style:{zIndex:R},children:c.jsxs("g",{className:lt(["react-flow__edge",`react-flow__edge-${B}`,w.className,S,{selected:w.selected,animated:w.animated,inactive:!J&&!l,updating:P,selectable:J}]),onClick:le,onDoubleClick:ue,onContextMenu:ce,onMouseEnter:oe,onMouseMove:de,onMouseLeave:be,onKeyDown:O?ve:void 0,tabIndex:O?0:void 0,role:w.ariaRole??(O?"group":"img"),"aria-roledescription":"edge","data-id":t,"data-testid":`rf__edge-${t}`,"aria-label":w.ariaLabel===null?void 0:w.ariaLabel||`Edge from ${w.source} to ${w.target}`,"aria-describedby":O?`${T1}-${E}`:void 0,ref:se,...w.domAttributes,children:[!q&&c.jsx(L,{id:t,source:w.source,target:w.target,type:w.type,selected:w.selected,animated:w.animated,selectable:J,deletable:w.deletable??!0,label:w.label,labelStyle:w.labelStyle,labelShowBg:w.labelShowBg,labelBgStyle:w.labelBgStyle,labelBgPadding:w.labelBgPadding,labelBgBorderRadius:w.labelBgBorderRadius,sourceX:D,sourceY:U,targetX:k,targetY:Z,sourcePosition:z,targetPosition:V,data:w.data,style:w.style,sourceHandleId:w.sourceHandle,targetHandleId:w.targetHandle,markerStart:I,markerEnd:te,pathOptions:"pathOptions"in w?w.pathOptions:void 0,interactionWidth:w.interactionWidth}),X&&c.jsx(v8,{edge:w,isReconnectable:X,reconnectRadius:x,onReconnect:y,onReconnectStart:v,onReconnectEnd:N,sourceX:D,sourceY:U,targetX:k,targetY:Z,sourcePosition:z,targetPosition:V,setUpdateHover:F,setReconnecting:H})]})})}var w8=C.memo(b8);const S8=t=>({edgesFocusable:t.edgesFocusable,edgesReconnectable:t.edgesReconnectable,elementsSelectable:t.elementsSelectable,connectionMode:t.connectionMode,onError:t.onError});function eb({defaultMarkerColor:t,onlyRenderVisibleElements:a,rfId:i,edgeTypes:s,noPanClassName:l,onReconnect:u,onEdgeContextMenu:f,onEdgeMouseEnter:m,onEdgeMouseMove:g,onEdgeMouseLeave:p,onEdgeClick:x,reconnectRadius:y,onEdgeDoubleClick:v,onReconnectStart:N,onReconnectEnd:E,disableKeyboardA11y:A}){const{edgesFocusable:S,edgesReconnectable:j,elementsSelectable:_,onError:w}=De(S8,Ie),M=s8(a);return c.jsxs("div",{className:"react-flow__edges",children:[c.jsx(d8,{defaultColor:t,rfId:i}),M.map(B=>c.jsx(w8,{id:B,edgesFocusable:S,edgesReconnectable:j,elementsSelectable:_,noPanClassName:l,onReconnect:u,onContextMenu:f,onMouseEnter:m,onMouseMove:g,onMouseLeave:p,onClick:x,reconnectRadius:y,onDoubleClick:v,onReconnectStart:N,onReconnectEnd:E,rfId:i,onError:w,edgeTypes:s,disableKeyboardA11y:A},B))]})}eb.displayName="EdgeRenderer";const N8=C.memo(eb),E8=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function j8({children:t}){const a=De(E8);return c.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:a},children:t})}function _8(t){const a=Zh(),i=C.useRef(!1);C.useEffect(()=>{!i.current&&a.viewportInitialized&&t&&(setTimeout(()=>t(a),1),i.current=!0)},[t,a.viewportInitialized])}const C8=t=>t.panZoom?.syncViewport;function T8(t){const a=De(C8),i=Fe();return C.useEffect(()=>{t&&(a?.(t),i.setState({transform:[t.x,t.y,t.zoom]}))},[t,a]),null}function M8(t){return t.connection.inProgress?{...t.connection,to:uo(t.connection.to,t.transform)}:{...t.connection}}function A8(t){return M8}function R8(t){const a=A8();return De(a,Ie)}const z8=t=>({nodesConnectable:t.nodesConnectable,isValid:t.connection.isValid,inProgress:t.connection.inProgress,width:t.width,height:t.height});function D8({containerStyle:t,style:a,type:i,component:s}){const{nodesConnectable:l,width:u,height:f,isValid:m,inProgress:g}=De(z8,Ie);return!(u&&l&&g)?null:c.jsx("svg",{style:t,width:u,height:f,className:"react-flow__connectionline react-flow__container",children:c.jsx("g",{className:lt(["react-flow__connection",Kv(m)]),children:c.jsx(tb,{style:a,type:i,CustomComponent:s,isValid:m})})})}const tb=({style:t,type:a=Ua.Bezier,CustomComponent:i,isValid:s})=>{const{inProgress:l,from:u,fromNode:f,fromHandle:m,fromPosition:g,to:p,toNode:x,toHandle:y,toPosition:v,pointer:N}=R8();if(!l)return;if(i)return c.jsx(i,{connectionLineType:a,connectionLineStyle:t,fromNode:f,fromHandle:m,fromX:u.x,fromY:u.y,toX:p.x,toY:p.y,fromPosition:g,toPosition:v,connectionStatus:Kv(s),toNode:x,toHandle:y,pointer:N});let E="";const A={sourceX:u.x,sourceY:u.y,sourcePosition:g,targetX:p.x,targetY:p.y,targetPosition:v};switch(a){case Ua.Bezier:[E]=u1(A);break;case Ua.SimpleBezier:[E]=V1(A);break;case Ua.Step:[E]=ch({...A,borderRadius:0});break;case Ua.SmoothStep:[E]=ch(A);break;default:[E]=h1(A)}return c.jsx("path",{d:E,fill:"none",className:"react-flow__connection-path",style:t})};tb.displayName="ConnectionLine";const O8={};function yx(t=O8){C.useRef(t),Fe(),C.useEffect(()=>{},[t])}function k8(){Fe(),C.useRef(!1),C.useEffect(()=>{},[])}function nb({nodeTypes:t,edgeTypes:a,onInit:i,onNodeClick:s,onEdgeClick:l,onNodeDoubleClick:u,onEdgeDoubleClick:f,onNodeMouseEnter:m,onNodeMouseMove:g,onNodeMouseLeave:p,onNodeContextMenu:x,onSelectionContextMenu:y,onSelectionStart:v,onSelectionEnd:N,connectionLineType:E,connectionLineStyle:A,connectionLineComponent:S,connectionLineContainerStyle:j,selectionKeyCode:_,selectionOnDrag:w,selectionMode:M,multiSelectionKeyCode:B,panActivationKeyCode:L,zoomActivationKeyCode:O,deleteKeyCode:X,onlyRenderVisibleElements:J,elementsSelectable:se,defaultViewport:P,translateExtent:F,minZoom:q,maxZoom:H,preventScrolling:Q,defaultMarkerColor:R,zoomOnScroll:D,zoomOnPinch:U,panOnScroll:k,panOnScrollSpeed:Z,panOnScrollMode:z,zoomOnDoubleClick:V,panOnDrag:I,onPaneClick:te,onPaneMouseEnter:le,onPaneMouseMove:ue,onPaneMouseLeave:ce,onPaneScroll:oe,onPaneContextMenu:de,paneClickDistance:be,nodeClickDistance:ve,onEdgeContextMenu:me,onEdgeMouseEnter:pe,onEdgeMouseMove:Ne,onEdgeMouseLeave:ze,reconnectRadius:je,onReconnect:Je,onReconnectStart:Et,onReconnectEnd:xt,noDragClassName:an,noWheelClassName:Mn,noPanClassName:Va,disableKeyboardA11y:Ya,nodeExtent:ht,rfId:_i,viewport:An,onViewportChange:oa}){return yx(t),yx(a),k8(),_8(i),T8(An),c.jsx(FT,{onPaneClick:te,onPaneMouseEnter:le,onPaneMouseMove:ue,onPaneMouseLeave:ce,onPaneContextMenu:de,onPaneScroll:oe,paneClickDistance:be,deleteKeyCode:X,selectionKeyCode:_,selectionOnDrag:w,selectionMode:M,onSelectionStart:v,onSelectionEnd:N,multiSelectionKeyCode:B,panActivationKeyCode:L,zoomActivationKeyCode:O,elementsSelectable:se,zoomOnScroll:D,zoomOnPinch:U,zoomOnDoubleClick:V,panOnScroll:k,panOnScrollSpeed:Z,panOnScrollMode:z,panOnDrag:I,defaultViewport:P,translateExtent:F,minZoom:q,maxZoom:H,onSelectionContextMenu:y,preventScrolling:Q,noDragClassName:an,noWheelClassName:Mn,noPanClassName:Va,disableKeyboardA11y:Ya,onViewportChange:oa,isControlledViewport:!!An,children:c.jsxs(j8,{children:[c.jsx(N8,{edgeTypes:a,onEdgeClick:l,onEdgeDoubleClick:f,onReconnect:Je,onReconnectStart:Et,onReconnectEnd:xt,onlyRenderVisibleElements:J,onEdgeContextMenu:me,onEdgeMouseEnter:pe,onEdgeMouseMove:Ne,onEdgeMouseLeave:ze,reconnectRadius:je,defaultMarkerColor:R,noPanClassName:Va,disableKeyboardA11y:Ya,rfId:_i}),c.jsx(D8,{style:A,type:E,component:S,containerStyle:j}),c.jsx("div",{className:"react-flow__edgelabel-renderer"}),c.jsx(r8,{nodeTypes:t,onNodeClick:s,onNodeDoubleClick:u,onNodeMouseEnter:m,onNodeMouseMove:g,onNodeMouseLeave:p,onNodeContextMenu:x,nodeClickDistance:ve,onlyRenderVisibleElements:J,noPanClassName:Va,noDragClassName:an,disableKeyboardA11y:Ya,nodeExtent:ht,rfId:_i}),c.jsx("div",{className:"react-flow__viewport-portal"})]})})}nb.displayName="GraphView";const B8=C.memo(nb),xx=({nodes:t,edges:a,defaultNodes:i,defaultEdges:s,width:l,height:u,fitView:f,fitViewOptions:m,minZoom:g=.5,maxZoom:p=2,nodeOrigin:x,nodeExtent:y,zIndexMode:v="basic"}={})=>{const N=new Map,E=new Map,A=new Map,S=new Map,j=s??a??[],_=i??t??[],w=x??[0,0],M=y??Is;g1(A,S,j);const B=dh(_,N,E,{nodeOrigin:w,nodeExtent:M,zIndexMode:v});let L=[0,0,1];if(f&&l&&u){const O=lo(N,{filter:P=>!!((P.width||P.initialWidth)&&(P.height||P.initialHeight))}),{x:X,y:J,zoom:se}=Uh(O,l,u,g,p,m?.padding??.1);L=[X,J,se]}return{rfId:"1",width:l??0,height:u??0,transform:L,nodes:_,nodesInitialized:B,nodeLookup:N,parentLookup:E,edges:j,edgeLookup:S,connectionLookup:A,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:i!==void 0,hasDefaultEdges:s!==void 0,panZoom:null,minZoom:g,maxZoom:p,translateExtent:Is,nodeExtent:M,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:_r.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:w,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:f??!1,fitViewOptions:m,fitViewResolver:null,connection:{...Wv},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:KC,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:Fv,zIndexMode:v,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},H8=({nodes:t,edges:a,defaultNodes:i,defaultEdges:s,width:l,height:u,fitView:f,fitViewOptions:m,minZoom:g,maxZoom:p,nodeOrigin:x,nodeExtent:y,zIndexMode:v})=>tT((N,E)=>{async function A(){const{nodeLookup:S,panZoom:j,fitViewOptions:_,fitViewResolver:w,width:M,height:B,minZoom:L,maxZoom:O}=E();j&&(await FC({nodes:S,width:M,height:B,panZoom:j,minZoom:L,maxZoom:O},_),w?.resolve(!0),N({fitViewResolver:null}))}return{...xx({nodes:t,edges:a,width:l,height:u,fitView:f,fitViewOptions:m,minZoom:g,maxZoom:p,nodeOrigin:x,nodeExtent:y,defaultNodes:i,defaultEdges:s,zIndexMode:v}),setNodes:S=>{const{nodeLookup:j,parentLookup:_,nodeOrigin:w,elevateNodesOnSelect:M,fitViewQueued:B,zIndexMode:L}=E(),O=dh(S,j,_,{nodeOrigin:w,nodeExtent:y,elevateNodesOnSelect:M,checkEquality:!0,zIndexMode:L});B&&O?(A(),N({nodes:S,nodesInitialized:O,fitViewQueued:!1,fitViewOptions:void 0})):N({nodes:S,nodesInitialized:O})},setEdges:S=>{const{connectionLookup:j,edgeLookup:_}=E();g1(j,_,S),N({edges:S})},setDefaultNodesAndEdges:(S,j)=>{if(S){const{setNodes:_}=E();_(S),N({hasDefaultNodes:!0})}if(j){const{setEdges:_}=E();_(j),N({hasDefaultEdges:!0})}},updateNodeInternals:S=>{const{triggerNodeChanges:j,nodeLookup:_,parentLookup:w,domNode:M,nodeOrigin:B,nodeExtent:L,debug:O,fitViewQueued:X,zIndexMode:J}=E(),{changes:se,updatedInternals:P}=v6(S,_,w,M,B,L,J);P&&(p6(_,w,{nodeOrigin:B,nodeExtent:L,zIndexMode:J}),X?(A(),N({fitViewQueued:!1,fitViewOptions:void 0})):N({}),se?.length>0&&(O&&console.log("React Flow: trigger node changes",se),j?.(se)))},updateNodePositions:(S,j=!1)=>{const _=[];let w=[];const{nodeLookup:M,triggerNodeChanges:B,connection:L,updateConnection:O,onNodesChangeMiddlewareMap:X}=E();for(const[J,se]of S){const P=M.get(J),F=!!(P?.expandParent&&P?.parentId&&se?.position),q={id:J,type:"position",position:F?{x:Math.max(0,se.position.x),y:Math.max(0,se.position.y)}:se.position,dragging:j};if(P&&L.inProgress&&L.fromNode.id===P.id){const H=Ei(P,L.fromHandle,ge.Left,!0);O({...L,from:H})}F&&P.parentId&&_.push({id:J,parentId:P.parentId,rect:{...se.internals.positionAbsolute,width:se.measured.width??0,height:se.measured.height??0}}),w.push(q)}if(_.length>0){const{parentLookup:J,nodeOrigin:se}=E(),P=Gh(_,M,J,se);w.push(...P)}for(const J of X.values())w=J(w);B(w)},triggerNodeChanges:S=>{const{onNodesChange:j,setNodes:_,nodes:w,hasDefaultNodes:M,debug:B}=E();if(S?.length){if(M){const L=R1(S,w);_(L)}B&&console.log("React Flow: trigger node changes",S),j?.(S)}},triggerEdgeChanges:S=>{const{onEdgesChange:j,setEdges:_,edges:w,hasDefaultEdges:M,debug:B}=E();if(S?.length){if(M){const L=z1(S,w);_(L)}B&&console.log("React Flow: trigger edge changes",S),j?.(S)}},addSelectedNodes:S=>{const{multiSelectionActive:j,edgeLookup:_,nodeLookup:w,triggerNodeChanges:M,triggerEdgeChanges:B}=E();if(j){const L=S.map(O=>pi(O,!0));M(L);return}M(xr(w,new Set([...S]),!0)),B(xr(_))},addSelectedEdges:S=>{const{multiSelectionActive:j,edgeLookup:_,nodeLookup:w,triggerNodeChanges:M,triggerEdgeChanges:B}=E();if(j){const L=S.map(O=>pi(O,!0));B(L);return}B(xr(_,new Set([...S]))),M(xr(w,new Set,!0))},unselectNodesAndEdges:({nodes:S,edges:j}={})=>{const{edges:_,nodes:w,nodeLookup:M,triggerNodeChanges:B,triggerEdgeChanges:L}=E(),O=S||w,X=j||_,J=O.map(P=>{const F=M.get(P.id);return F&&(F.selected=!1),pi(P.id,!1)}),se=X.map(P=>pi(P.id,!1));B(J),L(se)},setMinZoom:S=>{const{panZoom:j,maxZoom:_}=E();j?.setScaleExtent([S,_]),N({minZoom:S})},setMaxZoom:S=>{const{panZoom:j,minZoom:_}=E();j?.setScaleExtent([_,S]),N({maxZoom:S})},setTranslateExtent:S=>{E().panZoom?.setTranslateExtent(S),N({translateExtent:S})},resetSelectedElements:()=>{const{edges:S,nodes:j,triggerNodeChanges:_,triggerEdgeChanges:w,elementsSelectable:M}=E();if(!M)return;const B=j.reduce((O,X)=>X.selected?[...O,pi(X.id,!1)]:O,[]),L=S.reduce((O,X)=>X.selected?[...O,pi(X.id,!1)]:O,[]);_(B),w(L)},setNodeExtent:S=>{const{nodes:j,nodeLookup:_,parentLookup:w,nodeOrigin:M,elevateNodesOnSelect:B,nodeExtent:L,zIndexMode:O}=E();S[0][0]===L[0][0]&&S[0][1]===L[0][1]&&S[1][0]===L[1][0]&&S[1][1]===L[1][1]||(dh(j,_,w,{nodeOrigin:M,nodeExtent:S,elevateNodesOnSelect:B,checkEquality:!1,zIndexMode:O}),N({nodeExtent:S}))},panBy:S=>{const{transform:j,width:_,height:w,panZoom:M,translateExtent:B}=E();return b6({delta:S,panZoom:M,transform:j,translateExtent:B,width:_,height:w})},setCenter:async(S,j,_)=>{const{width:w,height:M,maxZoom:B,panZoom:L}=E();if(!L)return Promise.resolve(!1);const O=typeof _?.zoom<"u"?_.zoom:B;return await L.setViewport({x:w/2-S*O,y:M/2-j*O,zoom:O},{duration:_?.duration,ease:_?.ease,interpolate:_?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{N({connection:{...Wv}})},updateConnection:S=>{N({connection:S})},reset:()=>N({...xx()})}},Object.is);function L8({initialNodes:t,initialEdges:a,defaultNodes:i,defaultEdges:s,initialWidth:l,initialHeight:u,initialMinZoom:f,initialMaxZoom:m,initialFitViewOptions:g,fitView:p,nodeOrigin:x,nodeExtent:y,zIndexMode:v,children:N}){const[E]=C.useState(()=>H8({nodes:t,edges:a,defaultNodes:i,defaultEdges:s,width:l,height:u,fitView:p,minZoom:f,maxZoom:m,fitViewOptions:g,nodeOrigin:x,nodeExtent:y,zIndexMode:v}));return c.jsx(nT,{value:E,children:c.jsx(jT,{children:N})})}function U8({children:t,nodes:a,edges:i,defaultNodes:s,defaultEdges:l,width:u,height:f,fitView:m,fitViewOptions:g,minZoom:p,maxZoom:x,nodeOrigin:y,nodeExtent:v,zIndexMode:N}){return C.useContext(Gc)?c.jsx(c.Fragment,{children:t}):c.jsx(L8,{initialNodes:a,initialEdges:i,defaultNodes:s,defaultEdges:l,initialWidth:u,initialHeight:f,fitView:m,initialFitViewOptions:g,initialMinZoom:p,initialMaxZoom:x,nodeOrigin:y,nodeExtent:v,zIndexMode:N,children:t})}const $8={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function q8({nodes:t,edges:a,defaultNodes:i,defaultEdges:s,className:l,nodeTypes:u,edgeTypes:f,onNodeClick:m,onEdgeClick:g,onInit:p,onMove:x,onMoveStart:y,onMoveEnd:v,onConnect:N,onConnectStart:E,onConnectEnd:A,onClickConnectStart:S,onClickConnectEnd:j,onNodeMouseEnter:_,onNodeMouseMove:w,onNodeMouseLeave:M,onNodeContextMenu:B,onNodeDoubleClick:L,onNodeDragStart:O,onNodeDrag:X,onNodeDragStop:J,onNodesDelete:se,onEdgesDelete:P,onDelete:F,onSelectionChange:q,onSelectionDragStart:H,onSelectionDrag:Q,onSelectionDragStop:R,onSelectionContextMenu:D,onSelectionStart:U,onSelectionEnd:k,onBeforeDelete:Z,connectionMode:z,connectionLineType:V=Ua.Bezier,connectionLineStyle:I,connectionLineComponent:te,connectionLineContainerStyle:le,deleteKeyCode:ue="Backspace",selectionKeyCode:ce="Shift",selectionOnDrag:oe=!1,selectionMode:de=Fs.Full,panActivationKeyCode:be="Space",multiSelectionKeyCode:ve=Ks()?"Meta":"Control",zoomActivationKeyCode:me=Ks()?"Meta":"Control",snapToGrid:pe,snapGrid:Ne,onlyRenderVisibleElements:ze=!1,selectNodesOnDrag:je,nodesDraggable:Je,autoPanOnNodeFocus:Et,nodesConnectable:xt,nodesFocusable:an,nodeOrigin:Mn=M1,edgesFocusable:Va,edgesReconnectable:Ya,elementsSelectable:ht=!0,defaultViewport:_i=pT,minZoom:An=.5,maxZoom:oa=2,translateExtent:Xa=Is,preventScrolling:Wc=!0,nodeExtent:Ci,defaultMarkerColor:Kc="#b1b1b7",zoomOnScroll:Jc=!0,zoomOnPinch:Ga=!0,panOnScroll:wt=!1,panOnScrollSpeed:pn=.5,panOnScrollMode:St=bi.Free,zoomOnDoubleClick:eu=!0,panOnDrag:tu=!0,onPaneClick:nu,onPaneMouseEnter:Ti,onPaneMouseMove:Mi,onPaneMouseLeave:Ai,onPaneScroll:Rn,onPaneContextMenu:Ri,paneClickDistance:Za=1,nodeClickDistance:au=0,children:mo,onReconnect:Lr,onReconnectStart:Qa,onReconnectEnd:iu,onEdgeContextMenu:po,onEdgeDoubleClick:go,onEdgeMouseEnter:yo,onEdgeMouseMove:Ur,onEdgeMouseLeave:$r,reconnectRadius:xo=10,onNodesChange:vo,onEdgesChange:gn,noDragClassName:ct="nodrag",noWheelClassName:vt="nowheel",noPanClassName:zn="nopan",fitView:zi,fitViewOptions:bo,connectOnClick:ru,attributionPosition:wo,proOptions:Pa,defaultEdgeOptions:qr,elevateNodesOnSelect:la=!0,elevateEdgesOnSelect:ca=!1,disableKeyboardA11y:ua=!1,autoPanOnConnect:da,autoPanOnNodeDrag:nt,autoPanSpeed:So,connectionRadius:No,isValidConnection:Dn,onError:fa,style:su,id:Vr,nodeDragThreshold:Eo,connectionDragThreshold:ou,viewport:Di,onViewportChange:Oi,width:rn,height:jt,colorMode:jo="light",debug:lu,onScroll:ki,ariaLabelConfig:_o,zIndexMode:Ia="basic",...cu},_t){const Fa=Vr||"1",Co=vT(jo),Yr=C.useCallback(On=>{On.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),ki?.(On)},[ki]);return c.jsx("div",{"data-testid":"rf__wrapper",...cu,onScroll:Yr,style:{...su,...$8},ref:_t,className:lt(["react-flow",l,Co]),id:Vr,role:"application",children:c.jsxs(U8,{nodes:t,edges:a,width:rn,height:jt,fitView:zi,fitViewOptions:bo,minZoom:An,maxZoom:oa,nodeOrigin:Mn,nodeExtent:Ci,zIndexMode:Ia,children:[c.jsx(B8,{onInit:p,onNodeClick:m,onEdgeClick:g,onNodeMouseEnter:_,onNodeMouseMove:w,onNodeMouseLeave:M,onNodeContextMenu:B,onNodeDoubleClick:L,nodeTypes:u,edgeTypes:f,connectionLineType:V,connectionLineStyle:I,connectionLineComponent:te,connectionLineContainerStyle:le,selectionKeyCode:ce,selectionOnDrag:oe,selectionMode:de,deleteKeyCode:ue,multiSelectionKeyCode:ve,panActivationKeyCode:be,zoomActivationKeyCode:me,onlyRenderVisibleElements:ze,defaultViewport:_i,translateExtent:Xa,minZoom:An,maxZoom:oa,preventScrolling:Wc,zoomOnScroll:Jc,zoomOnPinch:Ga,zoomOnDoubleClick:eu,panOnScroll:wt,panOnScrollSpeed:pn,panOnScrollMode:St,panOnDrag:tu,onPaneClick:nu,onPaneMouseEnter:Ti,onPaneMouseMove:Mi,onPaneMouseLeave:Ai,onPaneScroll:Rn,onPaneContextMenu:Ri,paneClickDistance:Za,nodeClickDistance:au,onSelectionContextMenu:D,onSelectionStart:U,onSelectionEnd:k,onReconnect:Lr,onReconnectStart:Qa,onReconnectEnd:iu,onEdgeContextMenu:po,onEdgeDoubleClick:go,onEdgeMouseEnter:yo,onEdgeMouseMove:Ur,onEdgeMouseLeave:$r,reconnectRadius:xo,defaultMarkerColor:Kc,noDragClassName:ct,noWheelClassName:vt,noPanClassName:zn,rfId:Fa,disableKeyboardA11y:ua,nodeExtent:Ci,viewport:Di,onViewportChange:Oi}),c.jsx(xT,{nodes:t,edges:a,defaultNodes:i,defaultEdges:s,onConnect:N,onConnectStart:E,onConnectEnd:A,onClickConnectStart:S,onClickConnectEnd:j,nodesDraggable:Je,autoPanOnNodeFocus:Et,nodesConnectable:xt,nodesFocusable:an,edgesFocusable:Va,edgesReconnectable:Ya,elementsSelectable:ht,elevateNodesOnSelect:la,elevateEdgesOnSelect:ca,minZoom:An,maxZoom:oa,nodeExtent:Ci,onNodesChange:vo,onEdgesChange:gn,snapToGrid:pe,snapGrid:Ne,connectionMode:z,translateExtent:Xa,connectOnClick:ru,defaultEdgeOptions:qr,fitView:zi,fitViewOptions:bo,onNodesDelete:se,onEdgesDelete:P,onDelete:F,onNodeDragStart:O,onNodeDrag:X,onNodeDragStop:J,onSelectionDrag:Q,onSelectionDragStart:H,onSelectionDragStop:R,onMove:x,onMoveStart:y,onMoveEnd:v,noPanClassName:zn,nodeOrigin:Mn,rfId:Fa,autoPanOnConnect:da,autoPanOnNodeDrag:nt,autoPanSpeed:So,onError:fa,connectionRadius:No,isValidConnection:Dn,selectNodesOnDrag:je,nodeDragThreshold:Eo,connectionDragThreshold:ou,onBeforeDelete:Z,debug:lu,ariaLabelConfig:_o,zIndexMode:Ia}),c.jsx(mT,{onSelectionChange:q}),mo,c.jsx(cT,{proOptions:Pa,position:wo}),c.jsx(lT,{rfId:Fa,disableKeyboardA11y:ua})]})})}var V8=D1(q8);function Y8({dimensions:t,lineWidth:a,variant:i,className:s}){return c.jsx("path",{strokeWidth:a,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`,className:lt(["react-flow__background-pattern",i,s])})}function X8({radius:t,className:a}){return c.jsx("circle",{cx:t,cy:t,r:t,className:lt(["react-flow__background-pattern","dots",a])})}var qa;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(qa||(qa={}));const G8={[qa.Dots]:1,[qa.Lines]:1,[qa.Cross]:6},Z8=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function ab({id:t,variant:a=qa.Dots,gap:i=20,size:s,lineWidth:l=1,offset:u=0,color:f,bgColor:m,style:g,className:p,patternClassName:x}){const y=C.useRef(null),{transform:v,patternId:N}=De(Z8,Ie),E=s||G8[a],A=a===qa.Dots,S=a===qa.Cross,j=Array.isArray(i)?i:[i,i],_=[j[0]*v[2]||1,j[1]*v[2]||1],w=E*v[2],M=Array.isArray(u)?u:[u,u],B=S?[w,w]:_,L=[M[0]*v[2]||1+B[0]/2,M[1]*v[2]||1+B[1]/2],O=`${N}${t||""}`;return c.jsxs("svg",{className:lt(["react-flow__background",p]),style:{...g,...Qc,"--xy-background-color-props":m,"--xy-background-pattern-color-props":f},ref:y,"data-testid":"rf__background",children:[c.jsx("pattern",{id:O,x:v[0]%_[0],y:v[1]%_[1],width:_[0],height:_[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${L[0]},-${L[1]})`,children:A?c.jsx(X8,{radius:w/2,className:x}):c.jsx(Y8,{dimensions:B,lineWidth:l,variant:a,className:x})}),c.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${O})`})]})}ab.displayName="Background";const Q8=C.memo(ab);function P8(){return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:c.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function I8(){return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:c.jsx("path",{d:"M0 0h32v4.2H0z"})})}function F8(){return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:c.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function W8(){return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:c.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function K8(){return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:c.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Fl({children:t,className:a,...i}){return c.jsx("button",{type:"button",className:lt(["react-flow__controls-button",a]),...i,children:t})}const J8=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom,ariaLabelConfig:t.ariaLabelConfig});function ib({style:t,showZoom:a=!0,showFitView:i=!0,showInteractive:s=!0,fitViewOptions:l,onZoomIn:u,onZoomOut:f,onFitView:m,onInteractiveChange:g,className:p,children:x,position:y="bottom-left",orientation:v="vertical","aria-label":N}){const E=Fe(),{isInteractive:A,minZoomReached:S,maxZoomReached:j,ariaLabelConfig:_}=De(J8,Ie),{zoomIn:w,zoomOut:M,fitView:B}=Zh(),L=()=>{w(),u?.()},O=()=>{M(),f?.()},X=()=>{B(l),m?.()},J=()=>{E.setState({nodesDraggable:!A,nodesConnectable:!A,elementsSelectable:!A}),g?.(!A)},se=v==="horizontal"?"horizontal":"vertical";return c.jsxs(Zc,{className:lt(["react-flow__controls",se,p]),position:y,style:t,"data-testid":"rf__controls","aria-label":N??_["controls.ariaLabel"],children:[a&&c.jsxs(c.Fragment,{children:[c.jsx(Fl,{onClick:L,className:"react-flow__controls-zoomin",title:_["controls.zoomIn.ariaLabel"],"aria-label":_["controls.zoomIn.ariaLabel"],disabled:j,children:c.jsx(P8,{})}),c.jsx(Fl,{onClick:O,className:"react-flow__controls-zoomout",title:_["controls.zoomOut.ariaLabel"],"aria-label":_["controls.zoomOut.ariaLabel"],disabled:S,children:c.jsx(I8,{})})]}),i&&c.jsx(Fl,{className:"react-flow__controls-fitview",onClick:X,title:_["controls.fitView.ariaLabel"],"aria-label":_["controls.fitView.ariaLabel"],children:c.jsx(F8,{})}),s&&c.jsx(Fl,{className:"react-flow__controls-interactive",onClick:J,title:_["controls.interactive.ariaLabel"],"aria-label":_["controls.interactive.ariaLabel"],children:A?c.jsx(K8,{}):c.jsx(W8,{})}),x]})}ib.displayName="Controls";const eM=C.memo(ib);function tM({id:t,x:a,y:i,width:s,height:l,style:u,color:f,strokeColor:m,strokeWidth:g,className:p,borderRadius:x,shapeRendering:y,selected:v,onClick:N}){const{background:E,backgroundColor:A}=u||{},S=f||E||A;return c.jsx("rect",{className:lt(["react-flow__minimap-node",{selected:v},p]),x:a,y:i,rx:x,ry:x,width:s,height:l,style:{fill:S,stroke:m,strokeWidth:g},shapeRendering:y,onClick:N?j=>N(j,t):void 0})}const nM=C.memo(tM),aM=t=>t.nodes.map(a=>a.id),Uf=t=>t instanceof Function?t:()=>t;function iM({nodeStrokeColor:t,nodeColor:a,nodeClassName:i="",nodeBorderRadius:s=5,nodeStrokeWidth:l,nodeComponent:u=nM,onClick:f}){const m=De(aM,Ie),g=Uf(a),p=Uf(t),x=Uf(i),y=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return c.jsx(c.Fragment,{children:m.map(v=>c.jsx(sM,{id:v,nodeColorFunc:g,nodeStrokeColorFunc:p,nodeClassNameFunc:x,nodeBorderRadius:s,nodeStrokeWidth:l,NodeComponent:u,onClick:f,shapeRendering:y},v))})}function rM({id:t,nodeColorFunc:a,nodeStrokeColorFunc:i,nodeClassNameFunc:s,nodeBorderRadius:l,nodeStrokeWidth:u,shapeRendering:f,NodeComponent:m,onClick:g}){const{node:p,x,y,width:v,height:N}=De(E=>{const{internals:A}=E.nodeLookup.get(t),S=A.userNode,{x:j,y:_}=A.positionAbsolute,{width:w,height:M}=sa(S);return{node:S,x:j,y:_,width:w,height:M}},Ie);return!p||p.hidden||!i1(p)?null:c.jsx(m,{x,y,width:v,height:N,style:p.style,selected:!!p.selected,className:s(p),color:a(p),borderRadius:l,strokeColor:i(p),strokeWidth:u,shapeRendering:f,onClick:g,id:p.id})}const sM=C.memo(rM);var oM=C.memo(iM);const lM=200,cM=150,uM=t=>!t.hidden,dM=t=>{const a={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:a,boundingRect:t.nodeLookup.size>0?a1(lo(t.nodeLookup,{filter:uM}),a):a,rfId:t.rfId,panZoom:t.panZoom,translateExtent:t.translateExtent,flowWidth:t.width,flowHeight:t.height,ariaLabelConfig:t.ariaLabelConfig}},fM="react-flow__minimap-desc";function rb({style:t,className:a,nodeStrokeColor:i,nodeColor:s,nodeClassName:l="",nodeBorderRadius:u=5,nodeStrokeWidth:f,nodeComponent:m,bgColor:g,maskColor:p,maskStrokeColor:x,maskStrokeWidth:y,position:v="bottom-right",onClick:N,onNodeClick:E,pannable:A=!1,zoomable:S=!1,ariaLabel:j,inversePan:_,zoomStep:w=1,offsetScale:M=5}){const B=Fe(),L=C.useRef(null),{boundingRect:O,viewBB:X,rfId:J,panZoom:se,translateExtent:P,flowWidth:F,flowHeight:q,ariaLabelConfig:H}=De(dM,Ie),Q=t?.width??lM,R=t?.height??cM,D=O.width/Q,U=O.height/R,k=Math.max(D,U),Z=k*Q,z=k*R,V=M*k,I=O.x-(Z-O.width)/2-V,te=O.y-(z-O.height)/2-V,le=Z+V*2,ue=z+V*2,ce=`${fM}-${J}`,oe=C.useRef(0),de=C.useRef();oe.current=k,C.useEffect(()=>{if(L.current&&se)return de.current=M6({domNode:L.current,panZoom:se,getTransform:()=>B.getState().transform,getViewScale:()=>oe.current}),()=>{de.current?.destroy()}},[se]),C.useEffect(()=>{de.current?.update({translateExtent:P,width:F,height:q,inversePan:_,pannable:A,zoomStep:w,zoomable:S})},[A,S,_,w,P,F,q]);const be=N?pe=>{const[Ne,ze]=de.current?.pointer(pe)||[0,0];N(pe,{x:Ne,y:ze})}:void 0,ve=E?C.useCallback((pe,Ne)=>{const ze=B.getState().nodeLookup.get(Ne).internals.userNode;E(pe,ze)},[]):void 0,me=j??H["minimap.ariaLabel"];return c.jsx(Zc,{position:v,style:{...t,"--xy-minimap-background-color-props":typeof g=="string"?g:void 0,"--xy-minimap-mask-background-color-props":typeof p=="string"?p:void 0,"--xy-minimap-mask-stroke-color-props":typeof x=="string"?x:void 0,"--xy-minimap-mask-stroke-width-props":typeof y=="number"?y*k:void 0,"--xy-minimap-node-background-color-props":typeof s=="string"?s:void 0,"--xy-minimap-node-stroke-color-props":typeof i=="string"?i:void 0,"--xy-minimap-node-stroke-width-props":typeof f=="number"?f:void 0},className:lt(["react-flow__minimap",a]),"data-testid":"rf__minimap",children:c.jsxs("svg",{width:Q,height:R,viewBox:`${I} ${te} ${le} ${ue}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":ce,ref:L,onClick:be,children:[me&&c.jsx("title",{id:ce,children:me}),c.jsx(oM,{onClick:ve,nodeColor:s,nodeStrokeColor:i,nodeBorderRadius:u,nodeClassName:l,nodeStrokeWidth:f,nodeComponent:m}),c.jsx("path",{className:"react-flow__minimap-mask",d:`M${I-V},${te-V}h${le+V*2}v${ue+V*2}h${-le-V*2}z
        M${X.x},${X.y}h${X.width}v${X.height}h${-X.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}rb.displayName="MiniMap";const hM=C.memo(rb),mM=t=>a=>t?`${Math.max(1/a.transform[2],1)}`:void 0,pM={[Ar.Line]:"right",[Ar.Handle]:"bottom-right"};function gM({nodeId:t,position:a,variant:i=Ar.Handle,className:s,style:l=void 0,children:u,color:f,minWidth:m=10,minHeight:g=10,maxWidth:p=Number.MAX_VALUE,maxHeight:x=Number.MAX_VALUE,keepAspectRatio:y=!1,resizeDirection:v,autoScale:N=!0,shouldResize:E,onResizeStart:A,onResize:S,onResizeEnd:j}){const _=H1(),w=typeof t=="string"?t:_,M=Fe(),B=C.useRef(null),L=i===Ar.Handle,O=De(C.useCallback(mM(L&&N),[L,N]),Ie),X=C.useRef(null),J=a??pM[i];C.useEffect(()=>{if(!(!B.current||!w))return X.current||(X.current=Y6({domNode:B.current,nodeId:w,getStoreItems:()=>{const{nodeLookup:P,transform:F,snapGrid:q,snapToGrid:H,nodeOrigin:Q,domNode:R}=M.getState();return{nodeLookup:P,transform:F,snapGrid:q,snapToGrid:H,nodeOrigin:Q,paneDomNode:R}},onChange:(P,F)=>{const{triggerNodeChanges:q,nodeLookup:H,parentLookup:Q,nodeOrigin:R}=M.getState(),D=[],U={x:P.x,y:P.y},k=H.get(w);if(k&&k.expandParent&&k.parentId){const Z=k.origin??R,z=P.width??k.measured.width??0,V=P.height??k.measured.height??0,I={id:k.id,parentId:k.parentId,rect:{width:z,height:V,...r1({x:P.x??k.position.x,y:P.y??k.position.y},{width:z,height:V},k.parentId,H,Z)}},te=Gh([I],H,Q,R);D.push(...te),U.x=P.x?Math.max(Z[0]*z,P.x):void 0,U.y=P.y?Math.max(Z[1]*V,P.y):void 0}if(U.x!==void 0&&U.y!==void 0){const Z={id:w,type:"position",position:{...U}};D.push(Z)}if(P.width!==void 0&&P.height!==void 0){const z={id:w,type:"dimensions",resizing:!0,setAttributes:v?v==="horizontal"?"width":"height":!0,dimensions:{width:P.width,height:P.height}};D.push(z)}for(const Z of F){const z={...Z,type:"position"};D.push(z)}q(D)},onEnd:({width:P,height:F})=>{const q={id:w,type:"dimensions",resizing:!1,dimensions:{width:P,height:F}};M.getState().triggerNodeChanges([q])}})),X.current.update({controlPosition:J,boundaries:{minWidth:m,minHeight:g,maxWidth:p,maxHeight:x},keepAspectRatio:y,resizeDirection:v,onResizeStart:A,onResize:S,onResizeEnd:j,shouldResize:E}),()=>{X.current?.destroy()}},[J,m,g,p,x,y,A,S,j,E]);const se=J.split("-");return c.jsx("div",{className:lt(["react-flow__resize-control","nodrag",...se,i,s]),ref:B,style:{...l,scale:O,...f&&{[L?"backgroundColor":"borderColor"]:f}},children:u})}C.memo(gM);const $f=[{id:"trigger-1",type:"trigger",position:{x:250,y:50},data:{label:"Inicio",config:{type:"classification",conditions:{intent:["sales"]}}}}],yM=[],Hr=qx((t,a)=>({flowId:null,flowName:"Nuevo Flujo",flowSlug:null,isActive:!1,isSaved:!0,nodes:$f,edges:yM,selectedNode:null,selectedEdge:null,isSidebarOpen:!0,isPropertiesOpen:!1,onNodesChange:i=>{t({nodes:R1(i,a().nodes),isSaved:!1})},onEdgesChange:i=>{t({edges:z1(i,a().edges),isSaved:!1})},onConnect:i=>{t({edges:f1({...i,type:"smoothstep",animated:!0,style:{stroke:"#25D366",strokeWidth:2}},a().edges),isSaved:!1})},addNode:(i,s)=>{const l=`${i}-${Date.now()}`,f={id:l,type:i,position:s,data:{trigger:{label:"Trigger",config:{type:"classification",conditions:{}}},message:{label:"Mensaje",content:"Escribe tu mensaje aqu..."},question:{label:"Pregunta",content:"Cul es tu opcin?",variable:"respuesta",options:[]},condition:{label:"Condicin",conditions:[]},action:{label:"Accin",action:"",payload:{}},transfer:{label:"Transferir",content:"Transfiriendo a un agente..."},end:{label:"Fin"}}[i]||{label:i}};return t({nodes:[...a().nodes,f],isSaved:!1}),l},updateNodeData:(i,s)=>{t({nodes:a().nodes.map(l=>l.id===i?{...l,data:{...l.data,...s}}:l),isSaved:!1})},deleteNode:i=>{t({nodes:a().nodes.filter(s=>s.id!==i),edges:a().edges.filter(s=>s.source!==i&&s.target!==i),selectedNode:null,isSaved:!1})},setSelectedNode:i=>t({selectedNode:i,isPropertiesOpen:!!i}),setSelectedEdge:i=>t({selectedEdge:i}),clearSelection:()=>t({selectedNode:null,selectedEdge:null}),toggleSidebar:()=>t({isSidebarOpen:!a().isSidebarOpen}),toggleProperties:()=>t({isPropertiesOpen:!a().isPropertiesOpen}),setFlowMeta:i=>t({flowId:i.id,flowName:i.name,flowSlug:i.slug,isActive:i.is_active}),loadFlow:i=>{const s={trigger:"Inicio",message:"Mensaje",question:"Pregunta",condition:"Condicin",action:"Accin",transfer:"Transferir",end:"Fin"},l=(i.nodes||[]).map(u=>{let f=s[u.type]||u.type;return u.content&&u.content.length>0&&(f=u.content.substring(0,25)+(u.content.length>25?"...":"")),u.action&&(f=`Accin: ${u.action}`),{id:u.id,type:u.type,position:u.position||{x:250,y:50},data:{label:f,content:u.content,variable:u.variable,options:u.options,conditions:u.conditions,action:u.action,payload:u.payload,config:u.config||(u.type==="trigger"?i.trigger_config:void 0)}}});t({flowId:i.id,flowName:i.name,flowSlug:i.slug,isActive:i.is_active,nodes:l.length>0?l:$f,edges:i.connections?.map(u=>({id:`${u.from}-${u.to}`,source:u.from,target:u.to,type:"smoothstep",animated:!0,label:u.label,style:{stroke:"#25D366",strokeWidth:2}}))||[],isSaved:!0})},resetFlow:()=>t({flowId:null,flowName:"Nuevo Flujo",flowSlug:null,isActive:!1,nodes:$f,edges:[],selectedNode:null,isSaved:!0}),markSaved:()=>t({isSaved:!0}),exportFlow:()=>{const i=a();return{name:i.flowName,trigger_config:i.nodes.find(s=>s.type==="trigger")?.data.config||{},nodes:i.nodes.map(s=>({id:s.id,type:s.type,content:s.data.content,variable:s.data.variable,options:s.data.options,conditions:s.data.conditions,action:s.data.action,payload:s.data.payload,position:s.position})),connections:i.edges.map(s=>({from:s.source,to:s.target,label:s.label}))}}}));function xM({onTestClick:t}){const{flowId:a,flowName:i,isActive:s,isSaved:l,exportFlow:u,markSaved:f,loadFlow:m,resetFlow:g,setFlowMeta:p}=Hr(),[x,y]=C.useState(!1),[v,N]=C.useState(!1),[E,A]=C.useState([]),[S,j]=C.useState(i),_=async()=>{y(!0);try{const O=u();if(O.name=S,a)await a4(a,O);else{const X=await n4(O);p({id:X.id,name:S,slug:X.slug,is_active:!1})}f(),alert("Flujo guardado correctamente")}catch(O){alert("Error al guardar: "+O.message)}finally{y(!1)}},w=async()=>{if(!a){alert("Primero guarda el flujo");return}try{await yv(a,!s),p({id:a,name:S,is_active:!s}),alert(s?"Flujo desactivado":"Flujo activado")}catch(O){alert("Error: "+O.message)}},M=async()=>{try{const O=await gv();A(O.flows||[]),N(!0)}catch(O){alert("Error cargando flujos: "+O.message)}},B=async O=>{try{const X=await Jf(O.id);m(X.flow),j(X.flow.name),N(!1)}catch(X){alert("Error cargando flujo: "+X.message)}},L=()=>{!l&&!confirm("Tienes cambios sin guardar. Continuar?")||(g(),j("Nuevo Flujo"))};return c.jsxs("div",{style:{height:"56px",background:"white",borderBottom:"1px solid #e5e7eb",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 16px"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[c.jsx("span",{style:{fontSize:"24px"},children:""}),c.jsx("span",{style:{fontWeight:600,color:"#075E54"},children:"Flow Builder"})]}),c.jsx("div",{style:{borderLeft:"1px solid #e5e7eb",height:"24px"}}),c.jsx("input",{type:"text",value:S,onChange:O=>j(O.target.value),style:{border:"none",fontSize:"15px",fontWeight:500,background:"transparent",width:"200px"},placeholder:"Nombre del flujo"}),!l&&c.jsx("span",{style:{fontSize:"11px",background:"#fef3c7",color:"#92400e",padding:"2px 8px",borderRadius:"4px"},children:"Sin guardar"}),s&&c.jsx("span",{style:{fontSize:"11px",background:"#d1fae5",color:"#065f46",padding:"2px 8px",borderRadius:"4px"},children:"Activo"})]}),c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[c.jsx("button",{onClick:t,style:{padding:"8px 16px",background:"linear-gradient(135deg, #075E54 0%, #128C7E 100%)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:500},children:" Probar"}),c.jsx("div",{style:{borderLeft:"1px solid #e5e7eb",height:"24px",margin:"0 4px"}}),c.jsx("button",{onClick:L,style:{padding:"8px 16px",background:"white",border:"1px solid #d1d5db",borderRadius:"6px",cursor:"pointer",fontSize:"13px"},children:"+ Nuevo"}),c.jsx("button",{onClick:M,style:{padding:"8px 16px",background:"white",border:"1px solid #d1d5db",borderRadius:"6px",cursor:"pointer",fontSize:"13px"},children:" Abrir"}),c.jsx("button",{onClick:_,disabled:x,style:{padding:"8px 16px",background:"#25D366",color:"white",border:"none",borderRadius:"6px",cursor:x?"wait":"pointer",fontSize:"13px",fontWeight:500},children:x?"Guardando...":" Guardar"}),a&&c.jsx("button",{onClick:w,style:{padding:"8px 16px",background:s?"#fee2e2":"#d1fae5",color:s?"#dc2626":"#065f46",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:500},children:s?" Desactivar":" Activar"})]}),v&&c.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:c.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"24px",width:"400px",maxHeight:"500px",overflow:"auto"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"16px"},children:[c.jsx("h3",{style:{margin:0},children:"Seleccionar flujo"}),c.jsx("button",{onClick:()=>N(!1),style:{background:"none",border:"none",cursor:"pointer",fontSize:"18px"},children:""})]}),E.length===0?c.jsx("p",{style:{color:"#6b7280",textAlign:"center"},children:"No hay flujos guardados"}):c.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:E.map(O=>c.jsxs("div",{onClick:()=>B(O),style:{padding:"12px",border:"1px solid #e5e7eb",borderRadius:"8px",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center"},onMouseOver:X=>X.currentTarget.style.background="#f9fafb",onMouseOut:X=>X.currentTarget.style.background="white",children:[c.jsxs("div",{children:[c.jsx("div",{style:{fontWeight:500},children:O.name}),c.jsx("div",{style:{fontSize:"12px",color:"#6b7280"},children:O.slug})]}),O.is_active&&c.jsx("span",{style:{fontSize:"10px",background:"#d1fae5",color:"#065f46",padding:"2px 6px",borderRadius:"4px"},children:"Activo"})]},O.id))})]})})]})}const vM=[{type:"trigger",label:"Trigger",icon:"",color:"#667eea",description:"Inicio del flujo"},{type:"message",label:"Mensaje",icon:"",color:"#25D366",description:"Enviar mensaje"},{type:"question",label:"Pregunta",icon:"",color:"#34B7F1",description:"Preguntar y esperar"},{type:"condition",label:"Condicin",icon:"",color:"#f59e0b",description:"Bifurcacin"},{type:"action",label:"Accin",icon:"",color:"#6366f1",description:"Ejecutar accin"},{type:"ai_response",label:"Respuesta IA",icon:"",color:"#8b5cf6",description:"Generar con IA"},{type:"webhook",label:"Webhook",icon:"",color:"#f97316",description:"Llamar API externa"},{type:"delay",label:"Espera",icon:"",color:"#64748b",description:"Pausar X segundos"},{type:"transfer",label:"Transferir",icon:"",color:"#ec4899",description:"Pasar a humano"},{type:"end",label:"Fin",icon:"",color:"#ef4444",description:"Terminar flujo"}];function bM(){const{isSidebarOpen:t,toggleSidebar:a}=Hr(),i=(s,l)=>{s.dataTransfer.setData("application/reactflow",l),s.dataTransfer.effectAllowed="move"};return t?c.jsxs("div",{style:{width:"240px",background:"white",borderRight:"1px solid #e5e7eb",padding:"16px",display:"flex",flexDirection:"column",height:"100%"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[c.jsx("h3",{style:{margin:0,fontSize:"14px",fontWeight:600},children:"Nodos"}),c.jsx("button",{onClick:a,style:{background:"none",border:"none",cursor:"pointer",fontSize:"18px",color:"#6b7280"},children:""})]}),c.jsx("p",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"16px"},children:"Arrastra los nodos al canvas para construir tu flujo"}),c.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:vM.map(s=>c.jsxs("div",{draggable:!0,onDragStart:l=>i(l,s.type),style:{padding:"10px 12px",borderRadius:"8px",cursor:"grab",display:"flex",alignItems:"center",gap:"10px",background:`${s.color}15`,border:`1px solid ${s.color}30`,transition:"all 0.2s"},onMouseOver:l=>{l.currentTarget.style.transform="translateX(4px)",l.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.1)"},onMouseOut:l=>{l.currentTarget.style.transform="none",l.currentTarget.style.boxShadow="none"},children:[c.jsx("span",{style:{fontSize:"20px"},children:s.icon}),c.jsxs("div",{children:[c.jsx("div",{style:{fontWeight:500,fontSize:"13px"},children:s.label}),c.jsx("div",{style:{fontSize:"11px",color:"#6b7280"},children:s.description})]})]},s.type))})]}):c.jsxs("button",{onClick:a,style:{position:"absolute",left:10,top:10,zIndex:10,background:"white",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px 12px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[c.jsx("span",{children:""})," Nodos"]})}const vx={trigger:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none"},message:{background:"white",border:"2px solid #25D366"},question:{background:"white",border:"2px solid #34B7F1"},condition:{background:"#fef3c7",border:"2px solid #f59e0b"},action:{background:"#e0e7ff",border:"2px solid #6366f1"},transfer:{background:"#fce7f3",border:"2px solid #ec4899"},end:{background:"#fee2e2",border:"2px solid #ef4444"}},wM={trigger:"",message:"",question:"",condition:"",action:"",transfer:"",end:""};function SM({id:t,data:a,type:i,selected:s}){const l=vx[i]||vx.message,u=wM[i]||"",f=i!=="end",m=i!=="trigger";return c.jsxs("div",{style:{...l,padding:"12px 16px",borderRadius:"8px",minWidth:"180px",maxWidth:"250px",boxShadow:s?"0 0 0 2px #3b82f6":"0 2px 8px rgba(0,0,0,0.1)",cursor:"pointer"},children:[m&&c.jsx(Rr,{type:"target",position:ge.Top,style:{background:"#6b7280",width:10,height:10}}),c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[c.jsx("span",{style:{fontSize:"16px"},children:u}),c.jsx("strong",{style:{fontSize:"13px"},children:a.label||i})]}),a.content&&c.jsxs("div",{style:{fontSize:"11px",opacity:.8,marginTop:"4px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[a.content.substring(0,40),a.content.length>40?"...":""]}),a.options&&a.options.length>0&&c.jsxs("div",{style:{fontSize:"10px",marginTop:"6px",opacity:.7},children:[a.options.length," opciones"]}),f&&c.jsx(Rr,{type:"source",position:ge.Bottom,style:{background:"#25D366",width:10,height:10}})]})}const hi=C.memo(SM),NM={trigger:t=>c.jsx(hi,{...t,type:"trigger"}),message:t=>c.jsx(hi,{...t,type:"message"}),question:t=>c.jsx(hi,{...t,type:"question"}),condition:t=>c.jsx(hi,{...t,type:"condition"}),action:t=>c.jsx(hi,{...t,type:"action"}),transfer:t=>c.jsx(hi,{...t,type:"transfer"}),end:t=>c.jsx(hi,{...t,type:"end"})};function EM(){const t=C.useRef(null),{nodes:a,edges:i,onNodesChange:s,onEdgesChange:l,onConnect:u,addNode:f,setSelectedNode:m}=Hr(),g=C.useCallback(v=>{v.preventDefault(),v.dataTransfer.dropEffect="move"},[]),p=C.useCallback(v=>{v.preventDefault();const N=v.dataTransfer.getData("application/reactflow");if(!N)return;const E=t.current.getBoundingClientRect(),A={x:v.clientX-E.left-90,y:v.clientY-E.top-25};f(N,A)},[f]),x=C.useCallback((v,N)=>{m(N)},[m]),y=C.useCallback(()=>{m(null)},[m]);return c.jsx("div",{ref:t,style:{flex:1,height:"100%"},children:c.jsxs(V8,{nodes:a,edges:i,onNodesChange:s,onEdgesChange:l,onConnect:u,onDrop:p,onDragOver:g,onNodeClick:x,onPaneClick:y,nodeTypes:NM,fitView:!0,snapToGrid:!0,snapGrid:[15,15],defaultEdgeOptions:{type:"smoothstep",animated:!0,style:{stroke:"#25D366",strokeWidth:2}},children:[c.jsx(Q8,{color:"#e5e7eb",gap:20}),c.jsx(eM,{}),c.jsx(hM,{nodeColor:v=>({trigger:"#667eea",message:"#25D366",question:"#34B7F1",condition:"#f59e0b",action:"#6366f1",transfer:"#ec4899",end:"#ef4444"})[v.type]||"#6b7280",maskColor:"rgba(255, 255, 255, 0.8)"})]})})}const jM=[{value:"sales",label:"Ventas",color:"#10b981"},{value:"support",label:"Soporte",color:"#3b82f6"},{value:"complaint",label:"Quejas",color:"#ef4444"},{value:"info",label:"Informacin",color:"#8b5cf6"},{value:"greeting",label:"Saludo",color:"#f59e0b"}],_M=[{value:"low",label:"Baja"},{value:"medium",label:"Media"},{value:"high",label:"Alta"},{value:"critical",label:"Crtica"}];function CM(){const{selectedNode:t,updateNodeData:a,deleteNode:i,isPropertiesOpen:s,toggleProperties:l}=Hr(),[u,f]=C.useState({}),[m,g]=C.useState({type:"keyword",keywords:[],conditions:{}});C.useEffect(()=>{t&&(f(t.data||{}),t.type==="trigger"&&t.data?.config&&g(t.data.config))},[t]);const p=(_,w)=>{const M={...u,[_]:w};f(M),a(t.id,{[_]:w})},x=(_,w,M)=>{const B=[...u.options||[]];B[_]={...B[_],[w]:M},p("options",B)},y=()=>{const _=[...u.options||[],{label:"Nueva opcin",value:""}];p("options",_)},v=_=>{const w=u.options.filter((M,B)=>B!==_);p("options",w)},N=_=>{const w={type:_,keywords:[],conditions:{}};g(w),a(t.id,{config:w})},E=_=>{const w=_.split(",").map(B=>B.trim()).filter(B=>B),M={...m,keywords:w};g(M),a(t.id,{config:M})},A=_=>{const w=m.conditions?.intent||[];let M;w.includes(_)?M=w.filter(L=>L!==_):M=[...w,_];const B={...m,conditions:{...m.conditions,intent:M}};g(B),a(t.id,{config:B})},S=_=>{const w={...m,conditions:{...m.conditions,urgency:_}};g(w),a(t.id,{config:w})},j=_=>{const w={...m,conditions:{...m.conditions,min_lead_score:parseInt(_)||0}};g(w),a(t.id,{config:w})};return!s||!t?null:c.jsxs("div",{style:{width:"300px",background:"white",borderLeft:"1px solid #e5e7eb",padding:"16px",height:"100%",overflow:"auto"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[c.jsx("h3",{style:{margin:0,fontSize:"14px",fontWeight:600},children:"Propiedades"}),c.jsx("button",{onClick:l,style:{background:"none",border:"none",cursor:"pointer",fontSize:"18px",color:"#6b7280"},children:""})]}),c.jsxs("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"16px"},children:["Tipo: ",c.jsx("strong",{children:t.type})]}),c.jsxs("div",{style:{marginBottom:"16px"},children:[c.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:500,marginBottom:"4px"},children:"Etiqueta"}),c.jsx("input",{type:"text",value:u.label||"",onChange:_=>p("label",_.target.value),style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"13px"}})]}),t.type==="trigger"&&c.jsxs("div",{style:{marginBottom:"16px",padding:"12px",background:"#f8fafc",borderRadius:"8px",border:"1px solid #e2e8f0"},children:[c.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:600,marginBottom:"12px",color:"#475569"},children:"Configuracin del Trigger"}),c.jsxs("div",{style:{marginBottom:"12px"},children:[c.jsx("label",{style:{display:"block",fontSize:"11px",fontWeight:500,marginBottom:"6px",color:"#64748b"},children:"Tipo de activacin"}),c.jsx("div",{style:{display:"flex",gap:"6px"},children:[{value:"keyword",label:"Palabras clave"},{value:"classification",label:"Clasificacin"},{value:"always",label:"Siempre"}].map(_=>c.jsx("button",{onClick:()=>N(_.value),style:{flex:1,padding:"8px 4px",fontSize:"11px",border:m.type===_.value?"2px solid #25D366":"1px solid #d1d5db",borderRadius:"6px",background:m.type===_.value?"#dcfce7":"white",color:m.type===_.value?"#166534":"#6b7280",cursor:"pointer",fontWeight:m.type===_.value?600:400},children:_.label},_.value))})]}),m.type==="keyword"&&c.jsxs("div",{style:{marginBottom:"12px"},children:[c.jsx("label",{style:{display:"block",fontSize:"11px",fontWeight:500,marginBottom:"4px",color:"#64748b"},children:"Palabras clave (separadas por coma)"}),c.jsx("input",{type:"text",value:(m.keywords||[]).join(", "),onChange:_=>E(_.target.value),placeholder:"precio, costo, cotizar, cuanto",style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"12px"}}),c.jsx("p",{style:{fontSize:"10px",color:"#94a3b8",marginTop:"4px"},children:"El flujo se activa si el mensaje contiene alguna de estas palabras"})]}),m.type==="classification"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{style:{marginBottom:"12px"},children:[c.jsx("label",{style:{display:"block",fontSize:"11px",fontWeight:500,marginBottom:"6px",color:"#64748b"},children:"Intenciones del mensaje"}),c.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:jM.map(_=>{const w=(m.conditions?.intent||[]).includes(_.value);return c.jsxs("button",{onClick:()=>A(_.value),style:{padding:"6px 10px",fontSize:"11px",border:w?`2px solid ${_.color}`:"1px solid #d1d5db",borderRadius:"16px",background:w?`${_.color}20`:"white",color:w?_.color:"#6b7280",cursor:"pointer",fontWeight:w?600:400},children:[w&&" ",_.label]},_.value)})})]}),c.jsxs("div",{style:{marginBottom:"12px"},children:[c.jsx("label",{style:{display:"block",fontSize:"11px",fontWeight:500,marginBottom:"4px",color:"#64748b"},children:"Urgencia mnima"}),c.jsxs("select",{value:m.conditions?.urgency||"",onChange:_=>S(_.target.value),style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"12px"},children:[c.jsx("option",{value:"",children:"Cualquiera"}),_M.map(_=>c.jsx("option",{value:_.value,children:_.label},_.value))]})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"11px",fontWeight:500,marginBottom:"4px",color:"#64748b"},children:"Lead score mnimo"}),c.jsx("input",{type:"number",min:"0",max:"100",value:m.conditions?.min_lead_score||0,onChange:_=>j(_.target.value),style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"12px"}}),c.jsx("p",{style:{fontSize:"10px",color:"#94a3b8",marginTop:"4px"},children:"Solo activa si el lead tiene este puntaje o ms (0-100)"})]})]}),m.type==="always"&&c.jsx("div",{style:{padding:"12px",background:"#fef3c7",borderRadius:"6px",border:"1px solid #fcd34d"},children:c.jsx("p",{style:{fontSize:"11px",color:"#92400e",margin:0},children:" Este flujo se activar para TODOS los mensajes entrantes que no coincidan con otros flujos. salo como flujo por defecto."})})]}),["message","question","transfer"].includes(t.type)&&c.jsxs("div",{style:{marginBottom:"16px"},children:[c.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:500,marginBottom:"4px"},children:"Contenido del mensaje"}),c.jsx("textarea",{value:u.content||"",onChange:_=>p("content",_.target.value),rows:4,style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"13px",resize:"vertical"},placeholder:"Escribe el mensaje..."}),c.jsxs("p",{style:{fontSize:"11px",color:"#6b7280",marginTop:"4px"},children:["Usa ","{{variable}}"," para insertar variables"]})]}),t.type==="question"&&c.jsxs("div",{style:{marginBottom:"16px"},children:[c.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:500,marginBottom:"4px"},children:"Guardar respuesta en variable"}),c.jsx("input",{type:"text",value:u.variable||"",onChange:_=>p("variable",_.target.value),style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"13px"},placeholder:"nombre_variable"})]}),t.type==="question"&&c.jsxs("div",{style:{marginBottom:"16px"},children:[c.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:500,marginBottom:"8px"},children:"Opciones de respuesta"}),(u.options||[]).map((_,w)=>c.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[c.jsx("input",{type:"text",value:_.label,onChange:M=>x(w,"label",M.target.value),placeholder:"Texto",style:{flex:1,padding:"6px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"12px"}}),c.jsx("input",{type:"text",value:_.value,onChange:M=>x(w,"value",M.target.value),placeholder:"Valor",style:{width:"80px",padding:"6px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"12px"}}),c.jsx("button",{onClick:()=>v(w),style:{background:"#fee2e2",border:"none",borderRadius:"4px",padding:"0 8px",cursor:"pointer",color:"#ef4444"},children:""})]},w)),c.jsx("button",{onClick:y,style:{background:"#f3f4f6",border:"1px dashed #d1d5db",borderRadius:"6px",padding:"8px",width:"100%",cursor:"pointer",fontSize:"12px"},children:"+ Agregar opcin"})]}),t.type==="action"&&c.jsxs("div",{style:{marginBottom:"16px"},children:[c.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:500,marginBottom:"4px"},children:"Tipo de accin"}),c.jsxs("select",{value:u.action||"",onChange:_=>p("action",_.target.value),style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"13px"},children:[c.jsx("option",{value:"",children:"Selecciona..."}),c.jsx("option",{value:"notify_sales",children:"Notificar a ventas"}),c.jsx("option",{value:"create_ticket",children:"Crear ticket"}),c.jsx("option",{value:"save_lead",children:"Guardar lead"}),c.jsx("option",{value:"send_email",children:"Enviar email"}),c.jsx("option",{value:"webhook",children:"Llamar webhook"}),c.jsx("option",{value:"search_faq",children:"Buscar en FAQ"})]})]}),t.type==="ai_response"&&c.jsxs("div",{style:{marginBottom:"16px",padding:"12px",background:"#f5f3ff",borderRadius:"8px",border:"1px solid #c4b5fd"},children:[c.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:600,marginBottom:"12px",color:"#5b21b6"},children:" Configuracin de IA"}),c.jsxs("div",{style:{marginBottom:"12px"},children:[c.jsx("label",{style:{display:"block",fontSize:"11px",fontWeight:500,marginBottom:"4px",color:"#6b7280"},children:"Prompt del sistema"}),c.jsx("textarea",{value:u.system_prompt||"",onChange:_=>p("system_prompt",_.target.value),rows:3,style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"12px",resize:"vertical"},placeholder:"Eres un asistente de ventas amable y profesional..."})]}),c.jsxs("div",{style:{marginBottom:"12px"},children:[c.jsx("label",{style:{display:"block",fontSize:"11px",fontWeight:500,marginBottom:"4px",color:"#6b7280"},children:"Prompt del usuario"}),c.jsx("textarea",{value:u.user_prompt||"",onChange:_=>p("user_prompt",_.target.value),rows:2,style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"12px",resize:"vertical"},placeholder:"El cliente pregunta: {{initial_message}}"}),c.jsxs("p",{style:{fontSize:"10px",color:"#94a3b8",marginTop:"4px"},children:["Usa ","{{variable}}"," para insertar datos dinmicos"]})]}),c.jsxs("div",{style:{marginBottom:"12px"},children:[c.jsx("label",{style:{display:"block",fontSize:"11px",fontWeight:500,marginBottom:"4px",color:"#6b7280"},children:"Modelo"}),c.jsxs("select",{value:u.model||"gpt-4o-mini",onChange:_=>p("model",_.target.value),style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"12px"},children:[c.jsx("option",{value:"gpt-4o-mini",children:"GPT-4o Mini (rpido)"}),c.jsx("option",{value:"gpt-4o",children:"GPT-4o (preciso)"}),c.jsx("option",{value:"gpt-4-turbo",children:"GPT-4 Turbo"})]})]}),c.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"12px"},children:[c.jsxs("div",{style:{flex:1},children:[c.jsx("label",{style:{display:"block",fontSize:"11px",fontWeight:500,marginBottom:"4px",color:"#6b7280"},children:"Temperatura"}),c.jsx("input",{type:"number",min:"0",max:"1",step:"0.1",value:u.temperature||.7,onChange:_=>p("temperature",parseFloat(_.target.value)),style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"12px"}})]}),c.jsxs("div",{style:{flex:1},children:[c.jsx("label",{style:{display:"block",fontSize:"11px",fontWeight:500,marginBottom:"4px",color:"#6b7280"},children:"Max tokens"}),c.jsx("input",{type:"number",min:"50",max:"2000",step:"50",value:u.max_tokens||200,onChange:_=>p("max_tokens",parseInt(_.target.value)),style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"12px"}})]})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"11px",fontWeight:500,marginBottom:"4px",color:"#6b7280"},children:"Guardar respuesta en variable (opcional)"}),c.jsx("input",{type:"text",value:u.variable||"",onChange:_=>p("variable",_.target.value),style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"12px"},placeholder:"ai_response"})]})]}),t.type==="webhook"&&c.jsxs("div",{style:{marginBottom:"16px",padding:"12px",background:"#fff7ed",borderRadius:"8px",border:"1px solid #fed7aa"},children:[c.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:600,marginBottom:"12px",color:"#c2410c"},children:" Configuracin de Webhook"}),c.jsxs("div",{style:{marginBottom:"12px"},children:[c.jsx("label",{style:{display:"block",fontSize:"11px",fontWeight:500,marginBottom:"4px",color:"#6b7280"},children:"URL del endpoint"}),c.jsx("input",{type:"text",value:u.url||"",onChange:_=>p("url",_.target.value),style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"12px"},placeholder:"https://api.ejemplo.com/endpoint"})]}),c.jsxs("div",{style:{marginBottom:"12px"},children:[c.jsx("label",{style:{display:"block",fontSize:"11px",fontWeight:500,marginBottom:"4px",color:"#6b7280"},children:"Mtodo HTTP"}),c.jsxs("select",{value:u.method||"POST",onChange:_=>p("method",_.target.value),style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"12px"},children:[c.jsx("option",{value:"GET",children:"GET"}),c.jsx("option",{value:"POST",children:"POST"}),c.jsx("option",{value:"PUT",children:"PUT"}),c.jsx("option",{value:"PATCH",children:"PATCH"}),c.jsx("option",{value:"DELETE",children:"DELETE"})]})]}),c.jsxs("div",{style:{marginBottom:"12px"},children:[c.jsx("label",{style:{display:"block",fontSize:"11px",fontWeight:500,marginBottom:"4px",color:"#6b7280"},children:"Headers (JSON)"}),c.jsx("textarea",{value:u.headers||`{
  "Content-Type": "application/json"
}`,onChange:_=>p("headers",_.target.value),rows:3,style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"11px",fontFamily:"monospace",resize:"vertical"}})]}),c.jsxs("div",{style:{marginBottom:"12px"},children:[c.jsxs("label",{style:{display:"block",fontSize:"11px",fontWeight:500,marginBottom:"4px",color:"#6b7280"},children:["Body (JSON) - Usa ","{{variable}}"," para datos dinmicos"]}),c.jsx("textarea",{value:u.body||`{
  "phone": "{{phone}}",
  "message": "{{initial_message}}"
}`,onChange:_=>p("body",_.target.value),rows:4,style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"11px",fontFamily:"monospace",resize:"vertical"}})]}),c.jsxs("div",{style:{marginBottom:"12px"},children:[c.jsx("label",{style:{display:"block",fontSize:"11px",fontWeight:500,marginBottom:"4px",color:"#6b7280"},children:"Timeout (ms)"}),c.jsx("input",{type:"number",min:"1000",max:"30000",step:"1000",value:u.timeout||5e3,onChange:_=>p("timeout",parseInt(_.target.value)),style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"12px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"11px",fontWeight:500,marginBottom:"4px",color:"#6b7280"},children:"Guardar respuesta en variable"}),c.jsx("input",{type:"text",value:u.variable||"",onChange:_=>p("variable",_.target.value),style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"12px"},placeholder:"api_response"})]})]}),t.type==="delay"&&c.jsxs("div",{style:{marginBottom:"16px",padding:"12px",background:"#f8fafc",borderRadius:"8px",border:"1px solid #cbd5e1"},children:[c.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:600,marginBottom:"12px",color:"#475569"},children:" Configuracin de Espera"}),c.jsxs("div",{style:{marginBottom:"12px"},children:[c.jsx("label",{style:{display:"block",fontSize:"11px",fontWeight:500,marginBottom:"4px",color:"#6b7280"},children:"Segundos de espera"}),c.jsx("input",{type:"number",min:"1",max:"60",step:"1",value:u.seconds||2,onChange:_=>p("seconds",parseInt(_.target.value)),style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"13px"}}),c.jsx("p",{style:{fontSize:"10px",color:"#94a3b8",marginTop:"4px"},children:"Entre 1 y 60 segundos. Recomendado: 2-5 seg para parecer ms humano."})]}),c.jsx("div",{children:c.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[c.jsx("input",{type:"checkbox",checked:u.typing_indicator!==!1,onChange:_=>p("typing_indicator",_.target.checked),style:{width:"16px",height:"16px"}}),c.jsx("span",{style:{fontSize:"12px",color:"#374151"},children:'Mostrar "escribiendo..." mientras espera'})]})})]}),c.jsx("div",{style:{marginTop:"24px",paddingTop:"16px",borderTop:"1px solid #e5e7eb"},children:c.jsx("button",{onClick:()=>i(t.id),style:{width:"100%",padding:"10px",background:"#fee2e2",border:"1px solid #fecaca",borderRadius:"6px",color:"#dc2626",cursor:"pointer",fontWeight:500,fontSize:"13px"},children:" Eliminar nodo"})})]})}function TM({isOpen:t,onClose:a}){const{nodes:i,edges:s,flowName:l}=Hr(),[u,f]=C.useState([]),[m,g]=C.useState(""),[p,x]=C.useState(null),[y,v]=C.useState({}),[N,E]=C.useState(!1),[A,S]=C.useState(null),[j,_]=C.useState("local"),[w,M]=C.useState(!1),B=C.useRef(null);C.useEffect(()=>{B.current?.scrollIntoView({behavior:"smooth"})},[u]),C.useEffect(()=>{t&&L()},[t]);const L=()=>{f([{type:"system",text:`Simulando flujo: "${l}"`},{type:"system",text:"Escribe un mensaje para iniciar..."}]),v({}),x(null),E(!0),S(null)},O=D=>i.find(U=>U.id===D),X=(D,U=null)=>{const k=s.find(Z=>!(Z.source!==D||U&&Z.label&&Z.label!==U));return k?O(k.target):null},J=()=>i.find(D=>D.type==="trigger"),se=async D=>{if(!D){F("system"," Flujo terminado (no hay siguiente nodo)"),E(!0);return}switch(S(D.id),x(D.id),await q(300),D.type){case"trigger":F("system"," Trigger activado");const U=X(D.id);se(U);break;case"message":const k=P(D.data.content||"Mensaje vaco");F("bot",k),await q(500);const Z=X(D.id);se(Z);break;case"question":const z=P(D.data.content||"?");F("bot",z),D.data.options&&D.data.options.length>0&&F("options",D.data.options),E(!0),x(D.id);break;case"condition":F("system"," Evaluando condicin..."),await q(300);const V=D.data.conditions||[];let I=null;for(const je of V){if(je.else){I=je.goto;break}const Je=je.if?.match(/(\w+)\s*==\s*["']?(\w+)["']?/);if(Je){const[,Et,xt]=Je;if(y[Et]===xt){I=je.goto,F("system",` Condicin cumplida: ${Et} = ${xt}`);break}}}const te=O(I)||X(D.id);se(te);break;case"action":F("system",` Ejecutando accin: ${D.data.action||"sin definir"}`),await q(500);const le=X(D.id);se(le);break;case"ai_response":F("system"," Generando respuesta con IA..."),M(!0),await q(1500),M(!1);const ue=D.data.system_prompt||"",ce=P(D.data.user_prompt||""),oe=`[Respuesta IA simulada]
${ue.substring(0,50)}...
Para: "${ce.substring(0,50)}..."`;F("bot",oe),D.data.variable&&(v(je=>({...je,[D.data.variable]:"respuesta_ia_simulada"})),F("system",` Variable "${D.data.variable}" = respuesta IA`)),await q(300);const de=X(D.id);se(de);break;case"webhook":F("system",` Llamando webhook: ${D.data.url||"URL no definida"}`),F("system",`   Mtodo: ${D.data.method||"POST"}`),M(!0),await q(1e3),M(!1);const be={success:!0,data:{status:"ok",simulated:!0}};F("system",` Webhook respondi: ${JSON.stringify(be).substring(0,50)}...`),D.data.variable&&v(je=>({...je,[D.data.variable]:be}));const ve=X(D.id);se(ve);break;case"delay":const me=D.data.seconds||2,pe=D.data.typing_indicator!==!1;F("system",` Esperando ${me} segundos...`),pe&&M(!0),await q(me*1e3),pe&&M(!1);const Ne=X(D.id);se(Ne);break;case"transfer":F("bot",D.data.content||"Transfiriendo a un agente..."),F("system"," Conversacin transferida a humano"),E(!0);break;case"end":F("system"," Flujo completado"),E(!0);break;default:F("system",`Nodo desconocido: ${D.type}`);const ze=X(D.id);se(ze)}},P=D=>D&&D.replace(/\{\{(\w+)\}\}/g,(U,k)=>y[k]||U),F=(D,U)=>{f(k=>[...k,{type:D,text:U,time:new Date}])},q=D=>new Promise(U=>setTimeout(U,D)),H=()=>{if(!m.trim())return;const D=m.trim();g(""),F("user",D),E(!1);const U=O(p);if(U?.type==="question"&&U.data.variable){let k=D;if(U.data.options){const Z=U.data.options.find(z=>z.label.toLowerCase()===D.toLowerCase()||z.value===D);Z&&(k=Z.value)}v(Z=>({...Z,[U.data.variable]:k})),F("system",` Variable "${U.data.variable}" = "${k}"`),setTimeout(()=>{const Z=X(p);se(Z)},300)}else if(!p){const k=J();k?se(k):F("system"," No hay nodo Trigger en el flujo")}},Q=D=>{g(D.label),setTimeout(()=>H(),100)},R=D=>{D.key==="Enter"&&!D.shiftKey&&(D.preventDefault(),H())};return t?c.jsxs("div",{style:{position:"fixed",right:"20px",bottom:"20px",width:"380px",height:"550px",background:"white",borderRadius:"16px",boxShadow:"0 10px 40px rgba(0,0,0,0.2)",display:"flex",flexDirection:"column",zIndex:1e3,overflow:"hidden"},children:[c.jsxs("div",{style:{background:"linear-gradient(135deg, #075E54 0%, #128C7E 100%)",color:"white",padding:"12px 16px"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[c.jsxs("div",{children:[c.jsx("div",{style:{fontWeight:600,fontSize:"15px"},children:" Simulador de Chat"}),c.jsx("div",{style:{fontSize:"12px",opacity:.8},children:"Prueba tu flujo aqu"})]}),c.jsxs("div",{style:{display:"flex",gap:"8px"},children:[c.jsx("button",{onClick:L,style:{background:"rgba(255,255,255,0.2)",border:"none",color:"white",padding:"6px 12px",borderRadius:"6px",cursor:"pointer",fontSize:"12px"},children:""}),c.jsx("button",{onClick:a,style:{background:"none",border:"none",color:"white",fontSize:"20px",cursor:"pointer",padding:"0 4px"},children:""})]})]}),c.jsxs("div",{style:{display:"flex",gap:"8px",background:"rgba(0,0,0,0.2)",borderRadius:"8px",padding:"4px"},children:[c.jsx("button",{onClick:()=>_("local"),style:{flex:1,background:j==="local"?"white":"transparent",color:j==="local"?"#075E54":"white",border:"none",padding:"6px 12px",borderRadius:"6px",cursor:"pointer",fontSize:"11px",fontWeight:j==="local"?600:400},children:"Local"}),c.jsx("button",{onClick:()=>_("server"),style:{flex:1,background:j==="server"?"white":"transparent",color:j==="server"?"#075E54":"white",border:"none",padding:"6px 12px",borderRadius:"6px",cursor:"pointer",fontSize:"11px",fontWeight:j==="server"?600:400},children:"Servidor"})]})]}),Object.keys(y).length>0&&c.jsxs("div",{style:{background:"#f0fdf4",padding:"8px 16px",fontSize:"11px",borderBottom:"1px solid #e5e7eb"},children:[c.jsx("strong",{children:"Variables:"})," ",Object.entries(y).map(([D,U])=>c.jsxs("span",{style:{background:"#dcfce7",padding:"2px 6px",borderRadius:"4px",marginLeft:"4px"},children:[D,"=",typeof U=="object"?JSON.stringify(U).substring(0,30)+"...":String(U)]},D))]}),c.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"16px",background:"#e5ddd5",backgroundImage:'url("data:image/svg+xml,%3Csvg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="none" fill-rule="evenodd"%3E%3Cg fill="%239C92AC" fill-opacity="0.05"%3E%3Cpath d="M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")'},children:[u.map((D,U)=>c.jsx(MM,{message:D,onOptionClick:Q},U)),w&&c.jsx("div",{style:{display:"flex",justifyContent:"flex-start",marginBottom:"8px"},children:c.jsxs("div",{style:{background:"white",padding:"12px 16px",borderRadius:"12px 12px 12px 0",boxShadow:"0 1px 2px rgba(0,0,0,0.1)",display:"flex",gap:"4px"},children:[c.jsx("span",{className:"typing-dot",style:{width:"8px",height:"8px",background:"#90a3ae",borderRadius:"50%",animation:"typing 1.4s infinite ease-in-out",animationDelay:"0s"}}),c.jsx("span",{className:"typing-dot",style:{width:"8px",height:"8px",background:"#90a3ae",borderRadius:"50%",animation:"typing 1.4s infinite ease-in-out",animationDelay:"0.2s"}}),c.jsx("span",{className:"typing-dot",style:{width:"8px",height:"8px",background:"#90a3ae",borderRadius:"50%",animation:"typing 1.4s infinite ease-in-out",animationDelay:"0.4s"}})]})}),c.jsx("div",{ref:B})]}),c.jsxs("div",{style:{padding:"12px",background:"#f0f2f5",display:"flex",gap:"8px"},children:[c.jsx("input",{type:"text",value:m,onChange:D=>g(D.target.value),onKeyPress:R,placeholder:N?"Escribe un mensaje...":"Esperando respuesta...",disabled:!N,style:{flex:1,padding:"10px 16px",border:"none",borderRadius:"24px",fontSize:"14px",outline:"none"}}),c.jsx("button",{onClick:H,disabled:!N||!m.trim(),style:{background:"#25D366",color:"white",border:"none",borderRadius:"50%",width:"40px",height:"40px",cursor:N&&m.trim()?"pointer":"not-allowed",opacity:N&&m.trim()?1:.5,fontSize:"18px"},children:""})]})]}):null}function MM({message:t,onOptionClick:a}){const{type:i,text:s}=t,l=f=>typeof f=="object"&&f!==null?JSON.stringify(f,null,2):String(f);if(i==="system")return c.jsx("div",{style:{textAlign:"center",margin:"8px 0",fontSize:"11px",color:"#667781",background:"rgba(255,255,255,0.8)",padding:"4px 12px",borderRadius:"8px",display:"inline-block",width:"100%"},children:l(s)});if(i==="options")return c.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px",margin:"8px 0"},children:s.map((f,m)=>c.jsx("button",{onClick:()=>a(f),style:{background:"white",border:"1px solid #25D366",color:"#25D366",padding:"8px 16px",borderRadius:"16px",cursor:"pointer",fontSize:"13px",fontWeight:500},children:f.label},m))});const u=i==="user";return c.jsx("div",{style:{display:"flex",justifyContent:u?"flex-end":"flex-start",marginBottom:"8px"},children:c.jsx("div",{style:{maxWidth:"80%",padding:"8px 12px",borderRadius:u?"12px 12px 0 12px":"12px 12px 12px 0",background:u?"#dcf8c6":"white",boxShadow:"0 1px 2px rgba(0,0,0,0.1)",fontSize:"14px",lineHeight:"1.4",whiteSpace:"pre-wrap"},children:l(s)})})}const qf=[{title:"Bienvenido al Flow Builder!",description:"Crea flujos de conversacin para tu chatbot de WhatsApp de forma visual, sin escribir cdigo.",icon:"",image:null},{title:"Arrastra nodos al canvas",description:"En la barra izquierda encontrars los nodos disponibles. Arrstralos al canvas para construir tu flujo.",icon:"",tips:[" Mensaje: Enva un texto al usuario"," Pregunta: Espera una respuesta del usuario"," Condicin: Bifurca el flujo segn una variable"," Accin: Ejecuta una accin (notificar, guardar, etc.)"]},{title:"Conecta los nodos",description:"Arrastra desde el punto verde (salida) de un nodo hasta el punto gris (entrada) de otro para conectarlos.",icon:"",tips:["El flujo siempre empieza en el Trigger","Puedes tener mltiples caminos con Condiciones","Termina con un nodo Fin o Transferir"]},{title:"Configura cada nodo",description:"Haz clic en un nodo para ver sus propiedades a la derecha. Ah puedes editar el contenido, opciones y variables.",icon:"",tips:["Usa {{variable}} para insertar datos dinmicos","Las preguntas guardan la respuesta en una variable","Las condiciones evalan esas variables"]},{title:"Guarda y activa!",description:"Cuando termines, guarda tu flujo y actvalo para que empiece a responder mensajes automticamente.",icon:"",tips:["Puedes tener varios flujos, pero solo algunos activos",'Usa "Abrir" para cargar flujos guardados',"Las plantillas te dan flujos de ejemplo para empezar"]}];function AM({onComplete:t}){const[a,i]=C.useState(0),[s,l]=C.useState(!1),u=qf[a],f=a===qf.length-1,m=()=>{f?l(!0):i(a+1)},g=()=>{t(null)},p=x=>{t(x)};return s?c.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:c.jsxs("div",{style:{background:"white",borderRadius:"16px",padding:"32px",maxWidth:"600px",width:"90%"},children:[c.jsx("h2",{style:{margin:"0 0 8px 0",fontSize:"24px"},children:"Cmo quieres empezar?"}),c.jsx("p",{style:{color:"#6b7280",margin:"0 0 24px 0"},children:"Puedes empezar desde cero o usar una plantilla predefinida"}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[c.jsx(Wl,{icon:"",title:"Empezar vaco",description:"Canvas en blanco para crear tu propio flujo",onClick:()=>p(null)}),c.jsx(Wl,{icon:"",title:"Embudo de Ventas",description:"Califica leads y gualos a la compra",onClick:()=>p("sales_funnel"),color:"#25D366"}),c.jsx(Wl,{icon:"",title:"Embudo de Soporte",description:"Resuelve dudas con FAQ y escala a humanos",onClick:()=>p("support_funnel"),color:"#34B7F1"}),c.jsx(Wl,{icon:"",title:"Captura de Leads",description:"Recolecta informacin de contacto",onClick:()=>p("lead_capture"),color:"#f59e0b"})]}),c.jsx("button",{onClick:()=>p(null),style:{marginTop:"16px",padding:"8px",background:"none",border:"none",color:"#6b7280",cursor:"pointer",fontSize:"13px",width:"100%"},children:"Saltar y empezar vaco "})]})}):c.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:c.jsxs("div",{style:{background:"white",borderRadius:"16px",padding:"32px",maxWidth:"500px",width:"90%",textAlign:"center"},children:[c.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"8px",marginBottom:"24px"},children:qf.map((x,y)=>c.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:y===a?"#25D366":"#e5e7eb",transition:"background 0.2s"}},y))}),c.jsx("div",{style:{fontSize:"64px",marginBottom:"16px"},children:u.icon}),c.jsx("h2",{style:{margin:"0 0 12px 0",fontSize:"24px",color:"#111827"},children:u.title}),c.jsx("p",{style:{color:"#6b7280",margin:"0 0 20px 0",lineHeight:"1.6"},children:u.description}),u.tips&&c.jsx("div",{style:{background:"#f9fafb",borderRadius:"8px",padding:"16px",textAlign:"left",marginBottom:"24px"},children:u.tips.map((x,y)=>c.jsx("div",{style:{fontSize:"13px",color:"#4b5563",marginBottom:y<u.tips.length-1?"8px":0},children:x},y))}),c.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[c.jsx("button",{onClick:g,style:{padding:"12px 24px",background:"white",border:"1px solid #d1d5db",borderRadius:"8px",cursor:"pointer",fontSize:"14px",color:"#6b7280"},children:"Saltar"}),c.jsx("button",{onClick:m,style:{padding:"12px 24px",background:"#25D366",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:500},children:f?"Empezar":"Siguiente"})]})]})})}function Wl({icon:t,title:a,description:i,onClick:s,color:l}){return c.jsxs("div",{onClick:s,style:{padding:"16px",border:"2px solid #e5e7eb",borderRadius:"12px",cursor:"pointer",transition:"all 0.2s",textAlign:"left"},onMouseOver:u=>{u.currentTarget.style.borderColor=l||"#25D366",u.currentTarget.style.transform="translateY(-2px)"},onMouseOut:u=>{u.currentTarget.style.borderColor="#e5e7eb",u.currentTarget.style.transform="none"},children:[c.jsx("div",{style:{fontSize:"28px",marginBottom:"8px"},children:t}),c.jsx("div",{style:{fontWeight:600,fontSize:"14px",marginBottom:"4px"},children:a}),c.jsx("div",{style:{fontSize:"12px",color:"#6b7280"},children:i})]})}function RM(){const{id:t}=rS(),[a,i]=C.useState(!1),[s,l]=C.useState(!1),[u,f]=C.useState(null),[m,g]=C.useState(!1),{loadFlow:p}=Hr();C.useEffect(()=>{t?x(t):localStorage.getItem("flowbuilder_onboarding_seen")||l(!0)},[t]);const x=async N=>{g(!0);try{const E=await Jf(N);if(E.flow)p(E.flow),y(`Flujo "${E.flow.name}" cargado correctamente`,"success");else throw new Error("No se pudo obtener los datos del flujo")}catch(E){console.error("Error loading flow:",E),y(`Error al cargar flujo: ${E.message}`,"error")}finally{g(!1)}},y=(N,E="info")=>{f({message:N,type:E}),setTimeout(()=>f(null),4e3)},v=async N=>{if(localStorage.setItem("flowbuilder_onboarding_seen","true"),l(!1),N){g(!0);try{console.log("Creating flow from template:",N);const E=await xv(N,null);if(console.log("Template created, result:",E),E.id){const A=await Jf(E.id);if(console.log("Flow data loaded:",A),A.flow)p(A.flow),y(`Flujo "${A.flow.name}" cargado correctamente`,"success");else throw new Error("No se pudo obtener los datos del flujo")}else throw new Error("No se recibi el ID del flujo creado")}catch(E){console.error("Error loading template:",E),y(`Error al cargar template: ${E.message}`,"error")}finally{g(!1)}}};return c.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100vh",overflow:"hidden"},children:[c.jsx(xM,{onTestClick:()=>i(!0)}),c.jsxs("div",{style:{display:"flex",flex:1,overflow:"hidden"},children:[c.jsx(bM,{}),c.jsx(EM,{}),c.jsx(CM,{})]}),c.jsxs("button",{onClick:()=>i(!0),style:{position:"fixed",right:"20px",bottom:"20px",background:"linear-gradient(135deg, #075E54 0%, #25D366 100%)",color:"white",border:"none",borderRadius:"50px",padding:"14px 24px",cursor:"pointer",boxShadow:"0 4px 15px rgba(37, 211, 102, 0.4)",fontSize:"14px",fontWeight:600,display:a?"none":"flex",alignItems:"center",gap:"8px",zIndex:100},children:[c.jsx("span",{style:{fontSize:"18px"},children:""}),"Probar flujo"]}),m&&c.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1001},children:c.jsxs("div",{style:{background:"white",padding:"24px 32px",borderRadius:"12px",display:"flex",alignItems:"center",gap:"12px"},children:[c.jsx("div",{style:{width:"24px",height:"24px",border:"3px solid #e5e7eb",borderTop:"3px solid #25D366",borderRadius:"50%",animation:"spin 1s linear infinite"}}),c.jsx("span",{children:"Cargando flujo..."})]})}),u&&c.jsxs("div",{style:{position:"fixed",top:"20px",right:"20px",padding:"12px 20px",borderRadius:"8px",background:u.type==="success"?"#10b981":u.type==="error"?"#ef4444":"#3b82f6",color:"white",fontWeight:500,boxShadow:"0 4px 12px rgba(0,0,0,0.15)",zIndex:1002,animation:"slideIn 0.3s ease"},children:[u.type==="success"&&" ",u.type==="error"&&" ",u.message]}),c.jsx(TM,{isOpen:a,onClose:()=>i(!1)}),s&&c.jsx(AM,{onComplete:v})]})}const Ph="/api/flow-logs";async function Ih(t,a){if(!t.ok){let i=a;try{const s=await t.json();s.error&&(i=s.error)}catch{}throw new Error(i)}return t.json()}async function zM(t={}){const a=new URLSearchParams(t).toString(),i=await fetch(`${Ph}?${a}`);return Ih(i,"Error al cargar logs")}async function DM(t){const a=await fetch(`${Ph}/${t}`);return Ih(a,"Log no encontrado")}async function OM(t=7){const a=await fetch(`${Ph}/stats/summary?days=${t}`);return Ih(a,"Error al cargar estadsticas")}const Hs={completed:{label:"Completado",color:"#10b981",icon:fc},failed:{label:"Fallido",color:"#ef4444",icon:Nh},transferred:{label:"Transferido",color:"#f59e0b",icon:pN},running:{label:"En progreso",color:"#3b82f6",icon:xi},timeout:{label:"Timeout",color:"#6b7280",icon:hc}};function kM(){const[t,a]=C.useState([]),[i,s]=C.useState(null),[l,u]=C.useState(!0),[f,m]=C.useState(null),[g,p]=C.useState(!1),[x,y]=C.useState({status:"",phone:"",flow_id:""});C.useEffect(()=>{v()},[]);const v=async()=>{u(!0);try{const[S,j]=await Promise.all([zM({limit:50,...x}),OM(7)]);a(S.logs||[]),s(j.stats)}catch(S){console.error("Error loading logs:",S)}finally{u(!1)}},N=async S=>{p(!0);try{const j=await DM(S.id);m(j.log)}catch(j){console.error("Error loading log detail:",j)}finally{p(!1)}},E=(S,j)=>{y(_=>({..._,[S]:j}))},A=()=>{v()};return l?c.jsx("div",{className:"p-8 flex items-center justify-center h-full",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-500"})}):c.jsxs("div",{className:"p-8",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Logs de Ejecucin"}),c.jsx("p",{className:"text-gray-500 mt-1",children:"Historial de ejecucin de flujos"})]}),c.jsxs("button",{onClick:v,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg text-gray-700 transition",children:[c.jsx(Eh,{className:"w-4 h-4"}),"Actualizar"]})]}),i&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[c.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:[c.jsx("p",{className:"text-sm text-gray-500",children:"Total ejecuciones"}),c.jsx("p",{className:"text-2xl font-bold text-gray-800",children:i.total_executions||0}),c.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"ltimos 7 das"})]}),c.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:[c.jsx("p",{className:"text-sm text-gray-500",children:"Tasa de completado"}),c.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[i.completion_rate||0,"%"]}),c.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[i.completed||0," completados"]})]}),c.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:[c.jsx("p",{className:"text-sm text-gray-500",children:"Fallidos"}),c.jsx("p",{className:"text-2xl font-bold text-red-500",children:i.failed||0}),c.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Requieren atencin"})]}),c.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:[c.jsx("p",{className:"text-sm text-gray-500",children:"Tiempo promedio"}),c.jsx("p",{className:"text-2xl font-bold text-blue-600",children:i.avg_duration_ms?`${Math.round(i.avg_duration_ms)}ms`:"-"}),c.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Por ejecucin"})]})]}),c.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm mb-6",children:c.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Gx,{className:"w-4 h-4 text-gray-400"}),c.jsx("span",{className:"text-sm text-gray-600",children:"Filtrar:"})]}),c.jsxs("select",{value:x.status,onChange:S=>E("status",S.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none",children:[c.jsx("option",{value:"",children:"Todos los estados"}),c.jsx("option",{value:"completed",children:"Completados"}),c.jsx("option",{value:"failed",children:"Fallidos"}),c.jsx("option",{value:"transferred",children:"Transferidos"}),c.jsx("option",{value:"running",children:"En progreso"})]}),c.jsx("input",{type:"text",value:x.phone,onChange:S=>E("phone",S.target.value),placeholder:"Telfono...",className:"px-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none w-40"}),c.jsx("button",{onClick:A,className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg text-sm transition",children:"Aplicar"})]})}),c.jsx("div",{className:"bg-white rounded-xl border border-gray-100 shadow-sm overflow-hidden",children:t.length===0?c.jsxs("div",{className:"p-12 text-center text-gray-400",children:[c.jsx(xi,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{children:"No hay logs de ejecucin"}),c.jsx("p",{className:"text-sm mt-1",children:"Los logs aparecern cuando se ejecuten flujos"})]}):c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 text-left text-xs text-gray-500 uppercase tracking-wider",children:[c.jsx("th",{className:"px-4 py-3",children:"Fecha"}),c.jsx("th",{className:"px-4 py-3",children:"Flujo"}),c.jsx("th",{className:"px-4 py-3",children:"Telfono"}),c.jsx("th",{className:"px-4 py-3",children:"Estado"}),c.jsx("th",{className:"px-4 py-3",children:"Nodos"}),c.jsx("th",{className:"px-4 py-3",children:"Duracin"}),c.jsx("th",{className:"px-4 py-3"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-100",children:t.map(S=>{const j=Hs[S.status]||Hs.running,_=j.icon;return c.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[c.jsxs("td",{className:"px-4 py-3 text-sm",children:[c.jsx("div",{className:"text-gray-800",children:Dc(new Date(S.started_at),"dd/MM HH:mm")}),c.jsx("div",{className:"text-xs text-gray-400",children:Oc(new Date(S.started_at),{addSuffix:!0,locale:Nr})})]}),c.jsxs("td",{className:"px-4 py-3",children:[c.jsx("div",{className:"font-medium text-gray-800",children:S.flow_name||"Sin nombre"}),c.jsx("div",{className:"text-xs text-gray-400",children:S.trigger_type})]}),c.jsx("td",{className:"px-4 py-3",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ac,{className:"w-3 h-3 text-gray-400"}),c.jsx("span",{className:"text-sm text-gray-700",children:S.phone})]})}),c.jsx("td",{className:"px-4 py-3",children:c.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium",style:{background:`${j.color}20`,color:j.color},children:[c.jsx(_,{className:"w-3 h-3"}),j.label]})}),c.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:S.total_nodes_executed||0}),c.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:S.total_duration_ms?`${Math.round(S.total_duration_ms)}ms`:"-"}),c.jsx("td",{className:"px-4 py-3",children:c.jsx("button",{onClick:()=>N(S),className:"p-2 hover:bg-gray-100 rounded-lg transition",title:"Ver detalle",children:c.jsx(Xx,{className:"w-4 h-4 text-gray-400"})})})]},S.id)})})]})}),f&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>m(null),children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-2xl max-h-[80vh] overflow-auto m-4",onClick:S=>S.stopPropagation(),children:[c.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between sticky top-0 bg-white",children:[c.jsx("h3",{className:"font-semibold text-gray-800",children:"Detalle de Ejecucin"}),c.jsx("button",{onClick:()=>m(null),className:"p-2 hover:bg-gray-100 rounded-lg",children:c.jsx(rE,{className:"w-4 h-4"})})]}),g?c.jsx("div",{className:"p-8 text-center",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-500 mx-auto"})}):c.jsxs("div",{className:"p-4 space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Flujo"}),c.jsx("p",{className:"font-medium",children:f.flow_name})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Telfono"}),c.jsx("p",{className:"font-medium",children:f.phone})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Mensaje trigger"}),c.jsx("p",{className:"text-sm bg-gray-100 p-2 rounded",children:f.trigger_message||"-"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Estado final"}),c.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium",style:{background:`${Hs[f.status]?.color}20`,color:Hs[f.status]?.color},children:Hs[f.status]?.label})]})]}),f.variables&&Object.keys(f.variables).length>0&&c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Variables capturadas"}),c.jsx("div",{className:"bg-gray-50 rounded-lg p-3 space-y-1",children:Object.entries(f.variables).map(([S,j])=>c.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[c.jsxs("span",{className:"font-mono text-purple-600",children:[S,":"]}),c.jsx("span",{className:"text-gray-700",children:String(j)})]},S))})]}),f.steps&&f.steps.length>0&&c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Nodos ejecutados"}),c.jsx("div",{className:"space-y-2",children:f.steps.map((S,j)=>c.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg",children:[c.jsx("div",{className:"w-6 h-6 rounded-full bg-green-100 text-green-600 flex items-center justify-center text-xs font-medium",children:j+1}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-medium text-sm",children:S.node_id}),c.jsx("span",{className:"text-xs px-2 py-0.5 bg-gray-200 rounded text-gray-600",children:S.node_type}),c.jsxs("span",{className:"text-xs text-gray-400",children:[S.duration_ms,"ms"]})]}),S.output&&c.jsx("p",{className:"text-sm text-gray-600 mt-1 break-words",children:S.output})]})]},j))})]}),f.error_message&&c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[c.jsx("p",{className:"text-xs text-red-600 font-medium mb-1",children:"Error"}),c.jsx("p",{className:"text-sm text-red-700",children:f.error_message}),f.error_node_id&&c.jsxs("p",{className:"text-xs text-red-500 mt-1",children:["En nodo: ",f.error_node_id]})]})]})]})})]})}const Ic="/api/leads";async function Fc(t,a){if(!t.ok){let i=a;try{const s=await t.json();s.error&&(i=s.error)}catch{}throw new Error(i)}return t.json()}async function BM(t={}){const a=new URLSearchParams(t).toString(),i=await fetch(`${Ic}?${a}`);return Fc(i,"Error al cargar leads")}async function HM(){const t=await fetch(`${Ic}/stats`);return Fc(t,"Error al cargar estadsticas")}async function LM(t,a){const i=await fetch(`${Ic}/${encodeURIComponent(t)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});return Fc(i,"Error al actualizar lead")}async function UM(t,a,i){const s=await fetch(`${Ic}/${encodeURIComponent(t)}/adjust-score`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({adjustment:a,reason:i})});return Fc(s,"Error al ajustar score")}const Kl={new:{label:"Nuevo",color:"#6b7280",bg:"#f3f4f6"},engaged:{label:"Interesado",color:"#3b82f6",bg:"#dbeafe"},qualified:{label:"Calificado",color:"#10b981",bg:"#d1fae5"},customer:{label:"Cliente",color:"#8b5cf6",bg:"#ede9fe"},inactive:{label:"Inactivo",color:"#9ca3af",bg:"#f9fafb"}},bx={hot:{color:"#ef4444",label:"Caliente",range:"80-100"},warm:{color:"#f59e0b",label:"Tibio",range:"50-79"},cold:{color:"#3b82f6",label:"Fro",range:"20-49"},new:{color:"#6b7280",label:"Nuevo",range:"0-19"}};function $M(t){return t>=80?"hot":t>=50?"warm":t>=20?"cold":"new"}function qM(){const t=ji(),[a,i]=C.useState([]),[s,l]=C.useState(null),[u,f]=C.useState(!0),[m,g]=C.useState(null),[p,x]=C.useState({status:"",min_score:"",search:"",sort_by:"current_score",sort_dir:"desc"});C.useEffect(()=>{y()},[]);const y=async()=>{f(!0);try{const[S,j]=await Promise.all([BM({limit:100,...p}),HM()]);i(S.leads||[]),l(j)}catch(S){console.error("Error loading leads:",S)}finally{f(!1)}},v=(S,j)=>{x(_=>({..._,[S]:j}))},N=()=>{y()},E=async(S,j)=>{try{await LM(S,{status:j}),y()}catch(_){console.error("Error updating lead:",_)}},A=async(S,j)=>{try{await UM(S,j,"Manual adjustment"),y()}catch(_){console.error("Error adjusting score:",_)}};return u?c.jsx("div",{className:"p-8 flex items-center justify-center h-full",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-500"})}):c.jsxs("div",{className:"p-8",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Gestin de Leads"}),c.jsx("p",{className:"text-gray-500 mt-1",children:"Administra y califica tus leads"})]}),c.jsxs("button",{onClick:y,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg text-gray-700 transition",children:[c.jsx(Eh,{className:"w-4 h-4"}),"Actualizar"]})]}),s&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-8",children:[c.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:[c.jsx("p",{className:"text-sm text-gray-500",children:"Total Leads"}),c.jsx("p",{className:"text-2xl font-bold text-gray-800",children:s.stats?.total_leads||0})]}),c.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:[c.jsx("p",{className:"text-sm text-gray-500",children:"Score Promedio"}),c.jsx("p",{className:"text-2xl font-bold text-blue-600",children:s.stats?.avg_score||0})]}),c.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:[c.jsx("p",{className:"text-sm text-gray-500",children:"Nuevos"}),c.jsx("p",{className:"text-2xl font-bold text-gray-600",children:s.stats?.new_leads||0})]}),c.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:[c.jsx("p",{className:"text-sm text-gray-500",children:"Calificados"}),c.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.stats?.qualified_leads||0})]}),c.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:[c.jsx("p",{className:"text-sm text-gray-500",children:"Clientes"}),c.jsx("p",{className:"text-2xl font-bold text-purple-600",children:s.stats?.customers||0})]})]}),s?.score_distribution&&c.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm mb-6",children:[c.jsx("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Distribucin de Scores"}),c.jsx("div",{className:"flex gap-4",children:Object.entries(bx).map(([S,j])=>{const _=s.score_distribution.find(w=>w.category===S)?.count||0;return c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 rounded-full",style:{background:j.color}}),c.jsxs("span",{className:"text-sm text-gray-600",children:[j.label,": ",c.jsx("strong",{children:_})]})]},S)})})]}),c.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm mb-6",children:c.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Gx,{className:"w-4 h-4 text-gray-400"}),c.jsx("span",{className:"text-sm text-gray-600",children:"Filtrar:"})]}),c.jsxs("div",{className:"relative",children:[c.jsx(Qx,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),c.jsx("input",{type:"text",value:p.search,onChange:S=>v("search",S.target.value),placeholder:"Buscar...",className:"pl-10 pr-4 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none w-48"})]}),c.jsxs("select",{value:p.status,onChange:S=>v("status",S.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none",children:[c.jsx("option",{value:"",children:"Todos los estados"}),Object.entries(Kl).map(([S,j])=>c.jsx("option",{value:S,children:j.label},S))]}),c.jsxs("select",{value:p.min_score,onChange:S=>v("min_score",S.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none",children:[c.jsx("option",{value:"",children:"Todos los scores"}),c.jsx("option",{value:"80",children:"Score 80+ (Caliente)"}),c.jsx("option",{value:"50",children:"Score 50+ (Tibio)"}),c.jsx("option",{value:"20",children:"Score 20+ (Fro)"})]}),c.jsxs("select",{value:`${p.sort_by}-${p.sort_dir}`,onChange:S=>{const[j,_]=S.target.value.split("-");v("sort_by",j),v("sort_dir",_)},className:"px-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none",children:[c.jsx("option",{value:"current_score-desc",children:"Mayor score"}),c.jsx("option",{value:"current_score-asc",children:"Menor score"}),c.jsx("option",{value:"last_interaction-desc",children:"Ms reciente"}),c.jsx("option",{value:"total_messages-desc",children:"Ms mensajes"})]}),c.jsx("button",{onClick:N,className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg text-sm transition",children:"Aplicar"})]})}),c.jsx("div",{className:"bg-white rounded-xl border border-gray-100 shadow-sm overflow-hidden",children:a.length===0?c.jsxs("div",{className:"p-12 text-center text-gray-400",children:[c.jsx(Rc,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{children:"No hay leads registrados"}),c.jsx("p",{className:"text-sm mt-1",children:"Los leads se crean automticamente cuando interactan"})]}):c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 text-left text-xs text-gray-500 uppercase tracking-wider",children:[c.jsx("th",{className:"px-4 py-3",children:"Lead"}),c.jsx("th",{className:"px-4 py-3",children:"Score"}),c.jsx("th",{className:"px-4 py-3",children:"Estado"}),c.jsx("th",{className:"px-4 py-3",children:"Mensajes"}),c.jsx("th",{className:"px-4 py-3",children:"ltima actividad"}),c.jsx("th",{className:"px-4 py-3",children:"Acciones"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-100",children:a.map(S=>{const j=$M(S.current_score),_=bx[j],w=Kl[S.status]||Kl.new;return c.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[c.jsx("td",{className:"px-4 py-3",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-green-600 font-medium",children:S.contact_name?.[0]?.toUpperCase()||S.phone.slice(-2)})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-800",children:S.contact_name||"Sin nombre"}),c.jsxs("div",{className:"text-xs text-gray-400 flex items-center gap-1",children:[c.jsx(Ac,{className:"w-3 h-3"}),S.phone]})]})]})}),c.jsx("td",{className:"px-4 py-3",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center font-bold text-sm",style:{background:`${_.color}20`,color:_.color},children:S.current_score}),c.jsxs("div",{className:"flex flex-col gap-0.5",children:[c.jsx("button",{onClick:()=>A(S.phone,5),className:"p-1 hover:bg-green-100 rounded text-green-600",title:"+5 puntos",children:c.jsx(QN,{className:"w-3 h-3"})}),c.jsx("button",{onClick:()=>A(S.phone,-5),className:"p-1 hover:bg-red-100 rounded text-red-600",title:"-5 puntos",children:c.jsx(XN,{className:"w-3 h-3"})})]})]})}),c.jsx("td",{className:"px-4 py-3",children:c.jsx("select",{value:S.status,onChange:M=>E(S.phone,M.target.value),className:"px-2 py-1 rounded-full text-xs font-medium border-0 cursor-pointer",style:{background:w.bg,color:w.color},children:Object.entries(Kl).map(([M,B])=>c.jsx("option",{value:M,children:B.label},M))})}),c.jsx("td",{className:"px-4 py-3",children:c.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[c.jsx(Sr,{className:"w-4 h-4"}),S.total_messages||S.message_count||0]})}),c.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:S.last_interaction?Oc(new Date(S.last_interaction),{addSuffix:!0,locale:Nr}):"-"}),c.jsx("td",{className:"px-4 py-3",children:c.jsx("button",{onClick:()=>t(`/conversations?phone=${encodeURIComponent(S.phone)}`),className:"p-2 hover:bg-gray-100 rounded-lg transition",title:"Ver conversacin",children:c.jsx(Xx,{className:"w-4 h-4 text-gray-400"})})})]},S.phone)})})]})})]})}const fo="/api/flow-analytics";async function ho(t,a){if(!t.ok){let i=a;try{const s=await t.json();s.error&&(i=s.error)}catch{}throw new Error(i)}return t.json()}async function VM(t=7){const a=await fetch(`${fo}/summary?days=${t}`);return ho(a,"Error al cargar resumen")}async function YM(t=14){const a=await fetch(`${fo}/timeline?days=${t}`);return ho(a,"Error al cargar timeline")}async function XM(t=7){const a=await fetch(`${fo}/by-flow?days=${t}`);return ho(a,"Error al cargar mtricas por flujo")}async function GM(t=7){const a=await fetch(`${fo}/by-hour?days=${t}`);return ho(a,"Error al cargar distribucin horaria")}async function ZM(t=7){const a=await fetch(`${fo}/trigger-types?days=${t}`);return ho(a,"Error al cargar tipos de trigger")}function QM(){const[t,a]=C.useState(null),[i,s]=C.useState([]),[l,u]=C.useState([]),[f,m]=C.useState([]),[g,p]=C.useState([]),[x,y]=C.useState(!0),[v,N]=C.useState(7);C.useEffect(()=>{E()},[v]);const E=async()=>{y(!0);try{const[j,_,w,M,B]=await Promise.all([VM(v),YM(v),XM(v),GM(v),ZM(v)]);a(j.summary),s(_.timeline||[]),u(w.flows||[]),m(M.hourly||[]),p(B.trigger_types||[])}catch(j){console.error("Error loading analytics:",j)}finally{y(!1)}};if(x)return c.jsx("div",{className:"p-8 flex items-center justify-center h-full",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-500"})});const A=Math.max(...i.map(j=>j.total),1),S=Math.max(...f.map(j=>j.executions),1);return c.jsxs("div",{className:"p-8",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Analytics de Flujos"}),c.jsx("p",{className:"text-gray-500 mt-1",children:"Mtricas y anlisis de rendimiento"})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("select",{value:v,onChange:j=>N(parseInt(j.target.value)),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none",children:[c.jsx("option",{value:7,children:"ltimos 7 das"}),c.jsx("option",{value:14,children:"ltimos 14 das"}),c.jsx("option",{value:30,children:"ltimos 30 das"})]}),c.jsxs("button",{onClick:E,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg text-gray-700 transition",children:[c.jsx(Eh,{className:"w-4 h-4"}),"Actualizar"]})]})]}),t&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[c.jsx("div",{className:"bg-white rounded-xl p-5 border border-gray-100 shadow-sm",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-500",children:"Total Ejecuciones"}),c.jsx("p",{className:"text-3xl font-bold text-gray-800 mt-1",children:t.executions.total}),c.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[t.executions.unique_users," usuarios nicos"]})]}),c.jsx("div",{className:"p-3 bg-blue-50 rounded-xl",children:c.jsx(xi,{className:"w-6 h-6 text-blue-600"})})]})}),c.jsx("div",{className:"bg-white rounded-xl p-5 border border-gray-100 shadow-sm",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-500",children:"Tasa de Completado"}),c.jsxs("p",{className:"text-3xl font-bold text-green-600 mt-1",children:[t.executions.completion_rate,"%"]}),c.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[t.executions.completed," completados"]})]}),c.jsx("div",{className:"p-3 bg-green-50 rounded-xl",children:c.jsx(fc,{className:"w-6 h-6 text-green-600"})})]})}),c.jsx("div",{className:"bg-white rounded-xl p-5 border border-gray-100 shadow-sm",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-500",children:"Fallidos"}),c.jsx("p",{className:"text-3xl font-bold text-red-500 mt-1",children:t.executions.failed}),c.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[t.executions.transferred," transferidos"]})]}),c.jsx("div",{className:"p-3 bg-red-50 rounded-xl",children:c.jsx(Nh,{className:"w-6 h-6 text-red-500"})})]})}),c.jsx("div",{className:"bg-white rounded-xl p-5 border border-gray-100 shadow-sm",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-500",children:"Tiempo Promedio"}),c.jsxs("p",{className:"text-3xl font-bold text-purple-600 mt-1",children:[t.executions.avg_duration_ms,"ms"]}),c.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[t.executions.avg_nodes," nodos promedio"]})]}),c.jsx("div",{className:"p-3 bg-purple-50 rounded-xl",children:c.jsx(hc,{className:"w-6 h-6 text-purple-600"})})]})})]}),c.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 shadow-sm p-6 mb-6",children:[c.jsxs("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[c.jsx(tE,{className:"w-5 h-5 text-gray-400"}),"Ejecuciones por da"]}),i.length===0?c.jsx("div",{className:"text-center text-gray-400 py-8",children:"No hay datos para mostrar"}):c.jsx("div",{className:"flex items-end gap-2 h-40",children:i.map((j,_)=>c.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[c.jsxs("div",{className:"w-full flex flex-col gap-0.5",style:{height:"120px"},children:[c.jsx("div",{className:"w-full bg-green-500 rounded-t",style:{height:`${j.completed/A*100}%`},title:`Completados: ${j.completed}`}),c.jsx("div",{className:"w-full bg-red-400",style:{height:`${j.failed/A*100}%`},title:`Fallidos: ${j.failed}`}),c.jsx("div",{className:"w-full bg-yellow-400 rounded-b",style:{height:`${j.transferred/A*100}%`},title:`Transferidos: ${j.transferred}`})]}),c.jsx("div",{className:"text-xs text-gray-400 mt-2",children:Dc(new Date(j.date),"dd/MM")})]},_))}),c.jsxs("div",{className:"flex items-center gap-4 mt-4 pt-4 border-t border-gray-100",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 rounded bg-green-500"}),c.jsx("span",{className:"text-xs text-gray-500",children:"Completados"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 rounded bg-red-400"}),c.jsx("span",{className:"text-xs text-gray-500",children:"Fallidos"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 rounded bg-yellow-400"}),c.jsx("span",{className:"text-xs text-gray-500",children:"Transferidos"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[c.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 shadow-sm p-6",children:[c.jsxs("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[c.jsx(Zx,{className:"w-5 h-5 text-gray-400"}),"Rendimiento por Flujo"]}),l.length===0?c.jsx("div",{className:"text-center text-gray-400 py-8",children:"No hay flujos configurados"}):c.jsx("div",{className:"space-y-3",children:l.slice(0,5).map((j,_)=>c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-100 flex items-center justify-center text-sm font-medium text-gray-600",children:_+1}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"font-medium text-gray-800 truncate",children:j.flow_name}),c.jsxs("span",{className:"text-sm text-gray-500",children:[j.recent_executions," ejecuciones"]})]}),c.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[c.jsx("div",{className:"flex-1 h-2 bg-gray-100 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-green-500",style:{width:`${j.completion_rate}%`}})}),c.jsxs("span",{className:"text-xs text-gray-400",children:[j.completion_rate,"%"]})]})]})]},j.flow_id))}),c.jsx(gi,{to:"/flows",className:"block text-center text-sm text-green-600 hover:text-green-700 mt-4 pt-4 border-t border-gray-100",children:"Ver todos los flujos"})]}),c.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 shadow-sm p-6",children:[c.jsxs("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[c.jsx(hc,{className:"w-5 h-5 text-gray-400"}),"Actividad por Hora"]}),c.jsx("div",{className:"flex items-end gap-1 h-32",children:f.map((j,_)=>c.jsx("div",{className:"flex-1 bg-blue-500 rounded-t transition-all hover:bg-blue-600",style:{height:`${j.executions/S*100}%`,minHeight:j.executions>0?"4px":"0"},title:`${j.hour}:00 - ${j.executions} ejecuciones`},_))}),c.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-2",children:[c.jsx("span",{children:"00:00"}),c.jsx("span",{children:"06:00"}),c.jsx("span",{children:"12:00"}),c.jsx("span",{children:"18:00"}),c.jsx("span",{children:"23:00"})]})]})]}),c.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 shadow-sm p-6",children:[c.jsxs("h3",{className:"font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[c.jsx(Yx,{className:"w-5 h-5 text-gray-400"}),"Distribucin por Tipo de Trigger"]}),g.length===0?c.jsx("div",{className:"text-center text-gray-400 py-8",children:"No hay datos de triggers"}):c.jsx("div",{className:"flex gap-6",children:g.map((j,_)=>{const w=["#10b981","#3b82f6","#f59e0b","#8b5cf6","#ec4899"],M=w[_%w.length],B=g.reduce((O,X)=>O+X.count,0),L=B>0?Math.round(j.count/B*100):0;return c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-2",style:{background:`${M}20`},children:c.jsxs("span",{className:"text-xl font-bold",style:{color:M},children:[L,"%"]})}),c.jsx("p",{className:"text-sm font-medium text-gray-800 capitalize",children:j.trigger_type}),c.jsxs("p",{className:"text-xs text-gray-400",children:[j.count," ejecuciones"]})]},j.trigger_type)})})]})]})}function PM(){const[t,a]=C.useState([]),[i,s]=C.useState(null),[l,u]=C.useState({running:0,connectedMonitors:0}),[f,m]=C.useState(!1);return C.useEffect(()=>{const g=new EventSource("/api/flow-monitor/stream");return g.onopen=()=>m(!0),g.onerror=()=>m(!1),g.onmessage=p=>{const x=JSON.parse(p.data);switch(x.type){case"connected":u({running:x.activeCount,connectedMonitors:0});break;case"active_execution":a(y=>y.find(N=>N.executionId===x.executionId)?y:[x,...y]);break;case"flow_started":a(y=>[x,...y]);break;case"node_started":case"node_completed":a(y=>y.map(v=>v.executionId===x.executionId?{...v,currentNodeId:x.nodeId,currentNodeType:x.nodeType,variables:x.variables,steps:x.type==="node_completed"?[...v.steps||[],{nodeId:x.nodeId,nodeType:x.nodeType,durationMs:x.durationMs,status:x.status,timestamp:x.timestamp}]:v.steps}:v));break;case"flow_completed":case"flow_error":case"flow_transferred":a(y=>y.map(v=>v.executionId===x.executionId?{...v,status:x.type.replace("flow_",""),completedAt:x.timestamp}:v));break}},()=>g.close()},[]),c.jsxs("div",{className:"h-screen flex flex-col bg-gray-50",children:[c.jsx("header",{className:"bg-white border-b px-6 py-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Monitor de Flujos"}),c.jsx("p",{className:"text-gray-500",children:"Tiempo real"})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:`w-2 h-2 rounded-full ${f?"bg-green-500":"bg-red-500"}`}),c.jsx("span",{className:"text-sm text-gray-600",children:f?"Conectado":"Desconectado"})]}),c.jsxs("div",{className:"text-sm text-gray-600",children:[t.filter(g=>!g.status).length," ejecuciones activas"]})]})]})}),c.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[c.jsxs("aside",{className:"w-80 bg-white border-r overflow-y-auto",children:[c.jsx("div",{className:"p-4 border-b",children:c.jsx("h2",{className:"font-semibold text-gray-700",children:"Ejecuciones"})}),c.jsx("div",{className:"divide-y",children:t.length===0?c.jsx("div",{className:"p-8 text-center text-gray-400",children:"Sin ejecuciones"}):t.map(g=>c.jsx("button",{onClick:()=>s(g),className:`w-full p-4 text-left hover:bg-gray-50 transition ${i?.executionId===g.executionId?"bg-green-50":""}`,children:c.jsxs("div",{className:"flex items-start justify-between gap-2",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx(Ac,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),c.jsx("span",{className:"font-mono text-sm text-gray-700 truncate",children:g.phone})]}),c.jsx("p",{className:"text-xs text-gray-500 truncate mb-1",children:g.flowName||g.flowSlug}),g.currentNodeId&&c.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[c.jsx(xi,{className:"w-3 h-3 text-green-500"}),c.jsx("span",{className:"text-gray-600",children:g.currentNodeId})]})]}),c.jsxs("div",{children:[g.status==="completed"&&c.jsx(fc,{className:"w-5 h-5 text-green-500"}),g.status==="error"&&c.jsx(Nh,{className:"w-5 h-5 text-red-500"}),g.status==="transferred"&&c.jsx(Px,{className:"w-5 h-5 text-yellow-500"}),!g.status&&c.jsx(xi,{className:"w-5 h-5 text-green-500 animate-pulse"})]})]})},g.executionId))})]}),c.jsx("main",{className:"flex-1 flex",children:i?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"flex-1 p-6 overflow-auto",children:c.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[c.jsx("h3",{className:"font-semibold text-gray-700 mb-4",children:"Ejecucin del Flujo"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-sm text-gray-500",children:"Flujo:"}),c.jsx("p",{className:"font-medium",children:i.flowName})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-sm text-gray-500",children:"Telfono:"}),c.jsx("p",{className:"font-mono text-sm",children:i.phone})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-sm text-gray-500",children:"Nodo Actual:"}),c.jsx("p",{className:"font-mono text-sm",children:i.currentNodeId||"N/A"})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-sm text-gray-500",children:"Tipo de Nodo:"}),c.jsx("p",{className:"font-mono text-sm",children:i.currentNodeType||"N/A"})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-sm text-gray-500",children:"Estado:"}),c.jsxs("p",{className:"font-medium",children:[i.status==="completed"&&"Completado ",i.status==="error"&&"Error ",i.status==="transferred"&&"Transferido ",!i.status&&"En ejecucin..."]})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-sm text-gray-500",children:"Iniciado:"}),c.jsx("p",{className:"text-sm",children:i.timestamp?new Date(i.timestamp).toLocaleString("es-CL"):"N/A"})]}),i.completedAt&&c.jsxs("div",{children:[c.jsx("span",{className:"text-sm text-gray-500",children:"Completado:"}),c.jsx("p",{className:"text-sm",children:new Date(i.completedAt).toLocaleString("es-CL")})]})]})]})}),c.jsxs("aside",{className:"w-96 bg-white border-l overflow-y-auto",children:[c.jsx("div",{className:"p-4 border-b",children:c.jsx("h2",{className:"font-semibold text-gray-700",children:"Detalles"})}),c.jsxs("div",{className:"p-4 space-y-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-600 mb-2",children:"Variables"}),c.jsx("div",{className:"bg-gray-50 rounded p-3 font-mono text-xs",children:c.jsx("pre",{className:"whitespace-pre-wrap break-words",children:JSON.stringify(i.variables||{},null,2)})})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-600 mb-2",children:"Timeline"}),c.jsx("div",{className:"space-y-2",children:i.steps&&i.steps.length>0?i.steps.map((g,p)=>c.jsxs("div",{className:"flex items-start gap-2 text-xs",children:[c.jsx(fc,{className:"w-4 h-4 text-green-500 flex-shrink-0 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium text-gray-700",children:g.nodeId}),c.jsxs("p",{className:"text-gray-500",children:[g.nodeType,"  ",g.durationMs,"ms"]}),g.timestamp&&c.jsx("p",{className:"text-gray-400",children:new Date(g.timestamp).toLocaleTimeString("es-CL")})]})]},p)):c.jsx("p",{className:"text-gray-400 text-sm",children:"Sin eventos an"})})]})]})]})]}):c.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-400",children:c.jsxs("div",{className:"text-center",children:[c.jsx(xi,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),c.jsx("p",{children:"Selecciona una ejecucin para ver detalles"})]})})})]})]})}function IM({children:t}){return kr(i=>i.isAuthenticated)?t:c.jsx(Yf,{to:"/login",replace:!0})}function FM(){return c.jsxs(wS,{children:[c.jsx(qt,{path:"/login",element:c.jsx(cE,{})}),c.jsxs(qt,{path:"/",element:c.jsx(IM,{children:c.jsx(oE,{})}),children:[c.jsx(qt,{index:!0,element:c.jsx(Yf,{to:"/dashboard",replace:!0})}),c.jsx(qt,{path:"dashboard",element:c.jsx(n_,{})}),c.jsx(qt,{path:"conversations",element:c.jsx(t4,{})}),c.jsx(qt,{path:"flows",element:c.jsx(f4,{})}),c.jsx(qt,{path:"flows/builder/:id?",element:c.jsx(RM,{})}),c.jsx(qt,{path:"logs",element:c.jsx(kM,{})}),c.jsx(qt,{path:"leads",element:c.jsx(qM,{})}),c.jsx(qt,{path:"analytics",element:c.jsx(QM,{})}),c.jsx(qt,{path:"monitor",element:c.jsx(PM,{})})]}),c.jsx(qt,{path:"*",element:c.jsx(Yf,{to:"/dashboard",replace:!0})})]})}bw.createRoot(document.getElementById("root")).render(c.jsx(gr.StrictMode,{children:c.jsx(ZS,{children:c.jsx(FM,{})})}));
